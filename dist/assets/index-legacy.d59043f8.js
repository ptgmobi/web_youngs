!function(){function e(e,t,n,i,a,r,o){try{var l=e[r](o),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(i,a)}function t(t){return function(){var n=this,i=arguments;return new Promise((function(a,r){var o=t.apply(n,i);function l(t){e(o,a,r,l,u,"next",t)}function u(t){e(o,a,r,l,u,"throw",t)}l(void 0)}))}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./vendor-legacy.d18a23a8.js","./role-legacy.7d5779f9.js","./station-legacy.730b0ea0.js","./message-legacy.305f67cf.js","./self-legacy.70334958.js","./index-legacy.d8d7bb7c.js"],(function(e){"use strict";var n,a,r,o,l,u,s,c,d,f,m,p,b,g,y,h,D,v,w,V,_;return{setters:[function(e){n=e.ad,a=e.r,r=e.h,o=e.c,l=e.f,u=e.x,s=e.g,c=e.o,d=e.y,f=e.t,m=e.F,p=e.i,b=e.q},function(e){g=e.g},function(e){y=e.g,h=e.a,D=e.s,v=e.b},function(e){w=e.m},function(e){V=e.m},function(e){_=e._}],execute:function(){var j={mixins:[V],components:{},data:function(){return{options:{role:[],pid:[],base_url:""},date:"",list:[],data:{},dialogVisible:!1,dialogType:"",busData:{item:{id:"",name:"",pid:"",role:[],base_url:""},choiceData:{}}}},computed:i({},n(["element"])),created:function(){this.getConfig(),this.getList()},methods:{getConfig:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:n=t.sent,i=n.data,e.options.role=i;case 5:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:n=t.sent,i=n.data,e.data=i,e.list=i,e.options.pid=i;case 7:case"end":return t.stop()}}),t)})))()},handleCreate:function(){this.dialogType="new",this.busData.item.type="",this.dialogVisible=!0;var e=new Date;this.date=e.getTime()},handleEdit:function(e){var n=this;return t(regeneratorRuntime.mark((function t(){var i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.dialogType="edit",n.busData.item.id=e.row.id,t.next=4,h(n.busData.item.id);case 4:i=t.sent,a=i.data,n.busData.item.id=a.position.id,n.busData.item.name=a.position.name,n.busData.item.pid=a.position.pid.toString(),n.busData.item.role=a.position_role,n.dialogVisible=!0,r=new Date,n.date=r.getTime();case 14:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){},roleChangeChoice:function(e,t){this.busData.choiceData[e]=t},clearBusData:function(){this.busData={item:{id:"",name:"",pid:"",role:[]},choiceData:{}}},submitFn:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.dialogType){t.next=7;break}return n={name:e.busData.item.name,pid:e.busData.item.pid,role_id:e.busData.item.role},t.next=4,D(n);case 4:(i=t.sent)&&w(i),e.getList();case 7:if("edit"!==e.dialogType){t.next=13;break}return a={id:e.busData.item.id,name:e.busData.item.name,role_id:e.busData.item.role},t.next=11,v(e.busData.item.id,a);case 11:(r=t.sent)&&w(r);case 13:e.clearBusData(),e.dialogVisible=!1;case 15:case"end":return t.stop()}}),t)})))()}}},k={class:"app-container"},O=d("新建"),x=d("修改"),C=d("删除"),P={slot:"footer",class:"dialog-footer"},R=d("取 消"),T=d("确 定");e("default",_(j,[["render",function(e,t,n,i,g,y){var h=a("el-button"),D=a("el-table-column"),v=a("el-table"),w=a("el-input"),V=a("el-form-item"),_=a("el-option"),j=a("el-select"),E=a("el-form"),A=a("el-dialog");return c(),r("div",k,[e.judgePermissionElementFn("A-AS-ADD-V")?(c(),o(h,{key:0,type:"primary",onClick:y.handleCreate},{default:l((function(){return[O]})),_:1},8,["onClick"])):u("v-if",!0),s(v,{data:g.list,style:{width:"100%","margin-top":"30px"},border:""},{default:l((function(){return[s(D,{align:"center",label:"ID"},{default:l((function(e){return[d(f(e.row.id),1)]})),_:1}),s(D,{align:"center",label:"Name"},{default:l((function(e){return[d(f(e.row.name),1)]})),_:1}),s(D,{align:"center",label:"Operations"},{default:l((function(t){return[e.judgePermissionElementFn("A-AS-EDIT-V")?(c(),o(h,{key:0,type:"primary",size:"small",onClick:function(e){return y.handleEdit(t)}},{default:l((function(){return[x]})),_:2},1032,["onClick"])):u("v-if",!0),e.judgePermissionElementFn("A-AS-DEL-V")?(c(),o(h,{key:1,type:"danger",size:"small",onClick:function(e){return y.handleDelete(t)}},{default:l((function(){return[C]})),_:2},1032,["onClick"])):u("v-if",!0)]})),_:1})]})),_:1},8,["data"]),s(A,{modelValue:g.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.dialogVisible=e}),title:"edit"===g.dialogType?"Edit Role":"New Role",width:"90%"},{default:l((function(){return[s(E,{"label-width":"150px","label-position":"left"},{default:l((function(){return[s(V,{label:"Name"},{default:l((function(){return[s(w,{modelValue:g.busData.item.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.busData.item.name=e}),disabled:"edit"===g.dialogType,placeholder:""},null,8,["modelValue","disabled"])]})),_:1}),s(V,{label:"PID"},{default:l((function(){return[s(j,{modelValue:g.busData.item.pid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.busData.item.pid=e}),disabled:"edit"===g.dialogType,filterable:"",class:"w100",placeholder:"请选择"},{default:l((function(){return[(c(!0),r(m,null,p(g.options.pid,(function(e){return c(),o(_,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","disabled"])]})),_:1}),s(V,{label:"Role"},{default:l((function(){return[s(j,{modelValue:g.busData.item.role,"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.busData.item.role=e}),filterable:"",multiple:"",class:"w100",placeholder:"支持多选"},{default:l((function(){return[(c(!0),r(m,null,p(g.options.role,(function(e){return c(),o(_,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),b("div",P,[s(h,{onClick:t[3]||(t[3]=function(e){return g.dialogVisible=!1})},{default:l((function(){return[R]})),_:1}),s(h,{type:"primary",onClick:y.submitFn},{default:l((function(){return[T]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue","title"])])}]]))}}}))}();
