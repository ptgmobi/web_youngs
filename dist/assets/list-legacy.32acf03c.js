!function(){function e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t,a,n,r,l,u){try{var o=e[l](u),i=o.value}catch(c){return void a(c)}o.done?t(i):Promise.resolve(i).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,l){var u=e.apply(t,a);function o(e){n(u,r,l,o,i,"next",e)}function i(e){n(u,r,l,o,i,"throw",e)}o(void 0)}))}}var l=document.createElement("style");l.innerHTML=".scale-button[data-v-ec68c14e]{transform:scale(.7)}.input-with-select[data-v-ec68c14e]{width:60px}\n",document.head.appendChild(l),System.register(["./vendor-legacy.c7165044.js","./fenix-legacy.4211f69a.js","./index-legacy.010806b3.js","./message-legacy.4667ffa4.js","./new-format-legacy.37e3d433.js","./index-legacy.75a6818a.js"],(function(e){"use strict";var a,n,l,u,o,i,c,s,d,f,p,m,v,h,b,g,w,_,y,V,D,x,k,O,C,P,j,U,R,S,A,Q,E,T,z;return{setters:[function(e){a=e.d,n=e.N,l=e.a,u=e.z,o=e.aj,i=e.ak,c=e.e,s=e.b,d=e.al,f=e.r,p=e.h,m=e.q,v=e.g,h=e.f,b=e.u,g=e.x,w=e.P,_=e.Q,y=e.o,V=e.F,D=e.i,x=e.t,k=e.y,O=e.c},function(e){C=e.g,P=e.h,j=e.i,U=e.j,R=e.k,S=e.l,A=e.m},function(e){Q=e.P},function(e){E=e.m},function(e){T=e.h},function(e){z=e._}],execute:function(){var I={class:"control-box w100 mb-10"},N={class:"mb-10"},F=k("Offer Create"),B={class:"flex jc-start flex-wrap w100"},M={class:"flex"},Z={class:"flex"},q=k("查询"),H={class:"body-box mt-10"},J={class:"flex"},K=k(". "),L=k(". "),$=k(". "),G=k(": "),W={class:"flex"},X={class:"w100 flex"},Y=a({setup:function(e){n(),l(!0),l(!1);var a=u({searchData:{adv_status:void 0,status:void 0,cvr_status:void 0,platform:void 0,attribute_provider:"",pub_name:"",offer_id:"",adv_offer:"",pkg:"",title:"",channel:"",country:"",channel_type:void 0},tableData:[],options:{status:[{value:1,label:"开"},{value:2,label:"关"}],platform:[{value:1,label:"Android"},{value:2,label:"iOS"}],attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],pub:[{id:"",pub_name:""}],channel_type:[{value:"1",label:"BUZZ"},{value:"2",label:"SDK"}],dailyCapCount:{}},pagination:{pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}});o(a,"tableData");var k=function(){var e=r(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.row,n={id:a.id,status:a.status},e.next=5,P(n);case 5:r=e.sent,E(r)||(a.status=1===a.status?2:1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=r(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.row,n={id:a.id,cvr_status:a.cvr_status},n=T(n),e.next=5,j(n);case 5:r=e.sent,E(r)||(a.cvr_status=1===a.cvr_status?2:1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=r(regeneratorRuntime.mark((function e(t){var a,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.row,n={id:a.id,target_cvr:a.target_cvr},n=T(n),e.next=5,U(n);case 5:r=e.sent,E(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=r(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,n=t.data,a.options.pub=n;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=r(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,n=t.data,a.options.dailyCapCount=n;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=r(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([ee(),te()]));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=r(regeneratorRuntime.mark((function e(){var n,r,l,u,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l in n={page:a.pagination.listQuery.page,limit:a.pagination.listQuery.limit},r=t({},a.searchData))Object.prototype.hasOwnProperty.call(r,l)&&(u=r[l])&&(n[l]=u);return e.next=5,C(n);case 5:o=e.sent,a.tableData=o.data.data,a.pagination.total=o.data.paging.count;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){ne()},le=function(){var e=r(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.row,e.next=3,A(n.id);case 3:r=e.sent,E(r)&&a.tableData.splice(t.$index,1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i((function(e,t,a){window.confirm("确认退出当前页面?")?a():a(!1)})),c((function(){})),s((function(){ae(),ne(),window.onpopstate=function(){}})),d((function(){})),function(e,t){var n=f("el-button"),r=f("router-link"),l=f("el-option"),u=f("el-select"),o=f("el-form-item"),i=f("el-input"),c=f("el-form"),s=f("el-table-column"),d=f("el-switch"),C=f("el-popconfirm"),P=f("el-table");return y(),p("div",null,[m("div",I,[m("div",N,[v(r,{to:"/fenix/offer/create"},{default:h((function(){return[v(n,{type:"primary"},{default:h((function(){return[F]})),_:1})]})),_:1})]),v(c,{inline:!0,modelValue:b(a).searchData,"onUpdate:modelValue":t[12]||(t[12]=function(e){return b(a).searchData=e}),class:"flex jc-between w100 ai-end"},{default:h((function(){return[m("div",B,[v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.adv_status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b(a).searchData.adv_status=e}),clearable:"",class:"search-con",placeholder:"Adv Status"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.status,(function(e){return y(),O(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.status,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b(a).searchData.status=e}),clearable:"",class:"search-con",placeholder:"Status"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.status,(function(e){return y(),O(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),g(' <el-form-item label="">\n            <el-select v-model="state.searchData.cvr_status" clearable class="search-con" placeholder="Cvr Status">\n              <el-option\n                v-for="item in state.options.status"\n                :key="item.value"\n                :label="item.label"\n                :value="item.value"\n              />\n            </el-select>\n          </el-form-item> '),v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.platform,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b(a).searchData.platform=e}),clearable:"",class:"search-con",placeholder:"Platform"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.platform,(function(e){return y(),O(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.attribute_provider,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b(a).searchData.attribute_provider=e}),clearable:"",class:"search-con",placeholder:"Attribute Provider"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.attribute_provider,(function(e){return y(),O(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.pub_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b(a).searchData.pub_name=e}),clearable:"",class:"search-con",placeholder:"Pub Name"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.pub,(function(e){return y(),O(l,{key:e.id,label:e.pub_name,value:e.pub_name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Offer ID",modelValue:b(a).searchData.offer_id,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b(a).searchData.offer_id=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Adv Offer",modelValue:b(a).searchData.adv_offer,"onUpdate:modelValue":t[6]||(t[6]=function(e){return b(a).searchData.adv_offer=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Pachage Name",modelValue:b(a).searchData.pkg,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b(a).searchData.pkg=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Offer Title",modelValue:b(a).searchData.title,"onUpdate:modelValue":t[8]||(t[8]=function(e){return b(a).searchData.title=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Channel",modelValue:b(a).searchData.channel,"onUpdate:modelValue":t[9]||(t[9]=function(e){return b(a).searchData.channel=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(i,{placeholder:"Country",modelValue:b(a).searchData.country,"onUpdate:modelValue":t[10]||(t[10]=function(e){return b(a).searchData.country=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),v(o,{label:""},{default:h((function(){return[v(u,{modelValue:b(a).searchData.channel_type,"onUpdate:modelValue":t[11]||(t[11]=function(e){return b(a).searchData.channel_type=e}),clearable:"",class:"search-con",placeholder:"Channel Type"},{default:h((function(){return[(y(!0),p(V,null,D(b(a).options.channel_type,(function(e){return y(),O(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]),m("div",M,[v(o,{class:"mr-0",style:{"margin-right":"0px"}},{default:h((function(){return[m("div",Z,[v(n,{type:"primary",onClick:re},{default:h((function(){return[q]})),_:1}),g(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])]})),_:1})])]})),_:1},8,["modelValue"]),g(' <el-input placeholder="请输入内容" v-model="searchData.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),g(" table "),m("div",H,[v(P,{data:b(a).tableData,height:"600",style:{width:"100%"},border:""},{default:h((function(){return[v(s,{fixed:"",prop:"offer_id",label:"Offer ID",align:"center",width:"60"}),v(s,{fixed:"",prop:"adv_offer",label:"Adv Offer",align:"center",width:"87"}),v(s,{fixed:"",prop:"channel",label:"Channel",align:"center",width:"42"}),v(s,{prop:"revenue",label:"Revenue",align:"center",width:"45"}),v(s,{prop:"pkg",label:"Package Name",align:"center",width:"100"}),v(s,{prop:"title",label:"Offer Title",align:"center",width:"90"}),v(s,{prop:"pid",label:"Pid",align:"center",width:"77"}),v(s,{prop:"country",label:"Country",align:"center",width:"40"}),v(s,{label:"Adv Status",align:"center",width:"47"},{default:h((function(e){return[m("div",null,[m("span",null,x(1===e.row.adv_status?"开":"关"),1)])]})),_:1}),v(s,{prop:"click_w",label:"Click*w",align:"center",width:"55"}),v(s,{prop:"installs",label:"Installs",align:"center",width:"50"}),v(s,{prop:"cvr_w",label:"Cvr*w",align:"center",width:"48"}),v(s,{label:"Target Cvr*w",align:"center",width:"150"},{default:h((function(e){return[m("div",J,[v(i,{modelValue:e.row.target_cvr,"onUpdate:modelValue":function(t){return e.row.target_cvr=t},placeholder:"Please input",class:"input-with-select mr-5"},null,8,["modelValue","onUpdate:modelValue"]),v(n,{class:"mr-5 scale-button",type:"default",icon:"Edit",circle:"",onClick:function(t){return Y(e)}},null,8,["onClick"]),v(d,{class:"scale-button",modelValue:e.row.cvr_status,"onUpdate:modelValue":function(t){return e.row.cvr_status=t},"active-value":1,"inactive-value":2,onChange:function(t){return z(e)}},null,8,["modelValue","onUpdate:modelValue","onChange"])])]})),_:1}),v(s,{label:"Traffic Data",align:"center",width:"190"},{default:h((function(e){return[e.row.traffic?(y(!0),p(V,{key:0},D(JSON.parse(e.row.traffic),(function(t){return y(),p("div",null,[m("span",null,x(1===t.pub_status?"开":"关"),1),K,m("span",null,x(t.pub),1),L,m("span",null,x(t.payout),1),$,m("span",null,x(t.cap_daily),1),G,m("span",null,x((n=e.row,r=t,l="".concat(n.channel,"_").concat(n.adv_offer,"_").concat(n.country,"_").concat(r.slotid),a.options.dailyCapCount[l])),1)]);var n,r,l})),256)):g("v-if",!0)]})),_:1}),v(s,{label:"Operation",align:"center",width:"130"},{default:h((function(e){return[v(r,{to:(t=e,a=t.row.id,"/fenix/offer/edit/".concat(a))},{default:h((function(){return[v(n,{class:"cp mr-5",type:"primary",icon:"Edit",circle:""})]})),_:2},1032,["to"]),v(d,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t},"active-value":1,"inactive-value":2,class:"mr-5",onChange:function(t){return k(e)}},null,8,["modelValue","onUpdate:modelValue","onChange"]),v(C,{title:"删除后无法再生成该Offer ID，请谨慎操作！",onConfirm:function(t){return le(e)}},{reference:h((function(){return[v(n,{type:"danger",icon:"Delete",circle:""})]})),_:2},1032,["onConfirm"])];var t,a})),_:1}),v(s,{label:"Platform",align:"center",width:"55"},{default:h((function(e){return[m("div",null,[m("span",null,x(1===e.row.platform?"Android":"iOS"),1)])]})),_:1}),v(s,{prop:"attribute_provider",label:"Attribute Provider",align:"center",width:"80"}),v(s,{label:"Record",align:"center",width:"52"},{default:h((function(e){return[v(n,{class:"scale-button",icon:"View",circle:""})]})),_:1}),v(s,{label:"Comment",align:"center",width:"150"},{default:h((function(e){return[m("div",W,[v(i,{modelValue:e.row.description,"onUpdate:modelValue":function(t){return e.row.description=t},placeholder:"Please input",class:"input-with-select mr-5"},null,8,["modelValue","onUpdate:modelValue"]),v(n,{class:"scale-button",type:"default",icon:"Edit",circle:""})])]})),_:1})]})),_:1},8,["data"])]),g(" 分页 "),m("div",X,[w(v(b(Q),{total:b(a).pagination.total,"page-sizes":b(a).pagination.pageSizes,page:b(a).pagination.listQuery.page,"onUpdate:page":t[13]||(t[13]=function(e){return b(a).pagination.listQuery.page=e}),limit:b(a).pagination.listQuery.limit,"onUpdate:limit":t[14]||(t[14]=function(e){return b(a).pagination.listQuery.limit=e}),onPagination:ne},null,8,["total","page-sizes","page","limit"]),[[_,b(a).pagination.total]])])])}}});e("default",z(Y,[["__scopeId","data-v-ec68c14e"]]))}}}))}();
