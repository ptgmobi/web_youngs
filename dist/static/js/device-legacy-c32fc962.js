!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}System.register(["./index-legacy-2e491912.js","./vendor-legacy-9167ff01.js","./format-legacy-aa82f332.js","./lodash-legacy-2919d6da.js"],(function(e){"use strict";var r,n,o,a,u,l,s,c,i,f,d,p,b,m,g,h;return{setters:[function(t){r=t.k},function(t){n=t.d,o=t.y,a=t.w,u=t.B,l=t.r,s=t.o,c=t.i,i=t.s,f=t.v,d=t.f,p=t.h,b=t.x,m=t.t},function(t){g=t.t},function(t){h=t._}],execute:function(){e({A:function(t){return r({url:"/obuzz",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},a:function(t){return r({url:"/obuzz/offer-max-clk",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},b:function(t){return r({url:"/obuzz/edit-clk-limit",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},c:function(t){return r({url:"/obuzz/status",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},d:function(t){return r({url:"/obuzz/offer-device",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},e:function(t){return r({url:"/obuzz/device",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},f:function(t){return r({url:"/obuzz",data:t,method:"post",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},g:function(t){return r({url:"/obuzz",data:t,method:"put",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},h:function(){return r({url:"/obuzz/edit-config",method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},i:function(t){return r({url:"/obuzz/view/".concat(t),method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},j:function(t){return r({url:"/obuzz/copy",method:"get",data:t,bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})}});var v={class:"full"},A={class:"w100 flex mt-20"},y=i("span",null,"选中合计：",-1),w=["textContent"];e("_",n({props:{all:{require:!0,default:function(){return{}},type:Object},select:{require:!0,default:function(){return{}},type:Object}},emits:["kk","up"],setup:function(e,r){var n=r.emit,z=e,j=[],_=o({search:{id:""},test:"",set:new Set,setObj:{},spanArr:j,all:j,select:j,statisticsCount:0}),E=function(){var e=t(_.set).map((function(t){return t=[t,!1]}));_.setObj=Object.fromEntries(e),O()},O=function(){Object.keys(_.setObj).forEach((function(t){var e=[];_.all.forEach((function(r){r.source===t&&e.push(r.select_status)})),_.setObj[t]=!0,e.includes(!1)&&(_.setObj[t]=!1)})),L()},L=function(){var t=_.all.reduce((function(t,e){return e.select_status?t+parseInt(e.device_count):t}),0);_.statisticsCount=g(t)},M=function(){var t=[];_.all.forEach((function(e){e.select_status&&(t.push({source:e.source,label:e.label}),parseInt(e.device_count))})),n("kk",t)},x=function(t,e){_.spanArr=[];for(var r=0,n=0;n<t.length;n++)0===n?_.spanArr.push(1):t[n][e]===t[n-1][e]?(_.spanArr[r]+=1,_.spanArr.push(0)):(_.spanArr.push(1),r=n)},C=function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var r=_.spanArr[e];return{rowspan:r,colspan:r>0?1:0}}};return a((function(){return z.all}),(function(t,e){z.all&&z.all.length>0&&(_.all=h.cloneDeep(z.all),_.select=h.cloneDeep(z.select),_.set=new Set,_.all.map((function(t){return t.select_status=!1,_.set.add(t.source),_.select.map((function(e){return t.source===e.source&&t.label===e.label&&(t.select_status=!0),t})),t})),_.all.sort((function(t,e){return t.label>e.label?1:t.label<e.label?-1:1})),_.all.sort((function(t,e){return t.source>e.source?1:t.source<e.source?-1:1})),x(_.all,"source"),E())}),{immediate:!0}),u((function(){})),function(t,e){var r=l("el-checkbox"),n=l("el-table-column"),o=l("el-table");return s(),c("div",null,[i("div",v,[f(o,{data:p(_).all,"span-method":C,border:"",style:{width:"100%","margin-top":"20px"}},{default:d((function(){return[f(n,{prop:"source",label:"Source",width:"180"},{default:d((function(t){return[f(r,{modelValue:p(_).setObj[t.row.source],"onUpdate:modelValue":function(e){return p(_).setObj[t.row.source]=e},onChange:function(e){return r=t.row.source,n=p(_).setObj[t.row.source],_.all.map((function(t){t.source===r&&(t.select_status=n)})),O(),void M();var r,n}},{default:d((function(){return[b(m(t.row.source),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),f(n,{prop:"label",label:"Label"}),f(n,{prop:"slot_id",label:"Slot ID"}),f(n,{prop:"device_count",label:"Count"},{default:d((function(t){return[i("span",null,m(p(g)(t.row.device_count)),1)]})),_:1}),f(n,{prop:"select",label:"Select"},{default:d((function(t){return[f(r,{modelValue:t.row.select_status,"onUpdate:modelValue":function(e){return t.row.select_status=e},onChange:function(e){return t.row,O(),void M()}},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1})]})),_:1},8,["data"]),i("div",A,[y,i("span",{textContent:m(p(_).statisticsCount)},null,8,w)])])])}}}))}}}))}();
