import{d as a,r as e,a0 as l,L as t,q as s,o as d,c as r,e as o,s as u,z as n,v as m,N as c,O as i,A as p,K as v,x as f,P as b}from"./main-dae9cd13.js";import{g as x,a as h}from"./format-fb65a074.js";import{A as V}from"./dsp-advertiser-7caa14fa.js";import{u as y}from"./dsp-08c3581e.js";const Y={class:"mb-10 search-box flex jc-between ai-start"},_=f("div",{class:"button-box"},null,-1),j=a({emits:["up"],setup(a,{emit:f}){const j=y().topsearch;let{adv:D,date:g}=j,w=e({adv:D,date:g||[]}),M=e([{text:"今天",value:x(0,"day")},{text:"昨天",value:()=>h(1,1,"day")},{text:"最近7天",value:()=>x(6,"day")},{text:"最近30天",value:()=>x(29,"day")}]),k=e({advertiser:[{adv_id:"",name:""}]});l((()=>{const a={adv:w.adv,date:b(w.date)};y().setSearchData(a),f("up",a),y().topsearch}));const U=async()=>{await(async()=>{const{data:{data:a}}=await V({page:1,limit:1e4});k.advertiser=a})()};return t((()=>{U()})),(a,e)=>{const l=s("el-option"),t=s("el-select"),f=s("el-form-item"),b=s("el-date-picker"),x=s("el-form");return d(),r("div",Y,[_,o(x,{modelValue:m(w),"onUpdate:modelValue":e[2]||(e[2]=a=>v(w)?w.value=a:w=a),inline:!0,class:"flex w100 ai-start jc-end"},{default:u((()=>[n(" 广告主 "),o(f,{label:""},{default:u((()=>[o(t,{modelValue:m(w).adv,"onUpdate:modelValue":e[0]||(e[0]=a=>m(w).adv=a),filterable:"",clearable:"",placeholder:"请选择广告主"},{default:u((()=>[(d(!0),r(c,null,i(m(k).advertiser,(a=>(d(),p(l,{key:a.adv_id,label:a.name,value:a.adv_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),o(f,null,{default:u((()=>[n(" 日期 "),o(b,{modelValue:m(w).date,"onUpdate:modelValue":e[1]||(e[1]=a=>m(w).date=a),class:"mr-10 mb-10",type:"daterange","unlink-panels":"",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:m(M),clearable:!1},null,8,["modelValue","shortcuts"])])),_:1})])),_:1},8,["modelValue"])])}}});export{j as _};
