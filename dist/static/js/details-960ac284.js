var e=Object.defineProperty,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(l,r,t)=>r in l?e(l,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[r]=t,a=(e,a)=>{for(var i in a||(a={}))r.call(a,i)&&o(e,i,a[i]);if(l)for(var i of l(a))t.call(a,i)&&o(e,i,a[i]);return e};import{d as i,y as u,B as d,r as n,o as s,i as c,v as m,f as p,h as f,s as _,g as b,F as v,x as y,N as g,a as F,w as h,b as k,ak as V,t as w,j as x,c as U,l as D,E as R}from"./vendor-29be9345.js";import{c as j,d as S,e as C,f as E,_ as q,g as O}from"./device-f74f8a74.js";import{m as A}from"./message-30c5e552.js";import"./index-9f72a6d4.js";import"./format-bcf1fb2b.js";import"./moment-1cf83a0b.js";const N=y("添加"),P=y("删除"),z={class:"dialog-footer mt-10"},I=y("清 空"),M=y("确 定"),L=i({props:{msg:{require:!0,default:()=>"",type:Array}},emits:["kk","up"],setup(e,{emit:l}){const r="此项必填";const t=e=>{let l=new RegExp(/\n+/),r=new RegExp(/[\S]+/),t=e.split(l),o=!0,a=[];return t.forEach(((e,l)=>{if(e&&r.test(e)){let l=e.trim().split(/\s+/);if(2===l.length){let e={diy_siteid:l[0],weight:l[1]};a.push(e)}else o=!1}else o=!1})),o?a:[]};let o=u({siteData:e.msg,siteRules:{site:[{required:!0,validator:(e,l,o)=>{if(""!==l){const e=t(l);o(e?void 0:new Error("格式错误！"))}else o(new Error(r))},trigger:"blur"}]},siteRuleForm:{site:""}});const a=()=>{o.siteData=[...t(o.siteRuleForm.site)]},i=()=>{o.siteData=[]},y=()=>{l("kk",o.siteData)};return d((()=>{})),(e,l)=>{const r=n("el-input"),t=n("el-form-item"),u=n("el-button"),d=n("el-form"),g=n("el-table-column"),F=n("el-table");return s(),c(v,null,[m(d,{enctype:"multipart/form-data",ref:"siteRuleForm",rules:f(o).siteRules,model:f(o).siteRuleForm,"label-position":"right"},{default:p((()=>[m(t,{label:"diy_siteid:",prop:"site"},{default:p((()=>[m(r,{class:"w100",type:"textarea",modelValue:f(o).siteRuleForm.site,"onUpdate:modelValue":l[0]||(l[0]=e=>f(o).siteRuleForm.site=e),rows:4,placeholder:""},null,8,["modelValue"])])),_:1}),m(t,null,{default:p((()=>[m(u,{type:"primary",onClick:a},{default:p((()=>[N])),_:1})])),_:1})])),_:1},8,["rules","model"]),m(F,{data:f(o).siteData},{default:p((()=>[m(g,{align:"center",property:"diy_siteid",label:"diy_siteid"}),m(g,{align:"center",property:"weight",label:"权重"}),m(g,{align:"center",label:"操作"},{default:p((e=>[m(u,{type:"danger",onClick:l=>{return e.row,r=e.$index,void o.siteData.splice(r,1);var r}},{default:p((()=>[P])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),_("span",z,[b(' <el-button @click="cancleDevice">取 消</el-button> '),m(u,{type:"primary",onClick:i},{default:p((()=>[I])),_:1}),m(u,{type:"primary",onClick:y},{default:p((()=>[M])),_:1})])],64)}}}),T={class:"content-con flex column"},$={class:"flex jc-start form-one radio-box"},H=["textContent"],J={class:"form-one flex jc-start"},B={class:"dn"},K={class:"form-one flex jc-start"},G=y("CPI"),Q=y("CPA"),W={class:"flex jc-start form-one"},X=["textContent"],Y={class:"flex jc-start form-one"},Z={class:"flex form-one jc-start radio-box"},ee=y("Slot_ID"),le=y("Update(Hours)"),re={class:"flex jc-start form-one jc-start radio-box"},te=y("Real"),oe=y("Virtual"),ae={class:"w100 flex"},ie=y("Save"),ue={slot:"footer",class:"dialog-footer"},de=y("确 定"),ne=i({setup(e){let{proxy:l}=D();const r=g(),t="此项必填";let o=u({offer:{},index:null,cacheDevice:{}}),i=F(""),y=F(0),N=F([0,100]),P=u({dialogVisibleDevice:!1,dialogVisibleSite:!1,search:{id:"",baseDeviceSelect:{},deviceData:{all:[],select:[],count:0}},type:"1",params:"",loading:!0,options:{channel:[],attribute_provider:["AppsFlyer","Branch","Adjust","Singular","AppMetrica"],time:[-1,...[...new Array(24)].map(((e,l)=>l))],platform:[{value:1,label:"Android"},{value:2,label:"iOS"}],country:[],site_id:["0.2","0.4","0.6","1","2","4","8","24","72","168"],category:[],devices:[]},ruleForm:{type:"",id:"",offer_id:void 0,operation_type:"",channel:"",copy_offer:"",attribute_provider:"AppsFlyer",title:"",tracking_link:"",pid:"",pkg_name:"",conversion_flow:"",event_name:"",payout:void 0,platform:"",country:"",max_clk_num:void 0,site_clk_limit:void 0,site_install_limitation:void 0,start_hour:"-1",end_hour:"-1",device:[],cutoff_start:void 0,cutoff_end:void 0,diy_siteid:"",site_id:"",hour:void 0,clk_id:"",site_clk_id:"",note:""},rules:{channel:[{required:!0,message:t,trigger:["blur","change"]}],attribute_provider:[{required:!0,message:t,trigger:["blur","change"]}],title:[{required:!0,message:t,trigger:["blur","change"]}],tracking_link:[{required:!0,message:t,trigger:["blur","change"]},{validator:(e,l,r)=>{let t=/^http/;new RegExp("\\s+","g").test(l)?r(new Error("链接中有空格")):t.test(l)?(l.includes("af_installpostback")&&r(new Error("Traking Link中不允许出现af_installpostback关键字")),"AppsFlyer"===P.ruleForm.attribute_provider?l.includes(P.ruleForm.pkg_name)?r(void 0):r(new Error("Attribute Provider:为Appsflyer时Package Name的值必须包含在Traking Link中")):r(void 0)):r(new Error("请以http开头")),r(void 0)}}],pkg_name:[{required:!0,message:t,trigger:["blur","change"]},{validator:(e,l,r)=>{"AppsFlyer"===P.ruleForm.attribute_provider?P.ruleForm.tracking_link.includes(P.ruleForm.pkg_name)?r(void 0):r(new Error("Attribute Provider:为Appsflyer时Package Name的值必须包含在Traking Link中")):r(void 0)}}],conversion_flow:[{required:!0,message:t,trigger:["blur","change"]}],event_name:[{required:!0,message:t,trigger:["blur","change"]},{validator:(e,l,r)=>{"1"===P.ruleForm.conversion_flow?r(void 0):r(l?void 0:new Error(t))}}],payout:[{required:!0,message:t,trigger:["blur","change"]}],platform:[{required:!0,message:t,trigger:["blur","change"]}],country:[{required:!0,message:t,trigger:["blur","change"]}],max_clk_num:[{required:!0,message:t,trigger:["blur","change"]}],device:[{required:!0,validator:(e,l,r)=>{r(void 0)},trigger:["blur","change"]}],site_id:[{required:!0,validator:(e,l,r)=>{l?"1"===l||P.ruleForm.hour?r(void 0):r(new Error("请选择具体数值")):r(new Error(t))},trigger:["blur","change"]}],clk_id:[{required:!0,message:t,trigger:["blur","change"]}],start_hour:[{required:!1,validator:(e,l,r)=>{""!==l&&(""===P.ruleForm.end_hour?r(new Error(t)):r(void 0))},trigger:["blur","change"]}],end_hour:[{required:!1,validator:(e,l,r)=>{""!==l&&(""===P.ruleForm.start_hour?r(new Error(t)):r(void 0))},trigger:["blur","change"]}],cutoff_start:[{required:!0,trigger:["blur","change"]}],cutoff_end:[{required:!0,trigger:["blur","change"]}]},siteData:[]});const z=()=>{P.dialogVisibleSite=!0;const e=P.ruleForm.diy_siteid?JSON.parse(P.ruleForm.diy_siteid):[];P.siteData=e},I=()=>{M("ruleForm")},M=e=>{l.$refs[e].validate((e=>{if(!e)return!1;ne()}))},ne=async()=>{let e;P.ruleForm;let r=a({},P.ruleForm);r.clk_id=parseFloat(r.clk_id),r.conversion_flow=parseFloat(r.conversion_flow),r.cutoff_end=parseFloat(r.cutoff_end),r.cutoff_start=parseFloat(r.cutoff_start),r.end_hour=parseFloat(r.end_hour),r.start_hour=parseFloat(r.start_hour),r.hour=parseFloat(r.hour),r.max_clk_num=parseFloat(r.max_clk_num),r.payout=parseFloat(r.payout),r.platform=parseFloat(r.platform),r.site_clk_id=parseFloat(r.site_clk_id),r.site_clk_limit=parseFloat(r.site_clk_limit),r.site_id=parseFloat(r.site_id),r.site_install_limitation=parseFloat(r.site_install_limitation),r.diy_siteid=JSON.stringify(r.diy_siteid),r.device=JSON.stringify(r.device),"create"===i.value&&(delete r.id,delete r.offer_id,e=await j(r)),"edit"===i.value&&(e=await S(r)),A(e)&&l.$router.push({path:"/adnetwork/buzz"})},se=e=>{P.ruleForm.diy_siteid=e,P.dialogVisibleSite=!1},ce=e=>{o.cacheDevice.select=e},me=()=>{o.offer.id,o.cacheDevice.select};h(N,((e,l)=>{(e=>{P.ruleForm.cutoff_start=e[0]/100,P.ruleForm.cutoff_end=e[1]/100})(e)}),{immediate:!0});k((()=>{const e=y.value,l=P.ruleForm.cutoff_start,r=P.ruleForm.cutoff_end;return{judge:((Number(r)-Number(l))*Number(e)).toFixed(0),all:Number(e).toFixed(0)}}));const pe=async e=>{const l=await O(e),{data:r}=l;return 0!==r.length?r[0].device_num:0};V((()=>{(async()=>{const e=P.ruleForm.pkg_name,l=P.ruleForm.country,r=P.ruleForm.platform,t={pkg_name:e,country:l,platform:r};if(e&&l&&r){const e=await pe(t);y.value=e}})()}));const fe=async()=>{const e=r.currentRoute.value.params.id,l=await E(e.toString()),{data:t}=l;P.ruleForm=((e,l)=>{let r={};"2"===l.type&&(r.id=e.id,r.offer_id=e.offer_id),r=a(a({},e),l);let t=null===e.diy_siteid||""===e.diy_siteid?[]:e.diy_siteid;return P.siteData=t,r})(t,{type:P.ruleForm.type,isCopy:!1});o.cacheDevice={select:[{id:"627909",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"by",slot_id:"37641287",device_count:"3092161"},{id:"628270",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bz",slot_id:"19760998",device_count:"894270"},{id:"627595",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cy",slot_id:"78317974",device_count:"5650213"},{id:"627755",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cz",slot_id:"35082647",device_count:"2579008"},{id:"627664",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dy",slot_id:"46634509",device_count:"17162151"},{id:"628339",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dz",slot_id:"33488006",device_count:"20869879"}],all:[{id:"627657",day:"2022-01-11",platform:"1",country:"RU",source:"adx",label:"aw",slot_id:"57351627",device_count:"3094129"},{id:"628012",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"ax",slot_id:"35653768",device_count:"2276277"},{id:"627689",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"ay",slot_id:"44225907",device_count:"1219696"},{id:"627706",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"az",slot_id:"33347536",device_count:"182883"},{id:"627434",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"bw",slot_id:"66660203",device_count:"3313520"},{id:"628046",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"cw",slot_id:"14372948",device_count:"2841368"},{id:"627753",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bx",slot_id:"59188090",device_count:"3168514"},{id:"627909",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"by",slot_id:"37641287",device_count:"3092161"},{id:"628270",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bz",slot_id:"19760998",device_count:"894270"},{id:"627732",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cx",slot_id:"99431779",device_count:"4906792"},{id:"627595",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cy",slot_id:"78317974",device_count:"5650213"},{id:"627755",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cz",slot_id:"35082647",device_count:"2579008"},{id:"628057",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dw",slot_id:"66196474",device_count:"4170112"},{id:"627426",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dx",slot_id:"43347563",device_count:"7879852"},{id:"627664",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dy",slot_id:"46634509",device_count:"17162151"},{id:"628339",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dz",slot_id:"33488006",device_count:"20869879"}]},o.offer=t[0],N.value=[100*Number(P.ruleForm.cutoff_start),100*Number(P.ruleForm.cutoff_end)]},_e=()=>{P.ruleForm.platform&&P.ruleForm.country?P.dialogVisibleDevice=!0:R.error("请提前选择平台和国家")},be=()=>{},ve=k((()=>{const e=P.ruleForm.tracking_link,l=P.ruleForm.attribute_provider;let r="";if("AppsFlyer"===l){const l=/pid=([\s\S]*)_int/g,t=[...e.matchAll(l)];if(0!==t.length)return r=t[0][1],P.ruleForm.pid=r,r}if("Adjust"===l){const l=/https:\/\/app.adjust.com\/([\s\S]*)\?/g,t=[...e.matchAll(l)];if(0!==t.length)return r=t[0][1],P.ruleForm.pid=r,r}return P.ruleForm.pid=r,r})),ye=k((()=>{let e=0;if(o.cacheDevice.hasOwnProperty("all")&&o.cacheDevice.hasOwnProperty("select")){let l=o.cacheDevice.all,r=o.cacheDevice.select;0!==l.length&&0!==r.length&&l.forEach((l=>{r.forEach((r=>{l.source===r.source&&l.label===r.label&&(e+=parseInt(l.device_count))}))})),P.search.deviceData.count=e}return null!=e?e:P.search.deviceData.count}));return d((()=>{(async()=>{const e=await C();if(e){const{data:l}=e;return P.options.channel=Object.values(l.channel),P.options.country=Object.values(l.country),"获取配置成功"}})(),i.value=r.currentRoute.value.name,i.value,"buzz-old-create"===i.value&&(P.ruleForm.operation_type="1",P.ruleForm.type="1"),"buzz-old-edit"===i.value&&(P.ruleForm.operation_type="2",P.ruleForm.type="2",fe())})),(e,l)=>{const r=n("el-form-item"),t=n("el-option"),a=n("el-select"),i=n("el-button"),u=n("el-input"),d=n("el-radio"),y=n("el-form"),g=n("el-dialog");return s(),c("div",null,[b(" form "),m(y,{enctype:"multipart/form-data",ref:"ruleForm",rules:f(P).rules,model:f(P).ruleForm,"label-width":"240px","label-position":"right"},{default:p((()=>[_("div",T,[b(" offer_id "),m(r,{label:"Offer ID:",prop:"offer_id"},{default:p((()=>[_("div",$,[_("span",{textContent:w(f(P).ruleForm.offer_id)},null,8,H)])])),_:1}),b(" channel "),m(r,{label:"Channel:",prop:"channel"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.channel,"onUpdate:modelValue":l[0]||(l[0]=e=>f(P).ruleForm.channel=e),clearable:"",placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.channel,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" copy_offer "),m(r,{label:"Copy Offer:",prop:"copy_offer"},{default:p((()=>[m(u,{class:"form-one copy-btn search-input",placeholder:"",modelValue:f(P).ruleForm.copy_offer,"onUpdate:modelValue":l[1]||(l[1]=e=>f(P).ruleForm.copy_offer=e),modelModifiers:{trim:!0}},{append:p((()=>[m(i,{type:"primary",slot:"append",icon:"Search",onClick:be})])),_:1},8,["modelValue"])])),_:1}),b(" attribute_provider "),m(r,{label:"Attribute Provider:",prop:"attribute_provider"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.attribute_provider,"onUpdate:modelValue":l[2]||(l[2]=e=>f(P).ruleForm.attribute_provider=e),clearable:"",placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.attribute_provider,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" title "),m(r,{label:"Offer Title:",prop:"title"},{default:p((()=>[m(u,{class:"form-one",type:"text",modelValue:f(P).ruleForm.title,"onUpdate:modelValue":l[3]||(l[3]=e=>f(P).ruleForm.title=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1}),b(" tracking_link "),b(" 此处需要去除空格和制表符 "),m(r,{class:"mb-30",label:"Traking Link:",prop:"tracking_link"},{default:p((()=>[m(u,{class:"form-one",type:"textarea",modelValue:f(P).ruleForm.tracking_link,"onUpdate:modelValue":l[4]||(l[4]=e=>f(P).ruleForm.tracking_link=e),modelModifiers:{trim:!0},autosize:{minRows:8,maxRows:80},placeholder:""},null,8,["modelValue"])])),_:1}),b(" pid "),m(r,{label:"Pid:",prop:"pid"},{default:p((()=>[_("div",J,[_("span",null,w(f(ve)),1),_("span",B,w(f(P).ruleForm.pid),1)])])),_:1}),b(" pkg_name "),m(r,{label:"Package Name:",prop:"pkg_name"},{default:p((()=>[m(u,{class:"form-one",type:"text",modelValue:f(P).ruleForm.pkg_name,"onUpdate:modelValue":l[5]||(l[5]=e=>f(P).ruleForm.pkg_name=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1}),b(" conversion_flow_type "),m(r,{label:"Conversion Flow:",prop:"conversion_flow"},{default:p((()=>[_("div",K,[m(d,{modelValue:f(P).ruleForm.conversion_flow,"onUpdate:modelValue":l[6]||(l[6]=e=>f(P).ruleForm.conversion_flow=e),label:1},{default:p((()=>[G])),_:1},8,["modelValue"]),m(d,{modelValue:f(P).ruleForm.conversion_flow,"onUpdate:modelValue":l[7]||(l[7]=e=>f(P).ruleForm.conversion_flow=e),label:2},{default:p((()=>[Q])),_:1},8,["modelValue"])])])),_:1}),b(" conversion_flow "),2===f(P).ruleForm.conversion_flow?(s(),U(r,{key:0,label:"Event Name:",prop:"event_name"},{default:p((()=>[m(u,{class:"form-one",type:"text",modelValue:f(P).ruleForm.event_name,"onUpdate:modelValue":l[8]||(l[8]=e=>f(P).ruleForm.event_name=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1})):b("v-if",!0),b(" payout "),m(r,{label:"Payout($):",prop:"payout"},{default:p((()=>[m(u,{class:"form-one",type:"number",modelValue:f(P).ruleForm.payout,"onUpdate:modelValue":l[9]||(l[9]=e=>f(P).ruleForm.payout=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1}),b(" platform "),m(r,{label:"Select Platform:",prop:"platform"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.platform,"onUpdate:modelValue":l[10]||(l[10]=e=>f(P).ruleForm.platform=e),clearable:"",placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.platform,(e=>(s(),U(t,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" country "),m(r,{label:"Targeting Countries:",prop:"country"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.country,"onUpdate:modelValue":l[11]||(l[11]=e=>f(P).ruleForm.country=e),clearable:"",placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.country,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" max_clk_num "),m(r,{label:"Click Limitation(w):",prop:"max_clk_num"},{default:p((()=>[m(u,{class:"form-one",type:"number",modelValue:f(P).ruleForm.max_clk_num,"onUpdate:modelValue":l[12]||(l[12]=e=>f(P).ruleForm.max_clk_num=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1}),b(" Site Click Limitation "),m(r,{label:"Site Click Limitation:",prop:"site_clk_limit"},{default:p((()=>[m(u,{class:"form-one",type:"number",modelValue:f(P).ruleForm.site_clk_limit,"onUpdate:modelValue":l[13]||(l[13]=e=>f(P).ruleForm.site_clk_limit=e),modelModifiers:{trim:!0},placeholder:""},null,8,["modelValue"])])),_:1}),b(" start_hour "),m(r,{label:"Start Hour:",prop:"start_hour"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.start_hour,"onUpdate:modelValue":l[14]||(l[14]=e=>f(P).ruleForm.start_hour=e),placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.time,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" end_hour "),m(r,{label:"End Hour:",prop:"end_hour"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.end_hour,"onUpdate:modelValue":l[15]||(l[15]=e=>f(P).ruleForm.end_hour=e),placeholder:""},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.time,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(" site_install_limitation"),m(r,{label:"Site Install Limitation:",prop:"site_install_limitation"},{default:p((()=>[m(a,{filterable:"",class:"form-one",modelValue:f(P).ruleForm.site_install_limitation,"onUpdate:modelValue":l[16]||(l[16]=e=>f(P).ruleForm.site_install_limitation=e),clearable:"",placeholder:""},{default:p((()=>[(s(),c(v,null,x(6,(e=>m(t,{key:e,label:e-1,value:e-1},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),b(" Select Device "),m(r,{label:"Select Device:",prop:"device"},{default:p((()=>[_("div",W,[m(i,{class:"cp ml-10",type:"primary",icon:"Setting",circle:"",onClick:_e}),_("span",{class:"ml-10",textContent:w(f(ye))},null,8,X)])])),_:1}),b(" Device Cutoff "),b(' <el-form-item label="Device Cutoff:" prop="cutoff_start">\n          <div class="flex ai-center">\n            <span v-text="data.ruleForm.cutoff_start * 100"></span>\n            %\n            <span>-</span>\n            <span v-text="data.ruleForm.cutoff_end * 100"></span>\n            % （\n            <span>总设备数:</span>\n            <span v-text="handleDeviceNum.all"></span>\n            ） （\n            <span>选中设备数:</span>\n            <span v-text="handleDeviceNum.judge"></span>\n            ）\n          </div>\n          <div class="flex jc-start form-one p10 pt-0 pb-0">\n            <el-slider\n              class="w100"\n              v-model="cutoff"\n              range\n              :step="5"\n              :show-stops="true"\n              show-input\n              :min="0"\n              :max="100"\n            ></el-slider>\n          </div>\n        </el-form-item> '),b(" diy_siteid "),m(r,{label:"Diy SiteID:",prop:"site"},{default:p((()=>[_("div",Y,[m(i,{class:"cp ml-10",type:"primary",icon:"Setting",circle:"",onClick:z})])])),_:1}),b(" site_id "),m(r,{label:"Site ID:",prop:"site_id"},{default:p((()=>[_("div",Z,[m(d,{modelValue:f(P).ruleForm.site_id,"onUpdate:modelValue":l[17]||(l[17]=e=>f(P).ruleForm.site_id=e),label:1},{default:p((()=>[ee])),_:1},8,["modelValue"]),m(d,{modelValue:f(P).ruleForm.site_id,"onUpdate:modelValue":l[18]||(l[18]=e=>f(P).ruleForm.site_id=e),label:2},{default:p((()=>[le])),_:1},8,["modelValue"]),m(a,{filterable:"",class:"form-one ml-10",modelValue:f(P).ruleForm.hour,"onUpdate:modelValue":l[19]||(l[19]=e=>f(P).ruleForm.hour=e),clearable:"",placeholder:"",disabled:2!==f(P).ruleForm.site_id},{default:p((()=>[(s(!0),c(v,null,x(f(P).options.site_id,(e=>(s(),U(t,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])])),_:1}),b(" clk_id "),m(r,{label:"Click ID:",prop:"clk_id"},{default:p((()=>[_("div",re,[m(d,{modelValue:f(P).ruleForm.clk_id,"onUpdate:modelValue":l[20]||(l[20]=e=>f(P).ruleForm.clk_id=e),label:1},{default:p((()=>[te])),_:1},8,["modelValue"]),m(d,{modelValue:f(P).ruleForm.clk_id,"onUpdate:modelValue":l[21]||(l[21]=e=>f(P).ruleForm.clk_id=e),label:2},{default:p((()=>[oe])),_:1},8,["modelValue"])])])),_:1}),b(" site_clk_id "),b(' <el-form-item label="Site Click ID:" prop="site_clk_id">\n          <div class=\'flex jc-start form-one jc-start radio-box\'>\n            <el-radio v-model="data.ruleForm.site_clk_id" :label="1">ON</el-radio>\n            <el-radio v-model="data.ruleForm.site_clk_id" :label="2">OFF</el-radio>\n          </div>\n        </el-form-item> '),b(" category "),b(' <el-form-item label="Category:" prop="category_id">\n          <el-select filterable class=\'form-one\' v-model="data.ruleForm.category_id" clearable placeholder="">\n            <el-option\n              v-for="(value, key) in handleOptionsCategory"\n              :key="key"\n              :label="value"\n              :value="key">\n            </el-option>\n          </el-select>\n        </el-form-item> '),b(" note "),m(r,{label:"Note:",prop:"note"},{default:p((()=>[m(u,{class:"form-one",type:"textarea",modelValue:f(P).ruleForm.note,"onUpdate:modelValue":l[22]||(l[22]=e=>f(P).ruleForm.note=e),modelModifiers:{trim:!0},autosize:{minRows:8,maxRows:80},placeholder:""},null,8,["modelValue"])])),_:1})])])),_:1},8,["rules","model"]),b(" form "),b(" footer "),_("div",ae,[m(i,{type:"primary",onClick:I},{default:p((()=>[ie])),_:1})]),b(" footer "),b(" dialog "),b(" device "),m(g,{title:"Device",modelValue:f(P).dialogVisibleDevice,"onUpdate:modelValue":l[23]||(l[23]=e=>f(P).dialogVisibleDevice=e)},{default:p((()=>[m(q,{json:f(o).cacheDevice,onKk:ce},null,8,["json"]),_("span",ue,[b(' <el-button @click="cancleDevice">取 消</el-button> '),m(i,{type:"primary",onClick:me},{default:p((()=>[de])),_:1})])])),_:1},8,["modelValue"]),b(" site "),m(g,{title:"diy_siteid",modelValue:f(P).dialogVisibleSite,"onUpdate:modelValue":l[24]||(l[24]=e=>f(P).dialogVisibleSite=e)},{default:p((()=>[m(f(L),{msg:f(P).siteData,onKk:se},null,8,["msg"])])),_:1},8,["modelValue"])])}}});export{ne as default};
