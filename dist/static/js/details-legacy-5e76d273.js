!function(){function e(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,l)}return t}function r(r){for(var l=1;l<arguments.length;l++){var o=null!=arguments[l]?arguments[l]:{};l%2?e(Object(o),!0).forEach((function(e){t(r,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}))}return r}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e,r,t,l,o,n,u){try{var i=e[n](u),a=i.value}catch(c){return void t(c)}i.done?r(a):Promise.resolve(a).then(l,o)}function o(e){return function(){var r=this,t=arguments;return new Promise((function(o,n){var u=e.apply(r,t);function i(e){l(u,o,n,i,a,"next",e)}function a(e){l(u,o,n,i,a,"throw",e)}i(void 0)}))}}function n(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,l=new Array(r);t<r;t++)l[t]=e[t];return l}System.register(["./index-legacy-973cee41.js","./buzzsync-legacy-a243e565.js","./message-legacy-1fd10f10.js"],(function(e){"use strict";var t,l,u,i,a,c,d,f,m,s,p,_,v,g,b,y,h,F,k,V,w,x,O,j,A,D,S;return{setters:[function(e){t=e.d,l=e.a,u=e.r,i=e.e,a=e.w,c=e.I,d=e.a1,f=e.M,m=e.m,s=e.s,p=e.n,_=e.z,v=e.c,g=e.p,b=e.v,y=e.q,h=e.O,F=e.P,k=e.b,V=e.A,w=e.x,x=e.L},function(e){O=e.f,j=e.g,A=e.h,D=e.i},function(e){S=e.m}],execute:function(){var U={class:"content-con flex column"},P={class:"flex jc-start form-one jc-start radio-box"},q=k(" whole traffic "),N=k(" diversity in platform "),M={class:"flex jc-start form-one jc-start radio-box"},E=k(" whole preclick "),R=k(" diversity in platform "),I={class:"flex jc-start form-one jc-start radio-box"},z={class:"flex jc-start form-one jc-start radio-box"},C=k(" app download "),T=k(" 非app download "),J={class:"flex jc-start form-one jc-start radio-box"},$=k(" 代理 "),B=k(" API "),G=k(" 直客 "),L={class:"flex jc-start form-one jc-start radio-box"},H={class:"w100 flex"},K=k(" Save ");e("default",t({setup:function(e){var t=x().proxy,Q=l(),W="此项必填",X=u({type:[{value:1,label:"no creatives无素材"}]}),Y=u({offer:{},index:null,cacheDevice:{}}),Z=i(""),ee=i(0),re=i([0,100]),te=u({dialogVisibleDevice:!1,dialogVisibleSite:!1,search:{id:"",baseDeviceSelect:{},deviceData:{all:[],select:[],count:0}},type:"1",params:"",loading:!0,options:{channel:[],attribute_provider:["AppsFlyer","Branch","Adjust","Singular","AppMetrica"],time:[-1].concat(n(n(new Array(24)).map((function(e,r){return r})))),platform:[{value:1,label:"Android"},{value:2,label:"iOS"}],country:[],site_id:["0.2","0.4","0.6","1","2","4","8","24","72","168"],category:[],devices:[]},ruleForm:{type:"",id:"",offer_id:void 0,operation_type:"",channel:"",copy_offer:"",attribute_provider:"AppsFlyer",title:"",tracking_link:"",pid:"",pkg_name:"",conversion_flow:"",event_name:"",payout:void 0,platform:"",country:"",max_clk_num:void 0,site_clk_limit:void 0,site_install_limitation:void 0,start_hour:"-1",end_hour:"-1",device:[],cutoff_start:void 0,cutoff_end:void 0,diy_siteid:"",site_id:"",hour:void 0,clk_id:"",site_clk_id:"",note:"",campaign_id:""},rules:{channel:[{required:!0,message:W,trigger:["blur","change"]}],attribute_provider:[{required:!0,message:W,trigger:["blur","change"]}],title:[{required:!0,message:W,trigger:["blur","change"]}],tracking_link:[{required:!0,message:W,trigger:["blur","change"]},{validator:function(e,r,t){new RegExp("\\s+","g").test(r)?t(new Error("链接中有空格")):t(void 0),t(void 0)}},{validator:function(e,r,t){/^http/.test(r)?t(void 0):t(new Error("必须为有效链接")),t(void 0)}}],pkg_name:[{required:!0,message:W,trigger:["blur","change"]}],conversion_flow:[{required:!0,message:W,trigger:["blur","change"]}],event_name:[{required:!0,message:W,trigger:["blur","change"]},{validator:function(e,r,t){"1"===te.ruleForm.conversion_flow?t(void 0):t(r?void 0:new Error(W))}}],payout:[{required:!0,message:W,trigger:["blur","change"]}],platform:[{required:!0,message:W,trigger:["blur","change"]}],country:[{required:!0,message:W,trigger:["blur","change"]}],max_clk_num:[{required:!0,message:W,trigger:["blur","change"]}],device:[{required:!0,validator:function(e,r,t){t(void 0)},trigger:["blur","change"]}],site_id:[{required:!0,validator:function(e,r,t){r?1===r||te.ruleForm.hour?t(void 0):t(new Error("请选择具体数值")):t(new Error(W))},trigger:["blur","change"]}],clk_id:[{required:!0,message:W,trigger:["blur","change"]}],start_hour:[{required:!1,validator:function(e,r,t){""!==r&&(""===te.ruleForm.end_hour?t(new Error(W)):t(void 0))},trigger:["blur","change"]}],end_hour:[{required:!1,validator:function(e,r,t){""!==r&&(""===te.ruleForm.start_hour?t(new Error(W)):t(void 0))},trigger:["blur","change"]}],cutoff_start:[{required:!0,trigger:["blur","change"]}],cutoff_end:[{required:!0,trigger:["blur","change"]}]},siteData:[]}),le=function(){oe("ruleForm")},oe=function(e){t.$refs[e].validate((function(e){if(!e)return!1;ne()}))},ne=function(){var e=o(regeneratorRuntime.mark((function e(){var t,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te.ruleForm,(l=r({},te.ruleForm)).clk_id=parseFloat(l.clk_id),l.conversion_flow=parseFloat(l.conversion_flow),l.cutoff_end=parseFloat(l.cutoff_end),l.cutoff_start=parseFloat(l.cutoff_start),l.end_hour=parseFloat(l.end_hour),l.start_hour=parseFloat(l.start_hour),l.hour=parseFloat(l.hour),l.max_clk_num=parseFloat(l.max_clk_num),l.payout=parseFloat(l.payout),l.platform=parseFloat(l.platform),l.site_clk_id=parseFloat(l.site_clk_id),l.site_clk_limit=parseFloat(l.site_clk_limit),l.site_id=parseFloat(l.site_id),l.site_install_limitation=parseFloat(l.site_install_limitation),l.diy_siteid=JSON.stringify(l.diy_siteid),l.device=JSON.stringify(l.device),"1"!==te.ruleForm.type){e.next=26;break}return delete l.id,delete l.offer_id,e.next=25,O(l);case 25:t=e.sent;case 26:if("2"!==te.ruleForm.type){e.next=30;break}return e.next=29,j(l);case 29:t=e.sent;case 30:S(t)&&window.close();case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a(re,(function(e,r){!function(e){te.ruleForm.cutoff_start=e[0]/100,te.ruleForm.cutoff_end=e[1]/100}(e)}),{immediate:!0});var ue=function(){var e=o(regeneratorRuntime.mark((function e(){var r,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(!(r=e.sent)){e.next=9;break}return t=r.data,te.options.channel=Object.values(t.channel),te.options.country=Object.values(t.country),te.options.category=Object.values(t.category),e.abrupt("return","获取配置成功");case 9:return e.abrupt("return","获取配置失败");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te.ruleForm.pkg_name,te.ruleForm.country,te.ruleForm.platform;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c((function(){var e=ee.value,r=te.ruleForm.cutoff_start,t=te.ruleForm.cutoff_end;return{judge:((Number(t)-Number(r))*Number(e)).toFixed(0),all:Number(e).toFixed(0)}})),d((function(){ie()}));var ae=function(e,t){var l={};return t.type,e.device&&(e.device=JSON.parse(e.device)),e.diy_siteid&&(e.diy_siteid=JSON.parse(e.diy_siteid)),"2"===t.type&&(l.id=e.id,l.offer_id=e.offer_id),l=r(r({},e),t),"1"===t.type&&(delete l.id,delete l.offer_id),l},ce=function(){var e=o(regeneratorRuntime.mark((function e(r){var t,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(r);case 2:t=e.sent,l=t.data,te.ruleForm=ae(l,{type:te.ruleForm.type,isCopy:!1}),Y.offer=l;case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return c((function(){var e=te.ruleForm.tracking_link,r=te.ruleForm.attribute_provider,t="";if("AppsFlyer"===r){var l=n(e.matchAll(/pid=([\s\S]*)_int/g));if(0!==l.length)return t=l[0][1],te.ruleForm.pid=t,t}if("Adjust"===r){var o=n(e.matchAll(/https:\/\/app.adjust.com\/([\s\S]*)\?/g));if(0!==o.length)return t=o[0][1],te.ruleForm.pid=t,t}return te.ruleForm.pid=t,t})),c((function(){var e,r=0;if(Y.cacheDevice,Y.cacheDevice.hasOwnProperty("all")&&Y.cacheDevice.hasOwnProperty("select")){var t=Y.cacheDevice.all,l=Y.cacheDevice.select;0!==t.length&&0!==l.length&&t.forEach((function(e){l.forEach((function(t){e.source===t.source&&e.label===t.label&&(r+=parseInt(e.device_count))}))})),te.search.deviceData.count=r}return null!==(e=r)&&void 0!==e?e:te.search.deviceData.count})),f((function(){if(ue(),Z.value=Q.currentRoute.value.name,Z.value,"buzz-sync-create"===Z.value&&(te.ruleForm.operation_type="1",te.ruleForm.type="1"),"buzz-sync-edit"===Z.value){te.ruleForm.operation_type="2",te.ruleForm.type="2";var e=Q.currentRoute.value.params.id;ce(e)}})),function(e,r){var t=m("el-input"),l=m("el-form-item"),o=m("el-radio"),n=m("el-checkbox"),u=m("el-checkbox-group"),i=m("el-switch"),a=m("el-form"),c=m("el-button");return s(),p("div",null,[_(" form "),v(a,{ref:"ruleForm",enctype:"multipart/form-data",rules:y(te).rules,model:y(te).ruleForm,"label-width":"240px","label-position":"right"},{default:g((function(){return[b("div",U,[_(" AD Network Name "),v(l,{label:"AD Network Name:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[0]||(r[0]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" AD Network Short Name "),v(l,{label:"AD Network Short Name:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[1]||(r[1]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" AD Network Description "),v(l,{class:"mb-30",label:"AD Network Description:",prop:"tracking_link"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.tracking_link,"onUpdate:modelValue":r[2]||(r[2]=function(e){return y(te).ruleForm.tracking_link=e}),modelModifiers:{trim:!0},class:"form-one",type:"textarea",autosize:{minRows:8,maxRows:80},placeholder:""},null,8,["modelValue"])]})),_:1}),_(" Percent Of Traffic "),v(l,{label:"Percent Of Traffic:",prop:"clk_id"},{default:g((function(){return[b("div",P,[v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[3]||(r[3]=function(e){return y(te).ruleForm.clk_id=e}),label:1},{default:g((function(){return[q]})),_:1},8,["modelValue"]),v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[4]||(r[4]=function(e){return y(te).ruleForm.clk_id=e}),label:2},{default:g((function(){return[N]})),_:1},8,["modelValue"])])]})),_:1}),_(" All "),v(l,{label:"All:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[5]||(r[5]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" iOS "),v(l,{label:"iOS:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[6]||(r[6]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" Android "),v(l,{label:"Android:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[7]||(r[7]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" Percent Of Preclick "),v(l,{label:"Percent Of Preclick:",prop:"clk_id"},{default:g((function(){return[b("div",M,[v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[8]||(r[8]=function(e){return y(te).ruleForm.clk_id=e}),label:1},{default:g((function(){return[E]})),_:1},8,["modelValue"]),v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[9]||(r[9]=function(e){return y(te).ruleForm.clk_id=e}),label:2},{default:g((function(){return[R]})),_:1},8,["modelValue"])])]})),_:1}),_(" All "),v(l,{label:"All:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[10]||(r[10]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" iOS "),v(l,{label:"iOS:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[11]||(r[11]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" Android "),v(l,{label:"Android:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[12]||(r[12]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" type "),v(l,{label:"Type"},{default:g((function(){return[b("div",I,[v(u,{modelValue:y(te).ruleForm.type,"onUpdate:modelValue":r[13]||(r[13]=function(e){return y(te).ruleForm.type=e})},{default:g((function(){return[(s(!0),p(h,null,F(y(X).type,(function(e){return s(),V(n,{key:e.value,label:e.value,disabled:e.require},{default:g((function(){return[k(w(e.label),1)]})),_:2},1032,["label","disabled"])})),128))]})),_:1},8,["modelValue"])])]})),_:1}),_(" 广告类型 "),v(l,{label:"广告类型:",prop:"clk_id"},{default:g((function(){return[b("div",z,[v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[14]||(r[14]=function(e){return y(te).ruleForm.clk_id=e}),label:1},{default:g((function(){return[C]})),_:1},8,["modelValue"]),v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[15]||(r[15]=function(e){return y(te).ruleForm.clk_id=e}),label:2},{default:g((function(){return[T]})),_:1},8,["modelValue"])])]})),_:1}),_(" Channel Type "),v(l,{label:"广告类型:",prop:"clk_id"},{default:g((function(){return[b("div",J,[v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[16]||(r[16]=function(e){return y(te).ruleForm.clk_id=e}),label:1},{default:g((function(){return[$]})),_:1},8,["modelValue"]),v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[17]||(r[17]=function(e){return y(te).ruleForm.clk_id=e}),label:2},{default:g((function(){return[B]})),_:1},8,["modelValue"]),v(o,{modelValue:y(te).ruleForm.clk_id,"onUpdate:modelValue":r[18]||(r[18]=function(e){return y(te).ruleForm.clk_id=e}),label:3},{default:g((function(){return[G]})),_:1},8,["modelValue"])])]})),_:1}),_(" Fenix Connected "),v(l,{label:"Fenix Connected:",prop:"clk_id"},{default:g((function(){return[b("div",L,[v(i,{modelValue:y(te).ruleForm.status,"onUpdate:modelValue":r[19]||(r[19]=function(e){return y(te).ruleForm.status=e}),"active-value":1,"inactive-value":2},null,8,["modelValue"])])]})),_:1}),_(" Adv ID "),v(l,{label:"Adv ID:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[20]||(r[20]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])]})),_:1}),_(" Group "),v(l,{label:"Adv ID:",prop:"title"},{default:g((function(){return[v(t,{modelValue:y(te).ruleForm.title,"onUpdate:modelValue":r[21]||(r[21]=function(e){return y(te).ruleForm.title=e}),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])]})),_:1})])]})),_:1},8,["rules","model"]),_(" form "),_(" footer "),b("div",H,[v(c,{type:"primary",onClick:le},{default:g((function(){return[K]})),_:1})]),_(" footer ")])}}}))}}}))}();
