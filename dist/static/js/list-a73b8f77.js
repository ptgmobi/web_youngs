import{_ as e,d as l,r as a,M as t,m as o,a0 as r,s as i,n,v as d,z as s,c as u,p as c,q as p,O as m,P as f,K as b,V as h,A as y,b as v,x as g,W as V,L as _}from"./index-c04c8366.js";import{P as x}from"./index-e62cc254.js";import{A as w}from"./advertiser-8bfdb7fa.js";import{_ as k}from"./lodash-9d34266c.js";const U={class:"controlBox w100 mb-10"},C={class:"mb-10"},z=v("Offer Create"),P={class:"flex jc-start flex-wrap w100"},j={class:"flex"},O={class:"flex"},Q=v(" 查询 "),S={class:"flex jc-around"},A=["href"],E=["src"],q={class:"flex jc-around"},D={class:"w100 flex"};var I=e(l({setup(e){let{proxy:l}=_();const I=a({loading:!0}),$=a({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),F=a({});a({});let L=a({list:[]});const N=a({pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}),T=()=>{k.cloneDeep($),K()},B=()=>{l.$router.push({path:"/advertiser/offer/create",query:{type:"create"}})},K=()=>{(async()=>{N.listQuery.page,N.listQuery.limit;const e=await w();L.list=e.info.data,I.loading=!1})()};return t((()=>{K()})),(e,a)=>{const t=o("el-button"),_=o("el-option"),w=o("el-select"),k=o("el-form-item"),M=o("el-input"),W=o("el-form"),G=o("el-table-column"),H=o("el-switch"),J=o("el-table"),R=r("loading");return i(),n("div",null,[d("div",U,[d("div",C,[s(' <router-link to="/buzz/buzz-async-create">\n          <el-button type="primary">\n            Offer Create\n          </el-button>\n        </router-link> '),u(t,{type:"primary",onClick:B},{default:c((()=>[z])),_:1})]),u(W,{modelValue:p($),"onUpdate:modelValue":a[8]||(a[8]=e=>b($)?$.value=e:$=e),inline:!0,class:"flex jc-between w100 ai-end"},{default:c((()=>[d("div",P,[u(k,{label:""},{default:c((()=>[u(w,{modelValue:p($).attribute_provider,"onUpdate:modelValue":a[0]||(a[0]=e=>p($).attribute_provider=e),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:c((()=>[(i(!0),n(m,null,f(p(F).attribute_provider,(e=>(i(),y(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(w,{modelValue:p($).platform,"onUpdate:modelValue":a[1]||(a[1]=e=>p($).platform=e),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:c((()=>[(i(!0),n(m,null,f(p(F).platform,(e=>(i(),y(_,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).package_name,"onUpdate:modelValue":a[2]||(a[2]=e=>p($).package_name=e),placeholder:"Package Name",class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).channel,"onUpdate:modelValue":a[3]||(a[3]=e=>p($).channel=e),placeholder:"Channel",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).id,"onUpdate:modelValue":a[4]||(a[4]=e=>p($).id=e),placeholder:"ID",class:"search-con"},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).offer_title,"onUpdate:modelValue":a[5]||(a[5]=e=>p($).offer_title=e),placeholder:"Offer Title",class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).country,"onUpdate:modelValue":a[6]||(a[6]=e=>p($).country=e),placeholder:"Country",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:p($).pid,"onUpdate:modelValue":a[7]||(a[7]=e=>p($).pid=e),placeholder:"Pid",class:"search-con"},null,8,["modelValue"])])),_:1})]),d("div",j,[u(k,{class:"mr-0",style:{"margin-right":"0px"}},{default:c((()=>[d("div",O,[u(t,{type:"primary",onClick:T},{default:c((()=>[Q])),_:1}),s(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])])),_:1})])])),_:1},8,["modelValue"]),s(' <el-input placeholder="请输入内容" v-model="searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),s(" table "),h((i(),y(J,{center:"",data:p(L).list,class:"w100",height:"70vh",border:""},{default:c((()=>[u(G,{fixed:"",prop:"id",label:"ID",align:"center"}),u(G,{fixed:"",prop:"logo",label:"Logo",align:"center"},{default:c((e=>[d("div",S,[d("a",{href:e.row.icon,class:"offer-icon-box"},[d("img",{src:e.row.icon,alt:"",class:"offer-icon"},null,8,E)],8,A)])])),_:1}),u(G,{fixed:"",prop:"title",label:"Offer Title",align:"center"}),u(G,{prop:"platform",label:"Platform",align:"center"},{default:c((e=>[v(g(1===Number(e.row.platform)?"Android":"iOS"),1)])),_:1}),u(G,{prop:"country_data",label:"Country",align:"center"}),u(G,{prop:"payout",label:"Payout",align:"center"}),u(G,{label:"Operation",align:"center"},{default:c((e=>[d("div",q,[s(' <router-link :to="getEditUrl(scope.row)">\n              <el-button\n                class="cp mr-10"\n                type="primary"\n                icon="Edit"\n                circle\n              ></el-button>\n            </router-link> '),u(t,{class:"cp mr-10",type:"primary",icon:"Edit",circle:"",onClick:a=>(e=>{let{id:a}=e,t=`/advertiser/offer/edit/${a}`;l.$router.push({path:t,query:{type:"edit"}})})(e.row)},null,8,["onClick"]),u(H,{modelValue:e.row.status,"onUpdate:modelValue":l=>e.row.status=l,"active-value":1,"inactive-value":2,onChange:l=>{e.row}},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1})])),_:1},8,["data"])),[[R,p(I).loading]]),s(" 分页 "),d("div",D,[h(u(p(x),{page:p(N).listQuery.page,"onUpdate:page":a[9]||(a[9]=e=>p(N).listQuery.page=e),limit:p(N).listQuery.limit,"onUpdate:limit":a[10]||(a[10]=e=>p(N).listQuery.limit=e),total:p(N).total,"page-sizes":p(N).pageSizes,onPagination:K},null,8,["page","limit","total","page-sizes"]),[[V,p(N).total]])])])}}}),[["__scopeId","data-v-3f086fae"]]);export{I as default};
