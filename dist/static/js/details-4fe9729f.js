var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,o=(e,o)=>{for(var u in o||(o={}))a.call(o,u)&&r(e,u,o[u]);if(l)for(var u of l(o))t.call(o,u)&&r(e,u,o[u]);return e};import{d as u,r as i,w as s,L as n,q as d,o as m,c,x as _,e as p,s as f,N as v,O as g,A as b,v as h,z as y,f as F,h as V,I as x,_ as w,y as k,K as U,C as j,a as C,P as q,a0 as S,$ as P,U as O,a5 as z}from"./main-4a186a1d.js";import{_ as A}from"./lodash-11c76b4d.js";import{l as R,p as D,q as N,r as T,s as E,t as L,u as I,v as $,w as M,x as K,y as B}from"./fenix-23436a1a.js";import{c as H}from"./clipboard-5c98e6ac.js";import{m as Z}from"./message-6b0ed85d.js";import{b as J,r as Y}from"./new-format-1f93a419.js";import{u as G}from"./useUtils-af2ffabd.js";const Q={class:"flex jc-end"},W=F(" Add "),X={class:"flex"},ee=F(" Copy "),le=u({props:{list:{require:!0,default:()=>[],type:Array},offer:{require:!0,default:"",type:String}},emits:["kk","up"],setup(e,{emit:l}){const a=e,t=i({pub:[{id:"",pub_name:""}]}),r={55527824:.1,95108831:.1,95846929:.005,59845210:.005};let o=i({manage_traffic:[]});const u={pub:"",slotid:"",payout:void 0,cap_daily:void 0,pub_status:1,pub_tracking_link:""},F=()=>{o.manage_traffic.push(A.cloneDeep(u))};return s((()=>a.list),((e,l)=>{o.manage_traffic=e}),{immediate:!0,deep:!0}),s((()=>o.manage_traffic),((e,l)=>{}),{immediate:!0,deep:!0}),n((()=>{(async()=>{const{data:e}=await R();t.pub=e})(),F()})),(e,l)=>{const u=d("el-button"),i=d("el-option"),s=d("el-select"),n=d("el-table-column"),V=d("el-input"),x=d("el-switch"),w=d("el-table");return m(),c("div",null,[_("div",Q,[p(u,{type:"primary",onClick:F},{default:f((()=>[W])),_:1})]),p(w,{class:"mt-10",data:h(o).manage_traffic,style:{width:"100%"},border:""},{default:f((()=>[p(n,{label:"Pub Name",align:"center"},{default:f((e=>[p(s,{modelValue:e.row.pub,"onUpdate:modelValue":l=>e.row.pub=l,filterable:"",clearable:"",placeholder:"",onChange:l=>(e=>{const{row:l}=e,o="http://track.adsforward.com/api/track?offer={offer}&mid={slot}&pub_id={siteid}&gaid={gaid}&idfa={idfa}&click_id={clickid}&ip={ip}&ua={ua}&osv={osv}&lang={lang}";l.pub_tracking_link=o;const u=t.pub.find((e=>e.pub_name===l.pub));l.slotid=u.slot_id,l.pub_status=u.status,l.pub_tracking_link=o.replace("{offer}",a.offer).replace("{slot}",u.slot_id),r[u.slot_id]&&(l.payout=r[u.slot_id])})(e)},{default:f((()=>[(m(!0),c(v,null,g(h(t).pub,(e=>{var l;return m(),b(i,{key:e.id,label:e.pub_name,value:null!=(l=e.pub_name)?l:e.id},null,8,["label","value"])})),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),p(n,{label:"Payout",align:"center"},{default:f((e=>[p(V,{modelValue:e.row.payout,"onUpdate:modelValue":l=>e.row.payout=l,type:"number",min:"0",step:"0.001",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p(n,{label:"Cap Daily",align:"center"},{default:f((e=>[p(V,{modelValue:e.row.cap_daily,"onUpdate:modelValue":l=>e.row.cap_daily=l,type:"number",min:"0",step:"0.001",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue","onUpdate:modelValue"])])),_:1}),p(n,{label:"Operation",align:"center",width:"180px"},{default:f((e=>[_("div",X,[p(u,{class:"mr-10",type:"danger",icon:"Delete",circle:"",onClick:l=>(e=>{const l=e.$index;o.manage_traffic.splice(l,1)})(e)},null,8,["onClick"]),p(x,{modelValue:e.row.pub_status,"onUpdate:modelValue":l=>e.row.pub_status=l,"active-value":1,"inactive-value":2,class:"mr-10",onChange:e=>{}},null,8,["modelValue","onUpdate:modelValue","onChange"]),e.row.pub_tracking_link?(m(),b(u,{key:0,class:"cp",type:"primary",onClick:l=>(({row:e})=>{const{pub_tracking_link:l}=e;H(l)})(e)},{default:f((()=>[ee])),_:2},1032,["onClick"])):y("v-if",!0)])])),_:1})])),_:1},8,["data"])])}}}),ae={class:"w100"},te={class:"content-con flex column"},re={class:"flex jc-start ai-center form-one"},oe={class:"w100 flex mt-10"},ue=F("Save"),ie=u({emits:["update:visible","uploadData"],setup(e,{emit:l}){const a=V(),t=/\S/;const r=x((()=>J(o.ruleForm.site_list,1,t).data));let o=i({ruleForm:{site_list:""},rules:{site_list:[{required:!0,message:"必填项",trigger:["blur"]},{validator:(e,l,a)=>{if(""!==l){a(J(l,1,t).type?void 0:new Error("格式错误！"))}else a(new Error("必填项"))},trigger:["blur"]}]}});const u=()=>{l("uploadData",r.value),o.ruleForm.site_list="",l("update:visible",!1)};return(e,l)=>{const t=d("el-input"),r=d("el-form-item"),i=d("el-form"),s=d("el-button");return m(),c("div",ae,[p(i,{ref_key:"ruleFormRef",ref:a,enctype:"multipart/form-data",rules:h(o).rules,model:h(o).ruleForm,"label-width":"140px","label-position":"right"},{default:f((()=>[_("div",te,[y(" Offer "),p(r,{label:"Site:",prop:"site_list"},{default:f((()=>[_("div",re,[p(t,{modelValue:h(o).ruleForm.site_list,"onUpdate:modelValue":l[0]||(l[0]=e=>h(o).ruleForm.site_list=e),rows:4,type:"textarea",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" end ")])])),_:1},8,["rules","model"]),_("div",oe,[p(s,{type:"primary",onClick:l[1]||(l[1]=e=>{var l;(l=a.value)&&l.validate((e=>{if(!e)return!1;u()}))})},{default:f((()=>[ue])),_:1})])])}}});const se={class:"w100"},ne={class:"control-box flex jc-between ai-start w100"},de=F("增量生成"),me=F("批量上传"),ce=F("清空"),_e={class:"body-box mt-10"},pe={class:"flex"};var fe=w(u({props:{msg:{require:!0,default:()=>"",type:String}},emits:["update:msg"],setup(e,{expose:l,emit:a}){const t=e;let r=V(!1);const o=e=>e?e.split(","):[];let u=i({ruleForm:{site_num:0,site_value:o(t.msg)},rules:{}});const n=x((()=>u.ruleForm.site_value));x((()=>u.ruleForm.site_value.length));const v=()=>{if(u.ruleForm.site_num>0){let e=Math.floor(u.ruleForm.site_num);for(let l=0;l<e;l++){const e=Y(8);u.ruleForm.site_value.push(e)}}u.ruleForm.site_num=0},g=()=>{r.value=!0},b=()=>{u.ruleForm.site_value=[]},F=e=>{e.map((e=>{u.ruleForm.site_value.push(e[0])}))};s((()=>t.msg),((e,l)=>{u.ruleForm.site_value=o(t.msg)})),s((()=>u.ruleForm.site_value),((e,l)=>{const t=u.ruleForm.site_value.join(",");a("update:msg",t)}),{deep:!0,immediate:!0});return l({addListFn:e=>{b(),u.ruleForm.site_num=e,v();const l=u.ruleForm.site_value.join(",");return a("update:msg",l),l}}),(e,l)=>{const a=d("el-button"),t=d("el-input"),o=d("el-table-column"),i=d("el-table"),s=d("el-dialog");return m(),c("div",se,[y(" 操作 "),_("div",ne,[p(t,{modelValue:h(u).ruleForm.site_num,"onUpdate:modelValue":l[0]||(l[0]=e=>h(u).ruleForm.site_num=e),placeholder:"Please input",type:"number",max:"1000",class:"input-with-select search-con"},{append:f((()=>[p(a,{onClick:v},{default:f((()=>[de])),_:1})])),_:1},8,["modelValue"]),p(a,{class:"cp mb-10",onClick:g,type:"primary"},{default:f((()=>[me])),_:1}),p(a,{class:"cp mb-10",onClick:b,type:"primary"},{default:f((()=>[ce])),_:1})]),y(" table "),_("div",_e,[p(i,{data:h(n),class:"w100",height:"400px",border:""},{default:f((()=>[p(o,{label:"site_id",align:"center"},{default:f((e=>[_("div",null,[_("span",null,k(e.row),1)])])),_:1}),p(o,{label:"设置",align:"center"},{default:f((e=>[_("div",pe,[p(a,{type:"danger",icon:"Delete",circle:"",onClick:l=>(e=>{const{$index:l,row:a}=e;u.ruleForm.site_value.splice(l,1)})(e)},null,8,["onClick"])])])),_:1})])),_:1},8,["data"])]),y(" dialog "),p(s,{modelValue:h(r),"onUpdate:modelValue":l[2]||(l[2]=e=>U(r)?r.value=e:r=e),title:"site",width:"60%"},{default:f((()=>[p(ie,{visible:h(r),"onUpdate:visible":l[1]||(l[1]=e=>U(r)?r.value=e:r=e),onUploadData:F},null,8,["visible"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-661f6240"]]);const ve={class:"content-con flex column"},ge={class:"flex jc-start ai-center form-one"},be=["textContent"],he={class:"flex jc-start ai-center form-one"},ye=["textContent"],Fe={class:"flex jc-start ai-center form-one"},Ve={class:"ml-10"},xe={class:"flex jc-start ai-center form-one"},we={class:"ml-10"},ke={class:"flex jc-start ai-center form-one"},Ue=F("默认"),je=F("自定义"),Ce={class:"ml-10"},qe={class:"flex jc-start ai-center form-one"},Se={class:"flex jc-start ai-center form-one"},Pe={class:"ml-10"},Oe={class:"flex jc-start ai-center form-one"},ze={class:"flex jc-start ai-center form-one"},Ae={class:"flex jc-start ai-center form-one"},Re={class:"w100 flex"},De=F(" 提交 "),Ne=u({props:{msg:{require:!0,default:()=>({}),type:Object}},emits:["update:visible","updateData"],setup(e,{expose:l,emit:a}){const t=e;let r=V();const o=V();let u="必填项";const n=(e,l,a)=>{if(l){a(l.split(",").length>1e3?new Error("site value 的值不可大于1000个"):void 0)}else a(void 0)},v=i({offer_id:[{required:!0,message:u,trigger:["blur","change"]}],adv_offer:[{required:!0,message:u,trigger:["blur","change"]}],status_day:[{required:!0,message:u,trigger:["blur","change"]}],day_limit:[{required:!0,message:u,trigger:["blur","change"]},{validator:(e,l,a)=>{if(l){let e=Number(l);Number.isInteger(e)&&Number.isSafeInteger(e)?a(e>5?void 0:new Error("必须为大于5的整数")):a(new Error("必须为整数"))}else a(void 0)},trigger:["blur","change"]}],day_limit_type:[{required:!0,message:u,trigger:["blur","change"]}],day_limit_value:[{required:!0,message:u,trigger:["blur","change"]}],status_hour:[{required:!0,message:u,trigger:["blur","change"]}]}),g=i({site_value_required:[{required:!0,message:u,trigger:["blur","change"]},{validator:n,trigger:["blur","change"]}],site_value_no_required:[{required:!1,message:u,trigger:["blur","change"]},{validator:n,trigger:["blur","change"]}]});let w=i({ruleForm:{offer_id:"",adv_offer:"",channel_type:2,status_day:2,day_limit:15,day_limit_type:1,day_limit_value:"",status_hour:2,site_value:"",site_black_value:""}});const C=x((()=>w.ruleForm.site_value?w.ruleForm.site_value.split(",").length:0)),q=x((()=>"rule_value"===t.msg.site_type));s((()=>t.msg),((e,l)=>{let a=A.cloneDeep(t.msg.fenix_site),r=a.status_day||2,o=a.status_hour||2;2===t.msg.channel_type&&(r=2,o=2),w.ruleForm={offer_id:a.offer_id||t.msg.offer_id,adv_offer:a.adv_offer||t.msg.adv_offer,channel_type:t.msg.channel_type,status_day:r,day_limit:a.day_limit||15,day_limit_type:a.day_limit_type||1,day_limit_value:a.day_limit_value||"",status_hour:o,site_value:t.msg.site_value,site_black_value:t.msg.site_black_value}}),{deep:!0,immediate:!0});const S=()=>{a("updateData",w.ruleForm),a("update:visible",!1)};return l({childRef:V("childRef"),childMethod:e=>(r.value.addListFn(e),w.ruleForm.site_value,a("updateData",w.ruleForm),!0)}),(e,l)=>{const a=d("el-form-item"),u=d("el-switch"),i=d("info-filled"),s=d("el-icon"),n=d("el-tooltip"),V=d("el-input"),x=d("el-radio"),P=d("el-radio-group"),O=d("el-form"),z=d("el-button");return m(),c("div",null,[p(O,{ref_key:"ruleFormRef",ref:o,enctype:"multipart/form-data",rules:h(v),model:h(w).ruleForm,"label-width":"150px","label-position":"right"},{default:f((()=>[_("div",ve,[y(" Offer "),p(a,{label:"Offer:",prop:"offer_id"},{default:f((()=>[_("div",ge,[_("span",{textContent:k(h(w).ruleForm.offer_id)},null,8,be)])])),_:1}),y(" Offer "),p(a,{label:"Adv Offer:",prop:"adv_offer"},{default:f((()=>[_("div",he,[_("span",{textContent:k(h(w).ruleForm.adv_offer)},null,8,ye)])])),_:1}),y(" Offer "),p(a,{label:"分天优选:",prop:"status_day"},{default:f((()=>[_("div",Fe,[p(u,{disabled:2==t.msg.channel_type,modelValue:h(w).ruleForm.status_day,"onUpdate:modelValue":l[0]||(l[0]=e=>h(w).ruleForm.status_day=e),"active-value":1,"inactive-value":2},null,8,["disabled","modelValue"]),_("span",Ve,[p(n,{content:"根据昨天数据筛选符合条件的site_id使用",placement:"right-start"},{default:f((()=>[p(s,null,{default:f((()=>[p(i)])),_:1})])),_:1})])])])),_:1}),p(a,{label:"分天优选启动条件:",prop:"day_limit"},{default:f((()=>[_("div",xe,[p(V,{modelValue:h(w).ruleForm.day_limit,"onUpdate:modelValue":l[1]||(l[1]=e=>h(w).ruleForm.day_limit=e),placeholder:"默认值为15",min:"5",step:"1",class:"input-with-select",type:"number"},null,8,["modelValue"]),_("span",we,[p(n,{content:"当昨天site_id的平均install数大于等于设定值时才启动自动优选，默认设置为15",placement:"bottom"},{default:f((()=>[p(s,null,{default:f((()=>[p(i)])),_:1})])),_:1})])])])),_:1}),p(a,{label:"分天优选install限制:",prop:"day_limit_type"},{default:f((()=>[_("div",ke,[p(P,{class:"flex",modelValue:h(w).ruleForm.day_limit_type,"onUpdate:modelValue":l[2]||(l[2]=e=>h(w).ruleForm.day_limit_type=e)},{default:f((()=>[p(x,{label:1},{default:f((()=>[Ue])),_:1}),p(x,{label:2},{default:f((()=>[je])),_:1})])),_:1},8,["modelValue"]),_("span",Ce,[p(n,{content:"根据site_id的install数筛选，仅使用大于等于设定值的site_id，默认值为昨天均值除以5",placement:"right-start"},{default:f((()=>[p(s,null,{default:f((()=>[p(i)])),_:1})])),_:1})])])])),_:1}),2===h(w).ruleForm.day_limit_type?(m(),b(a,{key:0,label:"分天优选install限制值:",prop:"day_limit_value"},{default:f((()=>[_("div",qe,[p(V,{type:"number",modelValue:h(w).ruleForm.day_limit_value,"onUpdate:modelValue":l[3]||(l[3]=e=>h(w).ruleForm.day_limit_value=e),placeholder:"",class:"input-with-select"},null,8,["modelValue"])])])),_:1})):y("v-if",!0),p(a,{label:"分时优选:",prop:"status_hour"},{default:f((()=>[_("div",Se,[p(u,{disabled:2==t.msg.channel_type,modelValue:h(w).ruleForm.status_hour,"onUpdate:modelValue":l[4]||(l[4]=e=>h(w).ruleForm.status_hour=e),"active-value":1,"inactive-value":2},null,8,["disabled","modelValue"]),_("span",Pe,[p(n,{content:"根据前6小时和前2小时数据筛选符合条件的site_id使用，暂不支持自定义",placement:"right-start"},{default:f((()=>[p(s,null,{default:f((()=>[p(i)])),_:1})])),_:1})])])])),_:1}),p(a,{label:"当前渠道数:",prop:"site_value",rules:h(q)?h(g).site_value_required:h(g).site_value_no_required},{default:f((()=>[_("div",Oe,[p(V,{type:"hidden",modelValue:h(C),"onUpdate:modelValue":l[5]||(l[5]=e=>U(C)?C.value=e:null),disabled:""},null,8,["modelValue"]),F(" "+k(h(C)),1)])])),_:1},8,["rules"]),p(a,{label:"黑名单:",prop:"site_black_value"},{default:f((()=>[_("div",ze,[p(V,{type:"textarea",autosize:{minRows:8,maxRows:80},modelValue:h(w).ruleForm.site_black_value,"onUpdate:modelValue":l[6]||(l[6]=e=>h(w).ruleForm.site_black_value=e),placeholder:"请用英文逗号分割",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),p(a,{label:""},{default:f((()=>[_("div",Ae,[p(fe,{ref_key:"refChildren",ref:r,msg:h(w).ruleForm.site_value,"onUpdate:msg":l[7]||(l[7]=e=>h(w).ruleForm.site_value=e)},null,8,["msg"])])])),_:1}),y(" end ")])])),_:1},8,["rules","model"]),y(" form "),y(" footer "),_("div",Re,[p(z,{type:"primary",onClick:l[8]||(l[8]=j((e=>{var l;(l=o.value)&&l.validate((e=>{if(!e)return!1;S()}))}),["prevent"]))},{default:f((()=>[De])),_:1})])])}}}),Te={class:"content-con flex column"},Ee={class:"flex jc-start ai-center form-dialog"},Le=["textContent"],Ie={class:"flex jc-start ai-center form-dialog"},$e=["textContent"],Me={class:"w100 flex"},Ke=F(" 提交 "),Be=u({props:{msg:{require:!0,default:()=>({}),type:Object}},emits:["update:visible","updateData"],setup(e,{emit:l}){const a=e,{handleAjaxNumberKeyFn:t,handleAjaxArrayKeyFn:r}=G(),o=V();let u="必填项";const n=(e,l,a)=>{a(l&&(l>=1e3||l<=0)?new Error("0-1000"):void 0)},v=i({offer_id:[{required:!0,message:u,trigger:["blur","change"]}],adv_offer:[{required:!0,message:u,trigger:["blur","change"]}],auto_cvr_status:[{required:!0,message:u,trigger:["blur","change"]}],auto_cvr_max:[{required:!0,message:u,trigger:["blur","change"]},{validator:n,trigger:["blur","change"]}],auto_cvr_min:[{required:!0,message:u,trigger:["blur","change"]},{validator:n,trigger:["blur","change"]}],target_buzz_rate:[{required:!0,message:u,trigger:["blur","change"]},{validator:(e,l,a)=>{a(l&&(l>=1||l<=0)?new Error("0-1"):void 0)},trigger:["blur","change"]}]});i({});let g=i({ruleForm:{id:"",offer_id:"",adv_offer:"",auto_cvr_status:2,auto_start_hour:"0",auto_end_hour:"23",auto_cvr_max:"",auto_cvr_min:"",target_buzz_rate:""}});s((()=>a.msg),((e,l)=>{var a,t,r,o;g.ruleForm.offer_id=e.offer_id,g.ruleForm.adv_offer=e.adv_offer;let u=e.fenix_cvr;u&&0!==Object.keys(u).length&&(g.ruleForm.id=u.id,g.ruleForm.auto_cvr_status=null!=(a=u.auto_cvr_status)?a:2,g.ruleForm.auto_start_hour=u.auto_start_hour?u.auto_start_hour.toString():"0",g.ruleForm.auto_end_hour=u.auto_end_hour?u.auto_end_hour.toString():"23",g.ruleForm.auto_cvr_max=null!=(t=u.auto_cvr_max)?t:"",g.ruleForm.auto_cvr_min=null!=(r=u.auto_cvr_min)?r:"",g.ruleForm.target_buzz_rate=null!=(o=u.target_buzz_rate)?o:"")}),{deep:!0,immediate:!0});x((()=>{let{auto_cvr_status:e,auto_cvr_max:l,auto_cvr_min:a,target_buzz_rate:t}=g.ruleForm;return`${1===e?"开":"关"}_${l}_${a}_${t}`}));const b=["id","auto_cvr_status","auto_start_hour","auto_end_hour","auto_cvr_max","auto_cvr_min","target_buzz_rate"],F=[],w=()=>{let e=r(t(g.ruleForm,b),F);0===e.id&&delete e.id,l("updateData",e),l("update:visible",!1)};return(e,l)=>{const a=d("el-form-item"),t=d("el-switch"),r=d("el-time-select"),u=d("el-input"),i=d("el-form"),s=d("el-button");return m(),c("div",null,[p(i,{ref_key:"ruleFormRef",ref:o,enctype:"multipart/form-data",rules:h(v),model:h(g).ruleForm,"label-width":"150px","label-position":"right"},{default:f((()=>[_("div",Te,[y(" Offer "),p(a,{class:"self-el-form-item",label:"Offer:",prop:"offer_id"},{default:f((()=>[_("div",Ee,[_("span",{textContent:k(h(g).ruleForm.offer_id)},null,8,Le)])])),_:1}),y(" Offer "),p(a,{class:"self-el-form-item",label:"Adv Offer:",prop:"adv_offer"},{default:f((()=>[_("div",Ie,[_("span",{textContent:k(h(g).ruleForm.adv_offer)},null,8,$e)])])),_:1}),y(" Offer "),p(a,{class:"self-el-form-item",label:"Status:",prop:"auto_cvr_status"},{default:f((()=>[p(t,{modelValue:h(g).ruleForm.auto_cvr_status,"onUpdate:modelValue":l[0]||(l[0]=e=>h(g).ruleForm.auto_cvr_status=e),"active-value":1,"inactive-value":2},null,8,["modelValue"])])),_:1}),p(a,{class:"self-el-form-item",label:"Start Hour:",prop:"start_hour"},{default:f((()=>[p(r,{modelValue:h(g).ruleForm.auto_start_hour,"onUpdate:modelValue":l[1]||(l[1]=e=>h(g).ruleForm.auto_start_hour=e),placeholder:"Start time",start:"00:00",step:"01:00",end:"23:00",format:"H",class:"form-dialog"},null,8,["modelValue"])])),_:1}),p(a,{class:"self-el-form-item",label:"End Hour:",prop:"end_hour"},{default:f((()=>[p(r,{modelValue:h(g).ruleForm.auto_end_hour,"onUpdate:modelValue":l[2]||(l[2]=e=>h(g).ruleForm.auto_end_hour=e),placeholder:"End time",start:"00:00",step:"01:00",end:"23:00",format:"H",class:"form-dialog"},null,8,["modelValue"])])),_:1}),p(a,{class:"self-el-form-item",label:"CVR Max:",prop:"auto_cvr_max"},{default:f((()=>[p(u,{modelValue:h(g).ruleForm.auto_cvr_max,"onUpdate:modelValue":l[3]||(l[3]=e=>h(g).ruleForm.auto_cvr_max=e),type:"number",placeholder:"Please input",class:"input-with-select form-dialog"},null,8,["modelValue"])])),_:1}),p(a,{class:"self-el-form-item",label:"CVR Min:",prop:"auto_cvr_min"},{default:f((()=>[p(u,{modelValue:h(g).ruleForm.auto_cvr_min,"onUpdate:modelValue":l[4]||(l[4]=e=>h(g).ruleForm.auto_cvr_min=e),type:"number",placeholder:"Please input",class:"input-with-select form-dialog"},null,8,["modelValue"])])),_:1}),p(a,{class:"self-el-form-item",label:"Target Buzz Rate:",prop:"target_buzz_rate"},{default:f((()=>[p(u,{modelValue:h(g).ruleForm.target_buzz_rate,"onUpdate:modelValue":l[5]||(l[5]=e=>h(g).ruleForm.target_buzz_rate=e),type:"number",placeholder:"Please input",class:"input-with-select form-dialog"},null,8,["modelValue"])])),_:1})])])),_:1},8,["rules","model"]),y(" form "),y(" footer "),_("div",Me,[p(s,{type:"primary",onClick:l[6]||(l[6]=j((e=>{var l;(l=o.value)&&l.validate((e=>{if(!e)return!1;w()}))}),["prevent"]))},{default:f((()=>[Ke])),_:1})])])}}});const He={class:"content-con flex column"},Ze={class:"flex jc-start ai-center form-one"},Je=["textContent"],Ye={class:"flex jc-start ai-center form-one"},Ge=F(" BUZZ "),Qe=F(" SDK "),We=F(" BUZZ SYNC "),Xe=F(" Direct "),el=F(" Light "),ll={class:"flex jc-start ai-center form-one"},al={key:0},tl={key:1},rl={class:"flex jc-start ai-center form-one"},ol={class:"flex jc-start ai-center form-one"},ul={class:"flex jc-start ai-center form-one"},il={class:"flex jc-start ai-center form-one"},sl={class:"flex jc-start ai-center form-one"},nl={class:"form-one"},dl={class:"flex jc-start ai-center form-one"},ml={class:"flex jc-start ai-center form-one"},cl={class:"flex jc-start ai-center form-one"},_l={class:"form-one"},pl={class:"w100 flex ai-center jc-start mb-10"},fl={class:"flex jc-start ai-center form-one"},vl={class:"flex jc-start ai-center form-one"},gl={class:"form-one"},bl={class:"flex ai-center jc-start mb-10"},hl={class:"text-wrap"},yl={class:"flex jc-start ai-center form-one"},Fl={class:"flex jc-start ai-center form-one"},Vl={class:"flex jc-start ai-center form-one"},xl={class:"flex jc-start ai-center form-one"},wl={class:"w100 flex"},kl=F(" Save ");var Ul=w(u({setup(e){const l=C();let a=V();const t="此项必填";let r=(e,l,a)=>{l?Number.isInteger(Number(l))?a(void 0):a(new Error("必须为整数")):a(void 0)},u=(e,l,a)=>{H.ruleForm.site_install_limit_max>=H.ruleForm.site_install_limit_min?a(void 0):a(new Error("max必须>=min"))};const F=V(),w={id:void 0,offer_id:"",adv_offer:"",create_type:1,channel:"",channel_type:1,adv_status:1,conversion_flow:void 0,status:1,title:"",pkg:"",attribute_provider:"",pid:"",platform:1,country:[],revenue:void 0,traffic:[],adtype:38,update_date:"",adv_tracking_link:"",target_cvr:void 0,cvr_status:2,is_s2s:2,s2s_tracking_link:"",app_url:"",site_type:"rule_value",site_value:"",description:"",fenix_site:{},fenix_cvr:{},site_black_value:"",site_install_limit_min:4,site_install_limit_max:6,site_install_limit_value:"",cap_total:0};let R=V(!1);const H=i({options:{channel:[{id:"",short_name:""}],country:[{id:"",short_name:"",zh_cn:""}],conversion_flow:[{value:1,label:"CPI"},{value:2,label:"CPA"},{value:9,label:"SDK"}],platform:[{value:1,label:"Android"},{value:2,label:"iOS"}],site_type:[{value:"rule_sdkindex",label:"匹配SDK自定义"},{value:"rule_pubredirect",label:"透传渠道ID"},{value:"rule_slotid",label:"渠道slotid"},{value:"rule_value",label:"固定值"},{value:"site_install_limit",label:"自动_install数"}],attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"},{value:"Lazada",label:"Lazada"}]},choiceRules:{no_required:[{required:!1}],s2s_tracking_link:[{required:!0,message:t,trigger:["blur","change"]}],app_url:[{required:!0,message:t,trigger:["blur","change"]}],site_value:[{required:!0,message:t,trigger:["blur","change"]},{validator:(e,l,a)=>{if(l){a(l.split(",").length>1e3?new Error("site value 的值不可大于1000个"):void 0)}else a(void 0)},trigger:["blur","change"]}]},ruleForm:w,search:{adv_offer:""}}),J=i({channel:[{required:!0,message:t,trigger:["blur","change"]}],channel_type:[{required:!0,message:t,trigger:["blur","change"]}],status:[{required:!0,message:t,trigger:["blur","change"]}],title:[{required:!0,message:t,trigger:["blur","change"]}],pkg:[{required:!0,message:t,trigger:["blur","change"]}],platform:[{required:!0,message:t,trigger:["blur","change"]}],country:[{required:!0,message:t,trigger:["blur","change"]},{validator:(e,l,a)=>{0!==l.length?l.length>1?a(new Error("只能填选一个国家")):a(void 0):a(new Error(t))},trigger:["blur","change"]}],revenue:[{required:!0,message:t,trigger:["blur","change"]}],traffic:[{required:!1,validator:(e,l,a)=>{0!==l.length?(e=>{let l=!0;return e.map((e=>{for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){const t=e[a];if((""===t||void 0===t)&&0!==t){l=!1;break}}})),l})(l)?a(void 0):a(new Error("不允许有空值")):a(void 0)},trigger:["blur","change"]}],adv_tracking_link:[{required:!0,message:t,trigger:["blur","change"]}],site_type:[{required:!0,message:t,trigger:["blur","change"]}],is_s2s:[{required:!0,message:t,trigger:["blur","change"]}],site_install_limit_min:[{required:!0,message:t,trigger:["blur","change"]},{validator:r,trigger:["blur","change"]},{validator:u,trigger:["blur","change"]}],site_install_limit_max:[{required:!0,message:t,trigger:["blur","change"]},{validator:r,trigger:["blur","change"]},{validator:u,trigger:["blur","change"]}]});let Y=V(""),G=V(""),Q=V(""),W=V(!0),X=V(!1);const ee=async()=>{R.value=!0;const e=A.cloneDeep(H.ruleForm);let l=o({},e);if(e.conversion_flow&&(l.conversion_flow=e.conversion_flow),l.country=e.country[0],l.revenue=parseFloat(l.revenue),l.target_cvr=parseFloat(l.target_cvr),l.site_install_limit_min=parseFloat(l.site_install_limit_min),l.site_install_limit_max=parseFloat(l.site_install_limit_max),l.fenix_site.day_limit&&(l.fenix_site.day_limit=parseFloat(l.fenix_site.day_limit)),l.fenix_site.day_limit_value?l.fenix_site.day_limit_value=parseFloat(l.fenix_site.day_limit_value):delete l.fenix_site.day_limit_value,0!==e.traffic.length){const a=(e=>{const l=[];return e.map((e=>{let a=o({},e);return e.payout&&(a.payout=Number(e.payout)),e.cap_daily&&(a.cap_daily=Number(e.cap_daily)),l.push(a),e})),l})(e.traffic);l.traffic=JSON.stringify(a)}else delete l.traffic;let a=l.fenix_cvr;let t;a&&0===Object.keys(a).length&&delete l.fenix_cvr,l.cap_total=e.traffic.reduce(((e,l)=>("1"==l.pub_status.toString()&&(e+=Number(l.cap_daily)),e)),0),Q.value,"create"===Q.value&&(t=await K(l)),"edit"===Q.value&&(t=await B(l)),R.value=!1,Z(t)&&window.close()},ae=()=>{W.value=!0},te=x((()=>H.ruleForm.site_value?H.ruleForm.site_value.split(",").length:0)),re=async()=>{const{data:e}=await T();return H.options.channel=e,e},oe=async()=>{const{data:e}=await E();return H.options.country=e,e};i({ruleForm:w}),n((async()=>{ue(),W.value=!1}));const ue=async()=>{Y.value=l.currentRoute.value.name,G.value=l.currentRoute.value.params.id,"fenix-offer-create"===Y.value&&((async()=>{const e=await N();if(200===(null==e?void 0:e.code)){const{offer_id:l}=e;H.ruleForm.offer_id=l.toString()}})(),Q.value="create"),"fenix-offer-edit"===Y.value&&(G.value=l.currentRoute.value.params.id,Q.value="edit",ie()),await(async()=>await Promise.all([re(),oe()]))()},ie=async()=>{const{data:e}=await D(G.value);H.ruleForm=o({},e),H.ruleForm.country=[e.country],H.search.adv_offer=e.adv_offer,H.ruleForm.traffic=e.traffic?JSON.parse(e.traffic):[],q(H.ruleForm)},se=x((()=>"rule_value"===H.ruleForm.site_type));s((()=>H.ruleForm.traffic),((e,l)=>{}),{immediate:!0,deep:!0}),s((()=>H.search.adv_offer),((e,l)=>{H.ruleForm.adv_offer=e})),s((()=>H.ruleForm.adv_offer),((e,l)=>{H.ruleForm.create_type=e?2:1}),{immediate:!0,deep:!0}),S((()=>{let e=H.ruleForm.site_install_limit_min,l=H.ruleForm.site_install_limit_max,a=Number(e),t=Number(l);if(a&&t&&Number.isInteger(a)&&Number.isInteger(t)&&t>=a){let e=[];for(let l=a;l<t+1;l++)e.push(l);H.ruleForm.site_install_limit_value=e.join(",")}else H.ruleForm.site_install_limit_value=""}));const ne=e=>{},de=async()=>{if("edit"===Q.value)return!1;const e=H.ruleForm.adv_offer;if(!e)return!1;const l={adv_offer:e,platform:H.ruleForm.platform};if(e&&e.includes("_")){H.ruleForm.channel_type=2,H.ruleForm.adtype=39;const e=await L(l),{data:a}=e;200===e.status?(H.ruleForm.adv_status=1,ce(a)):H.ruleForm.adv_status=2}else{let a=/^bs(\S+)/,t=/^lh(\S+)/;if(/^bz(\S+)/.test(e)){H.ruleForm.channel_type=1,H.ruleForm.adtype=38;const{data:e}=await I(l);H.ruleForm.adv_status=e.status?e.status:2,me(e)}if(a.test(e)){H.ruleForm.channel_type=4,H.ruleForm.adtype=40;const{data:e}=await $(l);H.ruleForm.adv_status=e.status?e.status:2,me(e)}if(t.test(e)){H.ruleForm.channel_type=6,H.ruleForm.adtype=42;const{data:e}=await M(l);H.ruleForm.adv_status=e.status?e.status:2,me(e)}}},me=e=>{H.ruleForm.channel=e.channel,H.ruleForm.attribute_provider=e.attribute_provider,H.ruleForm.conversion_flow=e.conversion_flow,H.ruleForm.title=e.title,H.ruleForm.pkg=e.pkg_name,H.ruleForm.pid=e.pid,H.ruleForm.platform=e.platform,H.ruleForm.revenue=e.payout,H.ruleForm.adv_tracking_link=e.tracking_link,_e(e.country)},ce=e=>{var l;H.ruleForm.pkg=e.app_pkg_name,H.ruleForm.channel=e.channel,H.ruleForm.country=e.country;const a=null==(l=H.options.platform.find((l=>l.label===e.platform)))?void 0:l.value;H.ruleForm.platform=a||1,H.ruleForm.revenue=e.revenue,H.ruleForm.title=e.title,H.ruleForm.adv_tracking_link=e.tracking_link,H.ruleForm.conversion_flow=9},_e=e=>{e&&(Array.isArray(e)?H.ruleForm.country=e:H.ruleForm.country=[e])},pe=e=>{e.site_value.length,H.ruleForm.site_value=e.site_value,H.ruleForm.site_black_value=e.site_black_value,H.ruleForm.fenix_site=q(e)},fe=e=>{H.ruleForm.fenix_cvr=q(e)},ve=()=>{X.value=!0},ge=x((()=>{if(H.ruleForm.fenix_cvr){let{auto_cvr_status:e,auto_cvr_max:l,auto_cvr_min:a,target_buzz_rate:t}=H.ruleForm.fenix_cvr;return`${1===e?"开":"关"}_${l}_${a}_${t}`}return""}));return(e,l)=>{const t=d("el-input"),r=d("el-form-item"),o=d("el-button"),u=d("el-option"),i=d("el-select"),s=d("el-radio"),n=d("el-radio-group"),V=d("el-switch"),x=d("el-form"),w=d("el-dialog"),C=P("loading");return O((m(),c("div",null,[y(" form "),p(x,{ref_key:"ruleForm",ref:F,enctype:"multipart/form-data",rules:h(J),model:h(H).ruleForm,"label-width":"240px","label-position":"right"},{default:f((()=>[_("div",He,[y(" Offer "),p(r,{label:"Offer:",prop:"offer"},{default:f((()=>[_("div",Ze,[_("span",{textContent:k(h(H).ruleForm.offer_id)},null,8,Je),p(t,{modelValue:h(H).ruleForm.offer_id,"onUpdate:modelValue":l[0]||(l[0]=e=>h(H).ruleForm.offer_id=e),placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Adv Offer "),p(r,{label:"Adv Offer:",prop:"adv_offer"},{default:f((()=>[_("div",Ye,[p(t,{modelValue:h(H).search.adv_offer,"onUpdate:modelValue":l[1]||(l[1]=e=>h(H).search.adv_offer=e),placeholder:"Please input",class:"input-with-select",disabled:"edit"===h(Q)},z({_:2},["create"===h(Q)?{name:"append",fn:f((()=>[p(o,{type:"primary",icon:"Search",onClick:de})]))}:void 0]),1032,["modelValue","disabled"])])])),_:1}),y(" Channel "),p(r,{label:"Channel:",prop:"channel"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.channel,"onUpdate:modelValue":l[2]||(l[2]=e=>h(H).ruleForm.channel=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.channel,(e=>(m(),b(u,{key:e.id,label:e.short_name,value:e.short_name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" Channel Type "),p(r,{label:"Channel Type:",prop:"channel_type"},{default:f((()=>[p(n,{modelValue:h(H).ruleForm.channel_type,"onUpdate:modelValue":l[3]||(l[3]=e=>h(H).ruleForm.channel_type=e),class:"form-one"},{default:f((()=>[p(s,{label:1},{default:f((()=>[Ge])),_:1}),p(s,{label:2},{default:f((()=>[Qe])),_:1}),p(s,{label:4},{default:f((()=>[We])),_:1}),p(s,{label:5},{default:f((()=>[Xe])),_:1}),p(s,{label:6},{default:f((()=>[el])),_:1})])),_:1},8,["modelValue"])])),_:1}),y(" Adv Status "),p(r,{label:"Adv Status:",prop:"adv_status"},{default:f((()=>[_("div",ll,[1===h(H).ruleForm.adv_status?(m(),c("span",al,"开")):y("v-if",!0),2===h(H).ruleForm.adv_status?(m(),c("span",tl,"关")):y("v-if",!0)])])),_:1}),y(" conversion_flow "),p(r,{label:"Conversion Flow:",prop:"conversion_flow"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.conversion_flow,"onUpdate:modelValue":l[4]||(l[4]=e=>h(H).ruleForm.conversion_flow=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.conversion_flow,(e=>(m(),b(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" Status "),p(r,{label:"Status:",prop:"status"},{default:f((()=>[_("div",rl,[p(V,{modelValue:h(H).ruleForm.status,"onUpdate:modelValue":l[5]||(l[5]=e=>h(H).ruleForm.status=e),"active-value":1,"inactive-value":2},null,8,["modelValue"])])])),_:1}),y(" Offer Title "),p(r,{label:"Offer Title:",prop:"title"},{default:f((()=>[_("div",ol,[p(t,{modelValue:h(H).ruleForm.title,"onUpdate:modelValue":l[6]||(l[6]=e=>h(H).ruleForm.title=e),placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Package Name "),p(r,{label:"Package Name:",prop:"pkg"},{default:f((()=>[_("div",ul,[p(t,{modelValue:h(H).ruleForm.pkg,"onUpdate:modelValue":l[7]||(l[7]=e=>h(H).ruleForm.pkg=e),placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Attribute Provider "),p(r,{label:"Attribute Provider:",prop:"attribute_provider"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.attribute_provider,"onUpdate:modelValue":l[8]||(l[8]=e=>h(H).ruleForm.attribute_provider=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.attribute_provider,(e=>(m(),b(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" Pid "),p(r,{label:"Pid:",prop:"pid"},{default:f((()=>[_("div",il,[p(t,{modelValue:h(H).ruleForm.pid,"onUpdate:modelValue":l[9]||(l[9]=e=>h(H).ruleForm.pid=e),placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Platform "),p(r,{label:"Platform:",prop:"platform"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.platform,"onUpdate:modelValue":l[10]||(l[10]=e=>h(H).ruleForm.platform=e),filterable:"",class:"form-one",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.platform,(e=>(m(),b(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" Country "),p(r,{label:"Country:",prop:"country"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.country,"onUpdate:modelValue":l[11]||(l[11]=e=>h(H).ruleForm.country=e),filterable:"",class:"form-one",multiple:"",clearable:"",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.country,(e=>(m(),b(u,{key:e.id,label:e.short_name+"-"+e.zh_cn,value:e.short_name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" Revenue "),p(r,{label:"Revenue:",prop:"revenue"},{default:f((()=>[_("div",sl,[p(t,{modelValue:h(H).ruleForm.revenue,"onUpdate:modelValue":l[12]||(l[12]=e=>h(H).ruleForm.revenue=e),placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Manage Traffic "),p(r,{label:"Manage Traffic:",prop:"traffic"},{default:f((()=>[_("div",nl,[p(h(le),{ref:"traffic",list:h(H).ruleForm.traffic,"onUpdate:list":l[13]||(l[13]=e=>h(H).ruleForm.traffic=e),offer:h(H).ruleForm.offer_id,onKk:ne},null,8,["list","offer"])])])),_:1}),y(" Adv Tracking Link "),p(r,{label:"Adv Tracking Link:",prop:"adv_tracking_link"},{default:f((()=>[_("div",dl,[p(t,{modelValue:h(H).ruleForm.adv_tracking_link,"onUpdate:modelValue":l[14]||(l[14]=e=>h(H).ruleForm.adv_tracking_link=e),rows:4,autosize:"",type:"textarea",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" Target CVR "),p(r,{label:"Target CVR:",prop:"target_cvr"},{default:f((()=>[_("div",ml,[p(t,{modelValue:h(H).ruleForm.target_cvr,"onUpdate:modelValue":l[15]||(l[15]=e=>h(H).ruleForm.target_cvr=e),type:"number",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" CVR Status "),p(r,{label:"CVR Status:",prop:"cvr_status"},{default:f((()=>[_("div",cl,[p(V,{modelValue:h(H).ruleForm.cvr_status,"onUpdate:modelValue":l[16]||(l[16]=e=>h(H).ruleForm.cvr_status=e),"active-value":1,"inactive-value":2},null,8,["modelValue"])])])),_:1}),y(" Auto CVR "),p(r,{label:"Auto CVR:",prop:"auto_cvr"},{default:f((()=>[_("div",_l,[_("div",pl,[p(o,{class:"cp mr-10",icon:"Tools",circle:"",onClick:ve}),_("span",null,k(h(ge)),1)])])])),_:1}),y(" Site Type "),p(r,{label:"Site Type:",prop:"site_type"},{default:f((()=>[p(i,{modelValue:h(H).ruleForm.site_type,"onUpdate:modelValue":l[17]||(l[17]=e=>h(H).ruleForm.site_type=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:f((()=>[(m(!0),c(v,null,g(h(H).options.site_type,(e=>(m(),b(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),y(" site_install_limit_min "),"site_install_limit"===h(H).ruleForm.site_type?(m(),b(r,{key:0,label:"Site Install Limit Min:",prop:"site_install_limit_min"},{default:f((()=>[_("div",fl,[p(t,{modelValue:h(H).ruleForm.site_install_limit_min,"onUpdate:modelValue":l[18]||(l[18]=e=>h(H).ruleForm.site_install_limit_min=e),placeholder:"Please input",class:"input-with-select",type:"number",setup:"1"},null,8,["modelValue"])])])),_:1})):y("v-if",!0),y(" site_install_limit_max "),"site_install_limit"===h(H).ruleForm.site_type?(m(),b(r,{key:1,label:"Site Install Limit Max:",prop:"site_install_limit_max"},{default:f((()=>[_("div",vl,[p(t,{modelValue:h(H).ruleForm.site_install_limit_max,"onUpdate:modelValue":l[19]||(l[19]=e=>h(H).ruleForm.site_install_limit_max=e),placeholder:"Please input",class:"input-with-select",type:"number",setup:"1"},null,8,["modelValue"])])])),_:1})):y("v-if",!0),y(' <el-form-item\n          label="site_install_limit_value:"\n          prop="site_install_limit_value"\n        >\n          <div class="flex jc-start ai-center form-one">\n            {{state.ruleForm.cap_total}}\n            <br>\n            {{state.ruleForm.site_install_limit_value}}\n          </div>\n        </el-form-item> '),y(" Site Value "),p(r,{label:"Site Value:",prop:"site_value",rules:h(se)?h(H).choiceRules.site_value:h(H).choiceRules.no_required},{default:f((()=>[_("div",gl,[_("div",bl,[p(o,{class:"cp mr-10",icon:"Tools",circle:"",onClick:ae}),_("span",null,k(h(te)),1)]),_("div",null,[y(' <el-input\n                v-model="state.ruleForm.site_value"\n                type="textarea"\n                autosize\n                :rows="4"\n                placeholder="Please input"\n                class="input-with-select siteValue"\n              /> '),_("p",hl,k(h(H).ruleForm.site_value),1)])])])),_:1},8,["rules"]),y(" S2S Async "),p(r,{label:"S2S Async:",prop:"is_s2s"},{default:f((()=>[_("div",yl,[p(V,{modelValue:h(H).ruleForm.is_s2s,"onUpdate:modelValue":l[20]||(l[20]=e=>h(H).ruleForm.is_s2s=e),"active-value":1,"inactive-value":2},null,8,["modelValue"])])])),_:1}),y(" S2S Tracking Link "),p(r,{label:"S2S Tracking Link:",prop:"s2s_tracking_link",rules:1===h(H).ruleForm.is_s2s?h(H).choiceRules.s2s_tracking_link:h(H).choiceRules.no_required},{default:f((()=>[_("div",Fl,[p(t,{modelValue:h(H).ruleForm.s2s_tracking_link,"onUpdate:modelValue":l[21]||(l[21]=e=>h(H).ruleForm.s2s_tracking_link=e),rows:2,type:"textarea",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1},8,["rules"]),y(" Preview URL "),p(r,{label:"Preview URL:",prop:"app_url",rules:1===h(H).ruleForm.is_s2s?h(H).choiceRules.app_url:h(H).choiceRules.no_required},{default:f((()=>[_("div",Vl,[p(t,{modelValue:h(H).ruleForm.app_url,"onUpdate:modelValue":l[22]||(l[22]=e=>h(H).ruleForm.app_url=e),rows:2,type:"textarea",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1},8,["rules"]),y(" Description "),p(r,{label:"Description:",prop:"description"},{default:f((()=>[_("div",xl,[p(t,{modelValue:h(H).ruleForm.description,"onUpdate:modelValue":l[23]||(l[23]=e=>h(H).ruleForm.description=e),rows:2,type:"textarea",placeholder:"Please input",class:"input-with-select"},null,8,["modelValue"])])])),_:1}),y(" end ")])])),_:1},8,["rules","model"]),y(" form "),y(" footer "),_("div",wl,[p(o,{type:"primary",onClick:l[24]||(l[24]=j((e=>(async e=>{e&&await e.validate(((e,l)=>{e&&ee()}))})(F.value)),["prevent"]))},{default:f((()=>[kl])),_:1})]),y(" dialog "),p(w,{modelValue:h(W),"onUpdate:modelValue":l[26]||(l[26]=e=>U(W)?W.value=e:W=e),title:"Site",width:"70%"},{default:f((()=>[p(Ne,{ref_key:"refChildren",ref:a,msg:h(H).ruleForm,onUpdateData:pe,visible:h(W),"onUpdate:visible":l[25]||(l[25]=e=>U(W)?W.value=e:W=e)},null,8,["msg","visible"])])),_:1},8,["modelValue"]),y(" dialog "),p(w,{modelValue:h(X),"onUpdate:modelValue":l[28]||(l[28]=e=>U(X)?X.value=e:X=e),title:"Auto CVR",width:"70%"},{default:f((()=>[p(Be,{msg:h(H).ruleForm,onUpdateData:fe,visible:h(X),"onUpdate:visible":l[27]||(l[27]=e=>U(X)?X.value=e:X=e)},null,8,["msg","visible"])])),_:1},8,["modelValue"])])),[[C,h(R)]])}}}),[["__scopeId","data-v-2659fc52"]]);export{Ul as default};
