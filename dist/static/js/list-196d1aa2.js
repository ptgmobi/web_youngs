import{_ as e,d as l,r as a,M as t,m as o,a1 as r,s as n,n as i,v as d,z as s,c as u,p as c,O as p,P as m,K as f,V as b,A as h,b as y,x as v,q as g,W as _,L as V}from"./index-b160a4d6.js";import{P as x}from"./index-e884940e.js";import{A as w}from"./advertiser-bb062d7a.js";import{_ as k}from"./lodash-ad752a46.js";const U={class:"controlBox w100 mb-10"},C={class:"mb-10"},z=y("Offer Create"),P={class:"flex jc-start flex-wrap w100"},j={class:"flex"},O={class:"flex"},Q=y(" 查询 "),S={class:"flex jc-around"},A=["href"],E=["src"],q={class:"flex jc-around"},D={class:"w100 flex"};var I=e(l({__name:"list",setup(e){let{proxy:l}=V();const I=a({loading:!0}),$=a({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),F=a({});a({});let L=a({list:[]});const N=a({pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}),T=()=>{k.cloneDeep($),K()},B=()=>{l.$router.push({path:"/advertiser/offer/create",query:{type:"create"}})},K=()=>{(async()=>{N.listQuery.page,N.listQuery.limit;const e=await w();L.list=e.info.data,I.loading=!1})()};return t((()=>{K()})),(e,a)=>{const t=o("el-button"),V=o("el-option"),w=o("el-select"),k=o("el-form-item"),M=o("el-input"),W=o("el-form"),G=o("el-table-column"),H=o("el-switch"),J=o("el-table"),R=r("loading");return n(),i("div",null,[d("div",U,[d("div",C,[s(' <router-link to="/buzz/buzz-async-create">\n          <el-button type="primary">\n            Offer Create\n          </el-button>\n        </router-link> '),u(t,{type:"primary",onClick:B},{default:c((()=>[z])),_:1})]),u(W,{modelValue:$,"onUpdate:modelValue":a[8]||(a[8]=e=>f($)?$.value=e:null),inline:!0,class:"flex jc-between w100 ai-end"},{default:c((()=>[d("div",P,[u(k,{label:""},{default:c((()=>[u(w,{modelValue:$.attribute_provider,"onUpdate:modelValue":a[0]||(a[0]=e=>$.attribute_provider=e),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:c((()=>[(n(!0),i(p,null,m(F.attribute_provider,(e=>(n(),h(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(w,{modelValue:$.platform,"onUpdate:modelValue":a[1]||(a[1]=e=>$.platform=e),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:c((()=>[(n(!0),i(p,null,m(F.platform,(e=>(n(),h(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.package_name,"onUpdate:modelValue":a[2]||(a[2]=e=>$.package_name=e),placeholder:"Package Name",class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.channel,"onUpdate:modelValue":a[3]||(a[3]=e=>$.channel=e),placeholder:"Channel",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.id,"onUpdate:modelValue":a[4]||(a[4]=e=>$.id=e),placeholder:"ID",class:"search-con"},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.offer_title,"onUpdate:modelValue":a[5]||(a[5]=e=>$.offer_title=e),placeholder:"Offer Title",class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.country,"onUpdate:modelValue":a[6]||(a[6]=e=>$.country=e),placeholder:"Country",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),u(k,{label:""},{default:c((()=>[u(M,{modelValue:$.pid,"onUpdate:modelValue":a[7]||(a[7]=e=>$.pid=e),placeholder:"Pid",class:"search-con"},null,8,["modelValue"])])),_:1})]),d("div",j,[u(k,{class:"mr-0",style:{"margin-right":"0px"}},{default:c((()=>[d("div",O,[u(t,{type:"primary",onClick:T},{default:c((()=>[Q])),_:1}),s(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])])),_:1})])])),_:1},8,["modelValue"]),s(' <el-input placeholder="请输入内容" v-model="searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),s(" table "),b((n(),h(J,{center:"",data:g(L).list,class:"w100",height:"70vh",border:""},{default:c((()=>[u(G,{fixed:"",prop:"id",label:"ID",align:"center"}),u(G,{fixed:"",prop:"logo",label:"Logo",align:"center"},{default:c((e=>[d("div",S,[d("a",{href:e.row.icon,class:"offer-icon-box"},[d("img",{src:e.row.icon,alt:"",class:"offer-icon"},null,8,E)],8,A)])])),_:1}),u(G,{fixed:"",prop:"title",label:"Offer Title",align:"center"}),u(G,{prop:"platform",label:"Platform",align:"center"},{default:c((e=>[y(v(1===Number(e.row.platform)?"Android":"iOS"),1)])),_:1}),u(G,{prop:"country_data",label:"Country",align:"center"}),u(G,{prop:"payout",label:"Payout",align:"center"}),u(G,{label:"Operation",align:"center"},{default:c((e=>[d("div",q,[s(' <router-link :to="getEditUrl(scope.row)">\n              <el-button\n                class="cp mr-10"\n                type="primary"\n                icon="Edit"\n                circle\n              ></el-button>\n            </router-link> '),u(t,{class:"cp mr-10",type:"primary",icon:"Edit",circle:"",onClick:a=>(e=>{let{id:a}=e,t=`/advertiser/offer/edit/${a}`;l.$router.push({path:t,query:{type:"edit"}})})(e.row)},null,8,["onClick"]),u(H,{modelValue:e.row.status,"onUpdate:modelValue":l=>e.row.status=l,"active-value":1,"inactive-value":2,onChange:l=>{e.row}},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1})])),_:1},8,["data"])),[[R,I.loading]]),s(" 分页 "),d("div",D,[b(u(g(x),{page:N.listQuery.page,"onUpdate:page":a[9]||(a[9]=e=>N.listQuery.page=e),limit:N.listQuery.limit,"onUpdate:limit":a[10]||(a[10]=e=>N.listQuery.limit=e),total:N.total,"page-sizes":N.pageSizes,onPagination:K},null,8,["page","limit","total","page-sizes"]),[[_,N.total]])])])}}}),[["__scopeId","data-v-3f086fae"]]);export{I as default};
