import{d as e,r as l,L as t,q as a,o as r,c as o,e as i,s as u,v as n,f as d,x as s,z as c,N as m,h as p,I as f,a1 as _,w as v,y as b,K as g,a as y,O as F,A as h,g as k,E as V}from"./main-ce43ffdd.js";import{f as x,g as w,h as D,i as C,_ as j,j as U,d as q}from"./device-6ff11a71.js";import{m as S}from"./message-1c1d9ef1.js";import{h as O}from"./buzz-a744532d.js";import"./format-00f0450d.js";import"./moment-56f006b0.js";import"./lodash-6b3789ad.js";const E={class:"dialog-footer mt-10"},N=e({__name:"site",props:{msg:{require:!0,default:()=>"",type:Array}},emits:["kk","up"],setup(e,{emit:p}){const f="此项必填";const _=e=>{let l=new RegExp(/\n+/),t=new RegExp(/[\S]+/),a=e.split(l),r=!0,o=[];return a.forEach(((e,l)=>{if(e&&t.test(e)){let l=e.trim().split(/\s+/);if(2===l.length){let e={diy_siteid:l[0],weight:l[1]};o.push(e)}else r=!1}else r=!1})),r?o:[]};let v=l({siteData:e.msg,siteRules:{site:[{required:!0,validator:(e,l,t)=>{if(""!==l){const e=_(l);t(e?void 0:new Error("格式错误！"))}else t(new Error(f))},trigger:"blur"}]},siteRuleForm:{site:""}});const b=()=>{v.siteData=[..._(v.siteRuleForm.site)]},g=()=>{v.siteData=[]},y=()=>{p("kk",v.siteData)};return t((()=>{})),(e,l)=>{const t=a("el-input"),p=a("el-form-item"),f=a("el-button"),_=a("el-form"),F=a("el-table-column"),h=a("el-table");return r(),o(m,null,[i(_,{ref:"siteRuleForm",enctype:"multipart/form-data",rules:n(v).siteRules,model:n(v).siteRuleForm,"label-position":"right"},{default:u((()=>[i(p,{label:"diy_siteid:",prop:"site"},{default:u((()=>[i(t,{modelValue:n(v).siteRuleForm.site,"onUpdate:modelValue":l[0]||(l[0]=e=>n(v).siteRuleForm.site=e),class:"w100",type:"textarea",rows:4,placeholder:""},null,8,["modelValue"])])),_:1}),i(p,null,{default:u((()=>[i(f,{type:"primary",onClick:b},{default:u((()=>[d(" 添加 ")])),_:1})])),_:1})])),_:1},8,["rules","model"]),i(h,{data:n(v).siteData},{default:u((()=>[i(F,{align:"center",property:"diy_siteid",label:"diy_siteid"}),i(F,{align:"center",property:"weight",label:"权重"}),i(F,{align:"center",label:"操作"},{default:u((e=>[i(f,{type:"danger",onClick:l=>{return e.row,t=e.$index,void v.siteData.splice(t,1);var t}},{default:u((()=>[d(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),s("span",E,[c(' <el-button @click="cancleDevice">取 消</el-button> '),i(f,{type:"primary",onClick:g},{default:u((()=>[d("清 空")])),_:1}),i(f,{type:"primary",onClick:y},{default:u((()=>[d("确 定")])),_:1})])],64)}}}),R={class:"w100"},A={class:"flex jc-start"},I=["textContent"],M=s("span",null,"-",-1),P=["textContent"],L=s("span",null,"总设备数:",-1),z=["textContent"],J=s("span",null,"选中设备数:",-1),T=["textContent"],H={class:"p0-10"},K=e({__name:"cutOff",props:{query:{require:!0,default:()=>({}),type:Object}},emits:["up"],setup(e,{emit:t}){const u=e;let m=p(0),y=l({cutoff_start:u.query.cutoff_start,cutoff_end:u.query.cutoff_end}),F=y.cutoff_start?100*Number(y.cutoff_start):0,h=y.cutoff_end?100*Number(y.cutoff_end):100,k=p([F,h]);const V=async()=>{const{pkg_name:e,country:l,platform:t}=u.query;if(e&&l&&t){const a={pkg_name:e,country:l,platform:t},r=await(async e=>{const l=await O(e),{data:t}=l;return 0!==t.length?t.findLast((e=>e)).device_num:0})(a);m.value=r}},x=f((()=>{const e=m.value,l=y.cutoff_start?Number(y.cutoff_start):0;return{judge:(((y.cutoff_end?Number(y.cutoff_end):1)-l)*e).toFixed(0),all:e.toFixed(0)}}));_((()=>{V()})),v((()=>u.query),((e,l)=>{void 0!==e.cutoff_start&&void 0!==e.cutoff_end&&(y.cutoff_start=e.cutoff_start,y.cutoff_end=e.cutoff_end)}),{immediate:!0,deep:!0});const w=e=>{var l;l=e,y.cutoff_start=l[0]/100,y.cutoff_end=l[1]/100,t("up",y)};return(e,l)=>{const t=a("el-slider");return r(),o("div",R,[s("div",A,[s("span",{textContent:b((100*n(y).cutoff_start).toFixed(0))},null,8,I),d(" % "),M,s("span",{textContent:b((100*n(y).cutoff_end).toFixed(0))},null,8,P),d(" % （ "),L,s("span",{textContent:b(n(x).all)},null,8,z),d(" ） （ "),J,s("span",{textContent:b(n(x).judge)},null,8,T),d(" ） "),c(" {{cutoff[0]}}-{{cutoff[1]}} ")]),s("div",H,[i(t,{modelValue:n(k),"onUpdate:modelValue":l[0]||(l[0]=e=>g(k)?k.value=e:k=e),class:"device-cutoff",range:"",step:5,"show-stops":!0,"show-input":"",min:0,max:100,onChange:w},null,8,["modelValue"])])])}}}),$={class:"content-con flex column"},B={class:"flex jc-start form-one radio-box"},G=["textContent"],Q={class:"form-one flex jc-start"},W={class:"form-one flex jc-start"},X={class:"flex jc-start form-one"},Y={class:"flex jc-start form-one"},Z={class:"flex jc-start form-one"},ee={class:"flex form-one jc-start radio-box"},le={class:"flex jc-start form-one jc-start radio-box"},te={class:"w100 flex"},ae={slot:"footer",class:"dialog-footer"},re=e({__name:"details",setup(e){let{proxy:_}=k();const g=y(),O="此项必填";let E=l({offer:{},index:null,cacheDevice:{}}),R=p(""),A=p(0),I=p([0,100]),M=l({dialogVisibleDevice:!1,dialogVisibleSite:!1,search:{id:"",baseDeviceSelect:{},deviceData:{all:[],select:[],count:0}},type:"1",params:"",loading:!0,options:{channel:[],attribute_provider:["AppsFlyer","Branch","Adjust","Singular","AppMetrica","Lazada","Other"],time:[-1,...[...new Array(24)].map(((e,l)=>l))],platform:[{value:1,label:"Android"},{value:2,label:"iOS"}],country:[],site_id:["0.2","0.4","0.6","1","2","4","8","24","72","168"],category:[],devices:[]},ruleForm:{type:"",id:"",offer_id:void 0,operation_type:"",channel:"",copy_offer:"",attribute_provider:"AppsFlyer",title:"",tracking_link:"",pid:"",pkg_name:"",conversion_flow:"",event_name:"",payout:void 0,platform:"",country:"",max_clk_num:void 0,site_clk_limit:void 0,site_install_limitation:void 0,start_hour:"-1",end_hour:"-1",device:[],cutoff_start:void 0,cutoff_end:void 0,diy_siteid:"",site_id:"",hour:void 0,clk_id:"",site_clk_id:"",note:"",campaign_id:"",p_type:2},rules:{channel:[{required:!0,message:O,trigger:["blur","change"]}],attribute_provider:[{required:!0,message:O,trigger:["blur","change"]}],title:[{required:!0,message:O,trigger:["blur","change"]}],tracking_link:[{required:!0,message:O,trigger:["blur","change"]},{validator:(e,l,t)=>{new RegExp("\\s+","g").test(l)?t(new Error("链接中有空格")):t(void 0),t(void 0)}},{validator:(e,l,t)=>{/^http/.test(l)||/^lazada/.test(l)?t(void 0):t(new Error("必须为有效链接")),t(void 0)}},{validator:(e,l,t)=>{"AppsFlyer"===M.ruleForm.attribute_provider?t(void 0):"Adjust"===M.ruleForm.attribute_provider&&(l.includes("install_callback")||l.includes("event_callback")?t(new Error("链接里不可以包含install_callback和event_callback")):t(void 0)),t(void 0)}}],pkg_name:[{required:!0,message:O,trigger:["blur","change"]}],conversion_flow:[{required:!0,message:O,trigger:["blur","change"]}],event_name:[{required:!0,message:O,trigger:["blur","change"]},{validator:(e,l,t)=>{"1"===M.ruleForm.conversion_flow?t(void 0):t(l?void 0:new Error(O))}}],payout:[{required:!0,message:O,trigger:["blur","change"]}],platform:[{required:!0,message:O,trigger:["blur","change"]}],country:[{required:!0,message:O,trigger:["blur","change"]}],max_clk_num:[{required:!0,message:O,trigger:["blur","change"]}],device:[{required:!0,validator:(e,l,t)=>{t(void 0)},trigger:["blur","change"]}],site_id:[{required:!0,validator:(e,l,t)=>{l?"1"===l.toString()||M.ruleForm.hour?t(void 0):t(new Error("请选择具体数值")):t(new Error(O))},trigger:["blur","change"]}],clk_id:[{required:!0,message:O,trigger:["blur","change"]}],start_hour:[{required:!1,validator:(e,l,t)=>{""!==l&&(""===M.ruleForm.end_hour?t(new Error(O)):t(void 0))},trigger:["blur","change"]}],end_hour:[{required:!1,validator:(e,l,t)=>{""!==l&&(""===M.ruleForm.start_hour?t(new Error(O)):t(void 0))},trigger:["blur","change"]}],cutoff_start:[{required:!0,trigger:["blur","change"]}],cutoff_end:[{required:!0,trigger:["blur","change"]}],p_type:[{required:!0,trigger:["blur","change"]}]},siteData:[]});const P=()=>{M.dialogVisibleSite=!0;const e=M.ruleForm.diy_siteid;M.siteData=e},L=()=>{z("ruleForm")},z=e=>{_.$refs[e].validate((e=>{if(!e)return!1;J()}))},J=async()=>{let e;M.ruleForm;let l={...M.ruleForm};l.clk_id=parseFloat(l.clk_id),l.conversion_flow=parseFloat(l.conversion_flow),l.cutoff_end=parseFloat(l.cutoff_end),l.cutoff_start=parseFloat(l.cutoff_start),l.end_hour=parseFloat(l.end_hour),l.start_hour=parseFloat(l.start_hour),l.hour=parseFloat(l.hour),l.max_clk_num=parseFloat(l.max_clk_num),l.payout=parseFloat(l.payout),l.platform=parseFloat(l.platform),l.site_clk_id=parseFloat(l.site_clk_id),l.site_clk_limit=parseFloat(l.site_clk_limit),l.site_id=parseFloat(l.site_id),l.site_install_limitation=parseFloat(l.site_install_limitation),l.diy_siteid=JSON.stringify(l.diy_siteid),l.device=JSON.stringify(l.device),"1"===M.ruleForm.type&&(delete l.id,delete l.offer_id,e=await x(l)),"2"===M.ruleForm.type&&(e=await w(l)),S(e)&&window.close()},T=e=>{M.ruleForm.diy_siteid=e,M.dialogVisibleSite=!1},H=e=>{E.cacheDevice.select=e},re=()=>{M.ruleForm.device=E.cacheDevice.select,M.dialogVisibleDevice=!1};v(I,((e,l)=>{(e=>{M.ruleForm.cutoff_start=e[0]/100,M.ruleForm.cutoff_end=e[1]/100})(e)}),{immediate:!0});f((()=>{const e=A.value,l=M.ruleForm.cutoff_start,t=M.ruleForm.cutoff_end;return{judge:((Number(t)-Number(l))*Number(e)).toFixed(0),all:Number(e).toFixed(0)}}));const oe=e=>{M.ruleForm.cutoff_start=e.cutoff_start,M.ruleForm.cutoff_end=e.cutoff_end},ie=(e,l)=>{let t={};return l.type,e.device&&(e.device=JSON.parse(e.device)),e.diy_siteid&&(e.diy_siteid=JSON.parse(e.diy_siteid)),"2"===l.type&&(t.id=e.id,t.offer_id=e.offer_id),t={...e,...l},"1"===l.type&&(delete t.id,delete t.offer_id),t},ue=()=>{M.ruleForm.platform&&M.ruleForm.country?(M.dialogVisibleDevice=!0,E.cacheDevice.select=M.ruleForm.device,(async()=>{const e={id:M.ruleForm.id,platform:M.ruleForm.platform,country:M.ruleForm.country},{data:l}=await q(e);E.cacheDevice.all=l.all})()):V.error("请提前选择平台和国家")},ne=()=>{(async e=>{const l=await U({offer_id:e}),{data:t}=l,a=ie(t,{type:M.ruleForm.type,isCopy:!0});M.ruleForm={...M.ruleForm,...a}})(M.ruleForm.copy_offer)},de=f((()=>{const e=M.ruleForm.tracking_link,l=M.ruleForm.attribute_provider;let t="";if("AppsFlyer"===l){const l=/pid=([\s\S]*)_int/g,a=[...e.matchAll(l)];if(0!==a.length)return t=a[0][1],M.ruleForm.pid=t,t}if("Adjust"===l){const l=/https:\/\/app.adjust.com\/([\s\S]*)\?/g,a=[...e.matchAll(l)];if(0!==a.length)return t=a[0][1],M.ruleForm.pid=t,t}return M.ruleForm.pid=t,t}));return f((()=>{let e=0;if(E.cacheDevice,E.cacheDevice.hasOwnProperty("all")&&E.cacheDevice.hasOwnProperty("select")){let l=E.cacheDevice.all,t=E.cacheDevice.select;0!==l.length&&0!==t.length&&l.forEach((l=>{t.forEach((t=>{l.source===t.source&&l.label===t.label&&(e+=parseInt(l.device_count))}))})),M.search.deviceData.count=e}return null!=e?e:M.search.deviceData.count})),t((()=>{if((async()=>{const e=await D();if(e){const{data:l}=e;return M.options.channel=Object.values(l.channel),M.options.country=Object.values(l.country),M.options.category=Object.values(l.category),"获取配置成功"}})(),R.value=g.currentRoute.value.name,R.value,"light-create"===R.value&&(M.ruleForm.operation_type="1",M.ruleForm.type="1"),"light-edit"===R.value){M.ruleForm.operation_type="2",M.ruleForm.type="2";(async e=>{const l=await C(e),{data:t}=l;M.ruleForm=ie(t,{type:M.ruleForm.type,isCopy:!1}),E.offer=t})(g.currentRoute.value.params.id)}})),(e,l)=>{const t=a("el-form-item"),p=a("el-option"),f=a("el-select"),_=a("el-button"),v=a("el-input"),g=a("el-radio"),y=a("el-form"),k=a("el-dialog");return r(),o("div",null,[c(" form "),i(y,{ref:"ruleForm",enctype:"multipart/form-data",rules:n(M).rules,model:n(M).ruleForm,"label-width":"240px","label-position":"right"},{default:u((()=>[s("div",$,[c(" offer_id "),i(t,{label:"Offer ID:",prop:"offer_id"},{default:u((()=>[s("div",B,[s("span",{textContent:b(n(M).ruleForm.offer_id)},null,8,G)])])),_:1}),c(" channel "),i(t,{label:"Channel:",prop:"channel"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.channel,"onUpdate:modelValue":l[0]||(l[0]=e=>n(M).ruleForm.channel=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.channel,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" copy_offer "),i(t,{label:"Copy Offer:",prop:"copy_offer"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.copy_offer,"onUpdate:modelValue":l[1]||(l[1]=e=>n(M).ruleForm.copy_offer=e),modelModifiers:{trim:!0},class:"form-one copy-btn search-input",placeholder:""},{append:u((()=>[i(_,{slot:"append",type:"primary",icon:"Search",onClick:ne})])),_:1},8,["modelValue"])])),_:1}),c(" attribute_provider "),i(t,{label:"Attribute Provider:",prop:"attribute_provider"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.attribute_provider,"onUpdate:modelValue":l[2]||(l[2]=e=>n(M).ruleForm.attribute_provider=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.attribute_provider,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" title "),i(t,{label:"Offer Title:",prop:"title"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.title,"onUpdate:modelValue":l[3]||(l[3]=e=>n(M).ruleForm.title=e),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])])),_:1}),c(" tracking_link "),c(" 此处需要去除空格和制表符 "),i(t,{class:"mb-30",label:"Traking Link:",prop:"tracking_link"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.tracking_link,"onUpdate:modelValue":l[4]||(l[4]=e=>n(M).ruleForm.tracking_link=e),modelModifiers:{trim:!0},class:"form-one",type:"textarea",autosize:{minRows:8,maxRows:80},placeholder:""},null,8,["modelValue"])])),_:1}),c(" pid "),i(t,{label:"Pid:",prop:"pid"},{default:u((()=>[s("div",Q,[s("span",null,b(n(de)),1),c(" <span>{{data.ruleForm.pid}}</span> ")])])),_:1}),c(" pkg_name "),i(t,{label:"Package Name:",prop:"pkg_name"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.pkg_name,"onUpdate:modelValue":l[5]||(l[5]=e=>n(M).ruleForm.pkg_name=e),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])])),_:1}),c(" conversion_flow_type "),i(t,{label:"Conversion Flow:",prop:"conversion_flow"},{default:u((()=>[s("div",W,[i(g,{modelValue:n(M).ruleForm.conversion_flow,"onUpdate:modelValue":l[6]||(l[6]=e=>n(M).ruleForm.conversion_flow=e),label:1},{default:u((()=>[d(" CPI ")])),_:1},8,["modelValue"]),i(g,{modelValue:n(M).ruleForm.conversion_flow,"onUpdate:modelValue":l[7]||(l[7]=e=>n(M).ruleForm.conversion_flow=e),label:2},{default:u((()=>[d(" CPA ")])),_:1},8,["modelValue"])])])),_:1}),c(" conversion_flow "),2===n(M).ruleForm.conversion_flow?(r(),h(t,{key:0,label:"Event Name:",prop:"event_name"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.event_name,"onUpdate:modelValue":l[8]||(l[8]=e=>n(M).ruleForm.event_name=e),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])])),_:1})):c("v-if",!0),c(" payout "),i(t,{label:"Payout($):",prop:"payout"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.payout,"onUpdate:modelValue":l[9]||(l[9]=e=>n(M).ruleForm.payout=e),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),c(" platform "),i(t,{label:"Select Platform:",prop:"platform"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.platform,"onUpdate:modelValue":l[10]||(l[10]=e=>n(M).ruleForm.platform=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.platform,(e=>(r(),h(p,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" country "),i(t,{label:"Targeting Countries:",prop:"country"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.country,"onUpdate:modelValue":l[11]||(l[11]=e=>n(M).ruleForm.country=e),filterable:"",class:"form-one",clearable:"",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.country,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" max_clk_num "),i(t,{label:"Click Limitation:",prop:"max_clk_num"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.max_clk_num,"onUpdate:modelValue":l[12]||(l[12]=e=>n(M).ruleForm.max_clk_num=e),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),c(" Site Click Limitation "),i(t,{label:"Site Click Limitation:",prop:"site_clk_limit"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.site_clk_limit,"onUpdate:modelValue":l[13]||(l[13]=e=>n(M).ruleForm.site_clk_limit=e),modelModifiers:{trim:!0},class:"form-one",type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),c(" start_hour "),i(t,{label:"Start Hour:",prop:"start_hour"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.start_hour,"onUpdate:modelValue":l[14]||(l[14]=e=>n(M).ruleForm.start_hour=e),filterable:"",class:"form-one",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.time,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" end_hour "),i(t,{label:"End Hour:",prop:"end_hour"},{default:u((()=>[i(f,{modelValue:n(M).ruleForm.end_hour,"onUpdate:modelValue":l[15]||(l[15]=e=>n(M).ruleForm.end_hour=e),filterable:"",class:"form-one",placeholder:""},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.time,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),c(" site_install_limitation"),c(' <el-form-item label="Site Install Limitation:" prop="site_install_limitation">\n          <el-select filterable class=\'form-one\' v-model="data.ruleForm.site_install_limitation" clearable placeholder="">\n            <el-option\n              v-for="item in 6"\n              :key="item"\n              :label="item - 1"\n              :value="item - 1">\n            </el-option>\n          </el-select>\n        </el-form-item> '),i(t,{label:"Delivery mode:",prop:"p_type"},{default:u((()=>[s("div",X,[i(g,{modelValue:n(M).ruleForm.p_type,"onUpdate:modelValue":l[16]||(l[16]=e=>n(M).ruleForm.p_type=e),label:1},{default:u((()=>[d(" 算法 ")])),_:1},8,["modelValue"]),i(g,{modelValue:n(M).ruleForm.p_type,"onUpdate:modelValue":l[17]||(l[17]=e=>n(M).ruleForm.p_type=e),label:2},{default:u((()=>[d(" 标签 ")])),_:1},8,["modelValue"])])])),_:1}),c(" Select Device "),2==n(M).ruleForm.p_type?(r(),h(t,{key:1,label:"Select Device:",prop:"device"},{default:u((()=>[s("div",Y,[i(_,{class:"cp ml-10",type:"primary",icon:"Setting",circle:"",onClick:ue}),c(" <span class=\"ml-10\" v-text='countDevice'></span> ")])])),_:1})):c("v-if",!0),c(" Device Cutoff "),c(' <el-form-item label="Device Cutoff:" prop="cutoff_start">\n          <div class="flex ai-center">\n            <span v-text="data.ruleForm.cutoff_start * 100"></span>\n            %\n            <span>-</span>\n            <span v-text="data.ruleForm.cutoff_end * 100"></span>\n            % （\n            <span>总设备数:</span>\n            <span v-text="handleDeviceNum.all"></span>\n            ） （\n            <span>选中设备数:</span>\n            <span v-text="handleDeviceNum.judge"></span>\n            ）\n          </div>\n          <div class="flex jc-start form-one p10 pt-0 pb-0">\n            <el-slider\n              class="w100"\n              v-model="cutoff"\n              range\n              :step="5"\n              :show-stops="true"\n              show-input\n              :min="0"\n              :max="100"\n            ></el-slider>\n          </div>\n        </el-form-item> '),c(" Device Cutoff "),1==n(M).ruleForm.p_type?(r(),h(t,{key:2,label:"Device Cutoff:",prop:"cutoff_start"},{default:u((()=>[i(K,{class:"form-one",query:n(M).ruleForm,onUp:oe},null,8,["query"])])),_:1})):c("v-if",!0),c(" diy_siteid "),i(t,{label:"Diy SiteID:",prop:"site"},{default:u((()=>[s("div",Z,[i(_,{class:"cp ml-10",icon:"Tools",circle:"",onClick:P})])])),_:1}),c(" site_id "),i(t,{label:"Site ID:",prop:"site_id"},{default:u((()=>[s("div",ee,[i(g,{modelValue:n(M).ruleForm.site_id,"onUpdate:modelValue":l[18]||(l[18]=e=>n(M).ruleForm.site_id=e),label:1},{default:u((()=>[d(" Slot_ID ")])),_:1},8,["modelValue"]),i(g,{modelValue:n(M).ruleForm.site_id,"onUpdate:modelValue":l[19]||(l[19]=e=>n(M).ruleForm.site_id=e),label:2},{default:u((()=>[d(" Update(Hours) ")])),_:1},8,["modelValue"]),i(f,{modelValue:n(M).ruleForm.hour,"onUpdate:modelValue":l[20]||(l[20]=e=>n(M).ruleForm.hour=e),filterable:"",class:"form-one ml-10",clearable:"",placeholder:"",disabled:2!==n(M).ruleForm.site_id},{default:u((()=>[(r(!0),o(m,null,F(n(M).options.site_id,(e=>(r(),h(p,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])])),_:1}),c(" clk_id "),i(t,{label:"Click ID:",prop:"clk_id"},{default:u((()=>[s("div",le,[i(g,{modelValue:n(M).ruleForm.clk_id,"onUpdate:modelValue":l[21]||(l[21]=e=>n(M).ruleForm.clk_id=e),label:1},{default:u((()=>[d(" Real ")])),_:1},8,["modelValue"]),i(g,{modelValue:n(M).ruleForm.clk_id,"onUpdate:modelValue":l[22]||(l[22]=e=>n(M).ruleForm.clk_id=e),label:2},{default:u((()=>[d(" Virtual ")])),_:1},8,["modelValue"])])])),_:1}),c(" site_clk_id "),c(' <el-form-item label="Site Click ID:" prop="site_clk_id">\n          <div class=\'flex jc-start form-one jc-start radio-box\'>\n            <el-radio v-model="data.ruleForm.site_clk_id" :label="1">ON</el-radio>\n            <el-radio v-model="data.ruleForm.site_clk_id" :label="2">OFF</el-radio>\n          </div>\n        </el-form-item> '),c(" category "),c(' <el-form-item label="Category:" prop="category_id">\n          <el-select filterable class=\'form-one\' v-model="data.ruleForm.category_id" clearable placeholder="">\n            <el-option\n              v-for="(value, key) in handleOptionsCategory"\n              :key="key"\n              :label="value"\n              :value="key">\n            </el-option>\n          </el-select>\n        </el-form-item> '),c(" campaign_id "),i(t,{label:"Campaign ID:",prop:"campaign_id"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.campaign_id,"onUpdate:modelValue":l[23]||(l[23]=e=>n(M).ruleForm.campaign_id=e),modelModifiers:{trim:!0},class:"form-one",type:"text",placeholder:""},null,8,["modelValue"])])),_:1}),c(" note "),i(t,{label:"Note:",prop:"note"},{default:u((()=>[i(v,{modelValue:n(M).ruleForm.note,"onUpdate:modelValue":l[24]||(l[24]=e=>n(M).ruleForm.note=e),modelModifiers:{trim:!0},class:"form-one",type:"textarea",autosize:{minRows:8,maxRows:80},placeholder:""},null,8,["modelValue"])])),_:1})])])),_:1},8,["rules","model"]),c(" form "),c(" footer "),s("div",te,[i(_,{type:"primary",onClick:L},{default:u((()=>[d(" Save ")])),_:1})]),c(" footer "),c(" dialog "),c(" device "),i(k,{modelValue:n(M).dialogVisibleDevice,"onUpdate:modelValue":l[27]||(l[27]=e=>n(M).dialogVisibleDevice=e),title:"Device",width:"90%"},{default:u((()=>[n(M).dialogVisibleDevice?(r(),h(j,{key:0,all:n(E).cacheDevice.all,"onUpdate:all":l[25]||(l[25]=e=>n(E).cacheDevice.all=e),select:n(E).cacheDevice.select,"onUpdate:select":l[26]||(l[26]=e=>n(E).cacheDevice.select=e),onKk:H},null,8,["all","select"])):c("v-if",!0),s("span",ae,[c(' <el-button @click="cancleDevice">取 消</el-button> '),i(_,{type:"primary",onClick:re},{default:u((()=>[d("确 定")])),_:1})])])),_:1},8,["modelValue"]),c(" site "),i(k,{modelValue:n(M).dialogVisibleSite,"onUpdate:modelValue":l[28]||(l[28]=e=>n(M).dialogVisibleSite=e),title:"diy_siteid",width:"90%"},{default:u((()=>[i(n(N),{msg:n(M).siteData,onKk:T},null,8,["msg"])])),_:1},8,["modelValue"])])}}});export{re as default};
