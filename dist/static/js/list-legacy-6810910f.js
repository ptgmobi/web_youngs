!function(){function e(e,t,a,l,n,r,o){try{var i=e[r](o),u=i.value}catch(c){return void a(c)}i.done?t(u):Promise.resolve(u).then(l,n)}function t(t){return function(){var a=this,l=arguments;return new Promise((function(n,r){var o=t.apply(a,l);function i(t){e(o,n,r,i,u,"next",t)}function u(t){e(o,n,r,i,u,"throw",t)}i(void 0)}))}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=new Array(t);a<t;a++)l[a]=e[a];return l}var n=document.createElement("style");n.innerHTML=".cutoff[data-v-0b56db22]{width:80px}\n",document.head.appendChild(n),System.register(["./vendor-legacy-b58ffb73.js","./index-legacy-0c0b0653.js","./buzz-legacy-6c1637c0.js","./message-legacy-95711ee6.js","./lodash-legacy-5d053487.js","./new-format-legacy-1c194944.js","./device-legacy-f2697c2c.js","./index-legacy-6a8045bc.js"],(function(e){"use strict";var l,n,r,o,i,u,c,d,s,p,f,m,y,b,v,_,h,g,w,x,V,U,k,D,F,R,z,j,A,C,S;return{setters:[function(e){l=e.d,n=e.ah,r=e.y,o=e.B,i=e.r,u=e.ai,c=e.i,d=e.s,s=e.g,p=e.v,f=e.f,m=e.h,y=e.P,b=e.c,v=e.Q,_=e.o,h=e.F,g=e.j,w=e.x,x=e.t,V=e.p,U=e.q},function(e){k=e.P},function(e){D=e.A,F=e.a,R=e.c},function(e){z=e.m},function(e){j=e._},function(e){A=e.h},function(e){C=e._},function(e){S=e._}],execute:function(){var P=function(e){return V("data-v-0b56db22"),e=e(),U(),e},O={class:"controlBox w100 mb-10"},Q={class:"mb-10"},E=w("Offer Create"),I={class:"flex jc-start flex-wrap w100"},N={class:"flex"},B={class:"flex"},M=w("查询"),T={class:"flex jc-around"},L={class:"flex jc-around"},$=P((function(){return d("span",{class:"cp icon ml-10"},[d("i",{class:"el-icon-edit"})],-1)})),q=["textContent"],H={class:"flex jc-around"},K={class:"w100 flex"},G={class:"dialog-footer"},J=w("确 定"),W=l({setup:function(e){var l=n({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),V=r({offer:{},index:null,cacheDevice:{}}),U=r({dialogVisible:!1,dialogVisibleDevice:!1,cache:{item:{},device:{}},searchForm:l.value,useData:l.value,loading:!0,options:{cutoff_start:a(new Array(20)).map((function(e,t){var a=5*t/100;return{value:a,label:"".concat((100*Number(a)).toFixed(0),"%")}})),cutoff_end:a(new Array(20)).map((function(e,t){var a=(5*t+5)/100;return{value:a,label:"".concat((100*Number(a)).toFixed(0),"%")}})),attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],platform:[{value:"1",label:"Android"},{value:"2",label:"iOS"}]},list:[],pagination:{pageSizes:["50","100","500","1000"],total:1,listQuery:{page:1,limit:50,importance:void 0,title:void 0,type:void 0,sort:"+id"}}}),S=function(){U.useData=j.cloneDeep(U.searchForm),X()},P=function(){var e=t(regeneratorRuntime.mark((function e(t){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t.id,max_clk_num:t.max_clk_num},a=A(a),e.next=4,F(a);case 4:l=e.sent,z(l);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=t(regeneratorRuntime.mark((function e(t){var a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t.id,status:t.status},a=A(a),e.next=4,R(a);case 4:l=e.sent,z(l);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=t(regeneratorRuntime.mark((function e(){var t,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U.loading=!0,t={page:U.pagination.listQuery.page,page_size:U.pagination.listQuery.limit},U.useData.attribute_provider&&(t.attribute_provider=U.useData.attribute_provider),U.useData.platform&&(t.platform=U.useData.platform),U.useData.package_name&&(t.pkg_name=U.useData.package_name),U.useData.channel&&(t.channel=U.useData.channel),U.useData.id&&(t.offer_id=U.useData.id),U.useData.offer_title&&(t.title=U.useData.offer_title),U.useData.country&&(t.country=U.useData.country),U.useData.pid&&(t.tracking_link=U.useData.pid),e.next=12,D(t);case 12:a=e.sent,l=a.data,U.list=null==l?void 0:l.data,U.pagination.total=Number(l.count),U.loading=!1;case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(e){V.cacheDevice.select=e},Z=function(){V.offer.id,V.cacheDevice.select};return o((function(){S()})),function(e,t){var a=i("el-button"),l=i("router-link"),n=i("el-option"),r=i("el-select"),o=i("el-form-item"),D=i("el-input"),F=i("el-form"),R=i("el-table-column"),z=i("el-switch"),j=i("el-table"),A=i("el-dialog"),ee=u("loading");return _(),c("div",null,[d("div",O,[d("div",Q,[s(" <el-button type=\"primary\" @click='createFun'>Offer Create</el-button> "),p(l,{to:"/buzz/old-buzz/create"},{default:f((function(){return[p(a,{type:"primary"},{default:f((function(){return[E]})),_:1})]})),_:1})]),p(F,{inline:!0,modelValue:m(U).searchForm,"onUpdate:modelValue":t[8]||(t[8]=function(e){return m(U).searchForm=e}),class:"flex jc-between w100 ai-end"},{default:f((function(){return[d("div",I,[p(o,{label:""},{default:f((function(){return[p(r,{modelValue:m(U).searchForm.attribute_provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m(U).searchForm.attribute_provider=e}),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:f((function(){return[(_(!0),c(h,null,g(m(U).options.attribute_provider,(function(e){return _(),b(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(r,{modelValue:m(U).searchForm.platform,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m(U).searchForm.platform=e}),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:f((function(){return[(_(!0),c(h,null,g(m(U).options.platform,(function(e){return _(),b(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"Package Name",modelValue:m(U).searchForm.package_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m(U).searchForm.package_name=e}),class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"Channel",modelValue:m(U).searchForm.channel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return m(U).searchForm.channel=e}),class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"ID",modelValue:m(U).searchForm.id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return m(U).searchForm.id=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"Offer Title",modelValue:m(U).searchForm.offer_title,"onUpdate:modelValue":t[5]||(t[5]=function(e){return m(U).searchForm.offer_title=e}),class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"Country",modelValue:m(U).searchForm.country,"onUpdate:modelValue":t[6]||(t[6]=function(e){return m(U).searchForm.country=e}),class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),p(o,{label:""},{default:f((function(){return[p(D,{placeholder:"Pid",modelValue:m(U).searchForm.pid,"onUpdate:modelValue":t[7]||(t[7]=function(e){return m(U).searchForm.pid=e}),class:"search-con"},null,8,["modelValue"])]})),_:1})]),d("div",N,[p(o,{class:"mr-0",style:{"margin-right":"0px"}},{default:f((function(){return[d("div",B,[p(a,{type:"primary",onClick:S},{default:f((function(){return[M]})),_:1}),s(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])]})),_:1})])]})),_:1},8,["modelValue"]),s(' <el-input placeholder="请输入内容" v-model="data.searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),s(" table "),y((_(),b(j,{center:"",data:m(U).list,class:"w100",height:"60vh",border:""},{default:f((function(){return[p(R,{fixed:"",prop:"offer_id",label:"ID"}),p(R,{fixed:"",prop:"channel",label:"Channel"}),p(R,{prop:"pkg_name",label:"Package Name"}),p(R,{prop:"title",label:"Offer Title",width:"120"}),p(R,{prop:"attribute_provider",label:"Attribute Provider"}),p(R,{prop:"pid",label:"Pid"}),p(R,{prop:"platform",label:"Platform"},{default:f((function(e){return[w(x(1===Number(e.row.platform)?"Android":"iOS"),1)]})),_:1}),p(R,{prop:"country",label:"Country"}),p(R,{prop:"payout",label:"Payout"}),p(R,{label:"Click Limitation(w)",width:"150"},{default:f((function(e){return[d("div",T,[p(D,{modelValue:e.row.max_clk_num,"onUpdate:modelValue":function(t){return e.row.max_clk_num=t},placeholder:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"]),p(a,{class:"cp ml-10",type:"primary",icon:"Edit",circle:"",onClick:function(t){return P(e.row)}},null,8,["onClick"])])]})),_:1}),p(R,{label:"Site Click Limitation",width:"150"},{default:f((function(e){return[d("div",L,[p(D,{modelValue:e.row.site_clk_limit,"onUpdate:modelValue":function(t){return e.row.site_clk_limit=t},placeholder:""},null,8,["modelValue","onUpdate:modelValue"]),$])]})),_:1}),p(R,{label:"Select Device"},{default:f((function(e){return[d("span",{textContent:x(e.row.device_count)},null,8,q),p(a,{class:"cp ml-10",type:"primary",icon:"Edit",circle:"",onClick:function(t){return a=e.$index,l=e.row,U.dialogVisibleDevice=!0,V.offer=l,V.index=a,void(V.cacheDevice={select:[{id:"627909",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"by",slot_id:"37641287",device_count:"3092161"},{id:"628270",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bz",slot_id:"19760998",device_count:"894270"},{id:"627595",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cy",slot_id:"78317974",device_count:"5650213"},{id:"627755",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cz",slot_id:"35082647",device_count:"2579008"},{id:"627664",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dy",slot_id:"46634509",device_count:"17162151"},{id:"628339",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dz",slot_id:"33488006",device_count:"20869879"}],all:[{id:"627657",day:"2022-01-11",platform:"1",country:"RU",source:"adx",label:"aw",slot_id:"57351627",device_count:"3094129"},{id:"628012",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"ax",slot_id:"35653768",device_count:"2276277"},{id:"627689",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"ay",slot_id:"44225907",device_count:"1219696"},{id:"627706",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"az",slot_id:"33347536",device_count:"182883"},{id:"627434",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"bw",slot_id:"66660203",device_count:"3313520"},{id:"628046",day:"2022-01-11",platform:"1",country:"RU",source:"direct",label:"cw",slot_id:"14372948",device_count:"2841368"},{id:"627753",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bx",slot_id:"59188090",device_count:"3168514"},{id:"627909",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"by",slot_id:"37641287",device_count:"3092161"},{id:"628270",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"bz",slot_id:"19760998",device_count:"894270"},{id:"627732",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cx",slot_id:"99431779",device_count:"4906792"},{id:"627595",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cy",slot_id:"78317974",device_count:"5650213"},{id:"627755",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"cz",slot_id:"35082647",device_count:"2579008"},{id:"628057",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dw",slot_id:"66196474",device_count:"4170112"},{id:"627426",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dx",slot_id:"43347563",device_count:"7879852"},{id:"627664",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dy",slot_id:"46634509",device_count:"17162151"},{id:"628339",day:"2022-01-11",platform:"1",country:"RU",source:"wm",label:"dz",slot_id:"33488006",device_count:"20869879"}]});var a,l}},null,8,["onClick"])]})),_:1}),p(R,{width:"100",label:"Operation"},{default:f((function(e){return[d("div",H,[p(l,{to:(t=e.row,n=t.id,"/buzz/old-buzz/edit/".concat(n))},{default:f((function(){return[p(a,{class:"cp mr-10",type:"primary",icon:"Edit",circle:""})]})),_:2},1032,["to"]),s(" <el-button class='cp mr-10' type=\"primary\" icon=\"Edit\" circle @click='editFun(scope.row)'></el-button> "),p(z,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t},"active-value":1,"inactive-value":2,onChange:function(t){return W(e.row)}},null,8,["modelValue","onUpdate:modelValue","onChange"])])];var t,n})),_:1})]})),_:1},8,["data"])),[[ee,m(U).loading]]),s(" 分页 "),d("div",K,[y(p(m(k),{total:m(U).pagination.total,"page-sizes":m(U).pagination.pageSizes,page:m(U).pagination.listQuery.page,"onUpdate:page":t[9]||(t[9]=function(e){return m(U).pagination.listQuery.page=e}),limit:m(U).pagination.listQuery.limit,"onUpdate:limit":t[10]||(t[10]=function(e){return m(U).pagination.listQuery.limit=e}),onPagination:X},null,8,["total","page-sizes","page","limit"]),[[v,m(U).pagination.total]])]),s(" device "),p(A,{title:"diy_siteid",modelValue:m(U).dialogVisibleDevice,"onUpdate:modelValue":t[11]||(t[11]=function(e){return m(U).dialogVisibleDevice=e})},{default:f((function(){return[p(C,{json:m(V).cacheDevice,onKk:Y},null,8,["json"]),d("span",G,[s(' <el-button @click="cancleDevice">取 消</el-button> '),p(a,{type:"primary",onClick:Z},{default:f((function(){return[J]})),_:1})])]})),_:1},8,["modelValue"])])}}});e("default",S(W,[["__scopeId","data-v-0b56db22"]]))}}}))}();
