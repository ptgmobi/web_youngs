!function(){function e(e,t,n,r,a,l,i){try{var o=e[l](i),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(r,a)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(a,l){var i=t.apply(n,r);function o(t){e(i,a,l,o,c,"next",t)}function c(t){e(i,a,l,o,c,"throw",t)}o(void 0)}))}}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=document.createElement("style");o.innerHTML=".cutoff[data-v-0b56db22]{width:80px}\n",document.head.appendChild(o),System.register(["./index-legacy-973cee41.js","./index-legacy-9a9a973e.js","./device-legacy-07313538.js","./message-legacy-1fd10f10.js","./lodash-legacy-e7e99367.js","./new-format-legacy-08830c9e.js","./format-legacy-b6794641.js","./moment-legacy-2456bd0f.js"],(function(e){"use strict";var r,a,i,o,c,u,s,d,f,p,m,v,b,h,g,y,_,w,x,k,V,D,j,O,C,F,P,U,A,z,S,E,R,N,Q,I,M;return{setters:[function(e){r=e._,a=e.d,i=e.$,o=e.e,c=e.r,u=e.M,s=e.N,d=e.m,f=e.a0,p=e.s,m=e.n,v=e.v,b=e.z,h=e.c,g=e.p,y=e.q,_=e.O,w=e.P,x=e.V,k=e.A,V=e.b,D=e.x,j=e.W},function(e){O=e.P},function(e){C=e._,F=e.A,P=e.a,U=e.b,A=e.c,z=e.d,S=e.e,E=e.f},function(e){R=e.m},function(e){N=e._},function(e){Q=e.a,I=e.o},function(e){M=e.b},function(){}],execute:function(){var T={class:"controlBox w100 mb-10"},B={class:"mb-10"},L=V("Offer Create"),$={class:"flex jc-start flex-wrap w100"},J={class:"flex"},q={class:"flex"},H=V(" 查询 "),K={class:"flex jc-start"},W=V("批量修改当前页面内所有offer的device"),G={class:"flex jc-around"},X={class:"flex jc-around"},Y={class:"flex jc-between"},Z=["textContent"],ee={class:"flex jc-around"},te={class:"w100 flex"},ne={class:"dialog-footer"},re=V("确 定"),ae=a({name:"old-buzz"}),le=a(l(l({},ae),{},{setup:function(e){var r=i({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),a=o(!1),l=c({offer:{},index:null,cacheDevice:{},cacheDeviceCount:0}),ae=c({dialogVisible:!1,dialogVisibleDevice:!1,cache:{item:{},device:{}},searchForm:r.value,useData:r.value,loading:!0,options:{cutoff_start:n(new Array(20)).map((function(e,t){var n=5*t/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),cutoff_end:n(new Array(20)).map((function(e,t){var n=(5*t+5)/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],platform:[{value:"1",label:"Android"},{value:"2",label:"iOS"}]},list:[],pagination:{pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}}),le=function(){ae.useData=N.cloneDeep(ae.searchForm),de()},ie=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,max_clk_num:parseFloat(t.max_clk_num)},e.next=3,F(n);case 3:r=e.sent,R(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,site_clk_limit:parseFloat(t.site_clk_limit)},e.next=3,P(n);case 3:r=e.sent,R(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,status:t.status},n=Q(n),e.next=4,U(n);case 4:r=e.sent,R(r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){I("/buzz/old-buzz-create")},se=function(e){var t=e.id;return"/buzz/old-buzz-edit/".concat(t)},de=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae.loading=!0,t={page:ae.pagination.listQuery.page,page_size:ae.pagination.listQuery.limit},ae.useData.attribute_provider&&(t.attribute_provider=ae.useData.attribute_provider),ae.useData.platform&&(t.platform=ae.useData.platform),ae.useData.package_name&&(t.pkg_name=ae.useData.package_name),ae.useData.channel&&(t.channel=ae.useData.channel),ae.useData.id&&(t.offer_id=ae.useData.id),ae.useData.offer_title&&(t.title=ae.useData.offer_title),ae.useData.country&&(t.country=ae.useData.country),ae.useData.pid&&(t.tracking_link=ae.useData.pid),e.next=12,A(t);case 12:n=e.sent,r=n.data,a=r.page,ae.list=null==r?void 0:r.data,ae.pagination.total=Number(a.count),ae.loading=!1;case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=t(regeneratorRuntime.mark((function e(t,n){var r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.value=!1,ae.dialogVisibleDevice=!0,l.offer=n,l.index=t,r={id:n.id,platform:n.platform,country:n.country},e.next=8,z(r);case 8:i=e.sent,o=i.data,l.cacheDevice.all=o.all,l.cacheDevice.select=o.select;case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(e){l.cacheDevice.select=e},me=function(e){l.cacheDeviceCount=e},ve=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,r,i,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==a.value){e.next=11;break}if(t=ae.list.map((function(e){return e.id})),!(n=0!==t.length?t.join(","):"")){e.next=9;break}return r={ids:n,device:JSON.stringify(l.cacheDevice.select)},e.next=7,S(r);case 7:i=e.sent,R(i)&&(ae.dialogVisibleDevice=!1,de());case 9:e.next=16;break;case 11:return o={id:l.offer.id,device:JSON.stringify(l.cacheDevice.select)},e.next=14,E(o);case 14:c=e.sent,R(c)&&(ae.dialogVisibleDevice=!1,l.offer.device_count=l.cacheDeviceCount);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u((function(){le()})),s((function(){})),function(e,t){var n=d("el-button"),r=d("el-option"),i=d("el-select"),o=d("el-form-item"),c=d("el-input"),u=d("el-form"),s=d("el-table-column"),F=d("el-switch"),P=d("el-table"),U=d("el-dialog"),A=f("loading");return p(),m("div",null,[v("div",T,[v("div",B,[b(' <router-link to="/buzz/old-buzz-create">\n          <el-button type="primary">\n            Offer Create\n          </el-button>\n        </router-link> '),h(n,{type:"primary",onClick:ue},{default:g((function(){return[L]})),_:1})]),h(u,{modelValue:y(ae).searchForm,"onUpdate:modelValue":t[8]||(t[8]=function(e){return y(ae).searchForm=e}),inline:!0,class:"flex jc-between w100 ai-end"},{default:g((function(){return[v("div",$,[h(o,{label:""},{default:g((function(){return[h(i,{modelValue:y(ae).searchForm.attribute_provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return y(ae).searchForm.attribute_provider=e}),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:g((function(){return[(p(!0),m(_,null,w(y(ae).options.attribute_provider,(function(e){return p(),k(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(i,{modelValue:y(ae).searchForm.platform,"onUpdate:modelValue":t[1]||(t[1]=function(e){return y(ae).searchForm.platform=e}),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:g((function(){return[(p(!0),m(_,null,w(y(ae).options.platform,(function(e){return p(),k(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.package_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return y(ae).searchForm.package_name=e}),placeholder:"Package Name",class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.channel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return y(ae).searchForm.channel=e}),placeholder:"Channel",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return y(ae).searchForm.id=e}),placeholder:"ID",class:"search-con"},null,8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.offer_title,"onUpdate:modelValue":t[5]||(t[5]=function(e){return y(ae).searchForm.offer_title=e}),placeholder:"Offer Title",class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.country,"onUpdate:modelValue":t[6]||(t[6]=function(e){return y(ae).searchForm.country=e}),placeholder:"Country",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),h(o,{label:""},{default:g((function(){return[h(c,{modelValue:y(ae).searchForm.pid,"onUpdate:modelValue":t[7]||(t[7]=function(e){return y(ae).searchForm.pid=e}),placeholder:"Pid",class:"search-con"},null,8,["modelValue"])]})),_:1})]),v("div",J,[h(o,{class:"mr-0",style:{"margin-right":"0px"}},{default:g((function(){return[v("div",q,[h(n,{type:"primary",onClick:le},{default:g((function(){return[H]})),_:1}),b(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])]})),_:1})])]})),_:1},8,["modelValue"]),b(' <el-input placeholder="请输入内容" v-model="data.searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> '),b(" 批量修改设备信息 "),v("div",K,[h(n,{class:"cp",type:"primary",icon:"Edit",onClick:t[9]||(t[9]=function(e){var t;(t=0!==ae.list.length?ae.list[0]:"")&&(fe(0,t),a.value=!0)})},{default:g((function(){return[W]})),_:1})])]),b(" table "),x((p(),k(P,{center:"",data:y(ae).list,class:"w100",height:"70vh",border:""},{default:g((function(){return[h(s,{fixed:"",prop:"offer_id",label:"Offer ID",align:"center",width:"70"}),h(s,{fixed:"",prop:"channel",label:"Channel",align:"center",width:"60"}),h(s,{prop:"pkg_name",label:"Package Name",align:"center",width:"110"}),h(s,{prop:"title",label:"Offer Title",align:"center"}),h(s,{prop:"attribute_provider",label:"Attribute Provider",align:"center",width:"80"}),h(s,{prop:"pid",label:"Pid",align:"center",width:"90"}),h(s,{prop:"platform",label:"Platform",align:"center",width:"65"},{default:g((function(e){return[V(D(1===Number(e.row.platform)?"Android":"iOS"),1)]})),_:1}),h(s,{prop:"country",label:"Country",align:"center",width:"57"}),h(s,{prop:"payout",label:"Payout",align:"center",width:"55"}),h(s,{label:"Click Limitation",width:"150",align:"center"},{default:g((function(e){return[v("div",G,[h(c,{modelValue:e.row.max_clk_num,"onUpdate:modelValue":function(t){return e.row.max_clk_num=t},placeholder:""},null,8,["modelValue","onUpdate:modelValue"]),h(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return ie(e.row)}},null,8,["onClick"])])]})),_:1}),h(s,{label:"Site Click Limitation",width:"150",align:"center"},{default:g((function(e){return[v("div",X,[h(c,{modelValue:e.row.site_clk_limit,"onUpdate:modelValue":function(t){return e.row.site_clk_limit=t},placeholder:""},null,8,["modelValue","onUpdate:modelValue"]),h(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return oe(e.row)}},null,8,["onClick"])])]})),_:1}),h(s,{label:"Select Device",width:"120",align:"center"},{default:g((function(e){return[v("div",Y,[v("span",{textContent:D(y(M)(e.row.device_count))},null,8,Z),h(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return fe(e.$index,e.row)}},null,8,["onClick"])])]})),_:1}),h(s,{label:"Operation",align:"center"},{default:g((function(e){return[v("div",ee,[b(' <router-link :to="getEditUrl(scope.row)">\n              <el-button\n                class="cp mr-10"\n                type="primary"\n                icon="Edit"\n                circle\n              ></el-button>\n            </router-link> '),h(n,{class:"cp mr-10",type:"primary",icon:"Edit",circle:"",onClick:function(t){return n=e.row,r=se(n),void I(r);var n,r}},null,8,["onClick"]),h(F,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t},"active-value":1,"inactive-value":2,onChange:function(t){return ce(e.row)}},null,8,["modelValue","onUpdate:modelValue","onChange"])])]})),_:1})]})),_:1},8,["data"])),[[A,y(ae).loading]]),b(" 分页 "),v("div",te,[x(h(y(O),{page:y(ae).pagination.listQuery.page,"onUpdate:page":t[10]||(t[10]=function(e){return y(ae).pagination.listQuery.page=e}),limit:y(ae).pagination.listQuery.limit,"onUpdate:limit":t[11]||(t[11]=function(e){return y(ae).pagination.listQuery.limit=e}),total:y(ae).pagination.total,"page-sizes":y(ae).pagination.pageSizes,onPagination:de},null,8,["page","limit","total","page-sizes"]),[[j,y(ae).pagination.total]])]),b(" device "),h(U,{modelValue:y(ae).dialogVisibleDevice,"onUpdate:modelValue":t[14]||(t[14]=function(e){return y(ae).dialogVisibleDevice=e}),title:"Device"},{default:g((function(){return[y(ae).dialogVisibleDevice?(p(),k(C,{key:0,all:y(l).cacheDevice.all,"onUpdate:all":t[12]||(t[12]=function(e){return y(l).cacheDevice.all=e}),select:y(l).cacheDevice.select,"onUpdate:select":t[13]||(t[13]=function(e){return y(l).cacheDevice.select=e}),onKk:pe,onCount:me},null,8,["all","select"])):b("v-if",!0),v("span",ne,[b(' <el-button @click="cancleDevice">取 消</el-button> '),h(n,{type:"primary",onClick:ve},{default:g((function(){return[re]})),_:1})])]})),_:1},8,["modelValue"])])}}}));e("default",r(le,[["__scopeId","data-v-0b56db22"]]))}}}))}();
