!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return e(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}System.register(["./index-legacy-3182ba3f.js","./format-legacy-b6794641.js","./lodash-legacy-44d52ec2.js"],(function(e){"use strict";var r,n,o,u,a,l,s,c,i,f,d,b,p,m,g,h;return{setters:[function(t){r=t.R,n=t.d,o=t.r,u=t.w,a=t.M,l=t.m,s=t.s,c=t.n,i=t.v,f=t.c,d=t.p,b=t.q,p=t.b,m=t.x},function(t){g=t.b},function(t){h=t._}],execute:function(){e({A:function(t){return r({url:"/obuzz/offer-max-clk",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},a:function(t){return r({url:"/obuzz/edit-clk-limit",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},b:function(t){return r({url:"/obuzz/status",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},c:function(t){return r({url:"/obuzz",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},d:function(t){return r({url:"/obuzz/offer-device",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},e:function(t){return r({url:"/obuzz/device",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},f:function(t){return r({url:"/obuzz",data:t,method:"post",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},g:function(t){return r({url:"/obuzz",data:t,method:"put",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},h:function(){return r({url:"/obuzz/edit-config",method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},i:function(t){return r({url:"/obuzz/view/".concat(t),method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},j:function(t){return r({url:"/obuzz/copy",method:"get",data:t,bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})}});var v={class:"full"},A={class:"w100 flex mt-20"},y=i("span",null,"选中合计：",-1),w=["textContent"];e("_",n({props:{all:{require:!0,default:function(){return{}},type:Object},select:{require:!0,default:function(){return{}},type:Object}},emits:["kk","count","up"],setup:function(e,r){var n=r.emit,z=e,_=[],j=o({search:{id:""},test:"",set:new Set,setObj:{},spanArr:_,all:_,select:_,statisticsCount:0}),E=function(){var e=t(j.set).map((function(t){return t=[t,!1]}));j.setObj=Object.fromEntries(e),O()},O=function(){Object.keys(j.setObj).forEach((function(t){var e=[];j.all.forEach((function(r){r.source===t&&e.push(r.select_status)})),j.setObj[t]=!0,e.includes(!1)&&(j.setObj[t]=!1)})),M()},M=function(){var t=j.all.reduce((function(t,e){return e.select_status?t+parseInt(e.device_count):t}),0);j.statisticsCount=g(t),n("count",t)},L=function(){var t=[];j.all.forEach((function(e){e.select_status&&(t.push({source:e.source,label:e.label}),parseInt(e.device_count))})),n("kk",t)},x=function(t,e){j.spanArr=[];for(var r=0,n=0;n<t.length;n++)0===n?j.spanArr.push(1):t[n][e]===t[n-1][e]?(j.spanArr[r]+=1,j.spanArr.push(0)):(j.spanArr.push(1),r=n)},C=function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var r=j.spanArr[e];return{rowspan:r,colspan:r>0?1:0}}};return u((function(){return z.all}),(function(t,e){z.all&&z.all.length>0&&(j.all=h.cloneDeep(z.all),j.select=h.cloneDeep(z.select),j.set=new Set,j.all.map((function(t){return t.select_status=!1,j.set.add(t.source),j.select.map((function(e){return t.source===e.source&&t.label===e.label&&(t.select_status=!0),t})),t})),j.all.sort((function(t,e){return t.label>e.label?1:t.label<e.label?-1:1})),j.all.sort((function(t,e){return t.source>e.source?1:t.source<e.source?-1:1})),x(j.all,"source"),E())}),{immediate:!0}),a((function(){})),function(t,e){var r=l("el-checkbox"),n=l("el-table-column"),o=l("el-table");return s(),c("div",null,[i("div",v,[f(o,{data:b(j).all,"span-method":C,border:"",style:{width:"100%","margin-top":"20px"}},{default:d((function(){return[f(n,{prop:"source",label:"Source",width:"180"},{default:d((function(t){return[f(r,{modelValue:b(j).setObj[t.row.source],"onUpdate:modelValue":function(e){return b(j).setObj[t.row.source]=e},onChange:function(e){return r=t.row.source,n=b(j).setObj[t.row.source],j.all.map((function(t){t.source===r&&(t.select_status=n)})),O(),void L();var r,n}},{default:d((function(){return[p(m(t.row.source),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),f(n,{prop:"label",label:"Label"}),f(n,{prop:"slot_id",label:"Slot ID"}),f(n,{prop:"device_count",label:"Count"},{default:d((function(t){return[i("span",null,m(b(g)(t.row.device_count)),1)]})),_:1}),f(n,{prop:"select",label:"Select"},{default:d((function(t){return[f(r,{modelValue:t.row.select_status,"onUpdate:modelValue":function(e){return t.row.select_status=e},onChange:function(e){return t.row,O(),void L()}},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1})]})),_:1},8,["data"]),i("div",A,[y,i("span",{textContent:m(b(j).statisticsCount)},null,8,w)])])])}}}))}}}))}();
