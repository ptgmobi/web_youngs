var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,o=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,r=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&o(e,t,a[t]);if(l)for(var t of l(a))n.call(a,t)&&o(e,t,a[t]);return e};import{d as s,$ as d,r as u,M as c,N as p,m,a0 as g,s as b,n as f,v,c as w,p as h,q as y,z as j,V,A as x,W as k,b as _}from"./index-652e212f.js";import{P as A}from"./index-b79f646b.js";import{b as C,c as O}from"./buzzsync-c9583060.js";import{m as P}from"./message-ffb9da26.js";import{_ as U}from"./lodash-4573795c.js";import{a as D,o as S}from"./new-format-a08a4d81.js";const z={class:"controlBox w100 mb-10 flex jc-between ai-start"},F={class:"mb-10"},Q=_("Create AD Network"),N={class:"flex jc-start flex-wrap w100"},M={class:"flex jc-around"},E={class:"flex jc-around"},$={class:"flex jc-around"},B={class:"flex jc-around"},T={class:"w100 flex"},q=s({name:"adNetwork"}),I=s((W=r({},q),a(W,t({setup(e){const a=d({input:""});u({offer:{},index:null,cacheDevice:{},cacheDeviceCount:0});let t=u({dialogVisible:!1,dialogVisibleDevice:!1,cache:{item:{},device:{}},searchForm:a.value,useData:a.value,loading:!0,options:{cutoff_start:[...new Array(20)].map(((e,a)=>{const t=5*a/100;return{value:t,label:`${(100*Number(t)).toFixed(0)}%`}})),cutoff_end:[...new Array(20)].map(((e,a)=>{const t=(5*a+5)/100;return{value:t,label:`${(100*Number(t)).toFixed(0)}%`}})),attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],platform:[{value:"1",label:"Android"},{value:"2",label:"iOS"}]},list:[],pagination:{pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}});const l=()=>{t.useData=U.cloneDeep(t.searchForm),s()},i=async(e,a)=>{let t={id:e.id,name:e[a]};t=D(t);const l=await C(t);P(l)},n=()=>{S("/adnetwork/adnetworklist/create")},o=e=>`/adnetwork/adnetworklist/edit/${e.id}`,s=async()=>{t.loading=!0;let e={page:t.pagination.listQuery.page,page_size:t.pagination.listQuery.limit};e=r(r({},e),t.useData);const a=await O(e),{data:l}=a,{page:i}=l;t.list=null==l?void 0:l.data,t.pagination.total=Number(i.count),t.loading=!1};return c((()=>{l()})),p((()=>{})),(e,r)=>{const d=m("el-button"),u=m("el-input"),c=m("el-form-item"),p=m("el-form"),_=m("el-table-column"),C=m("el-switch"),O=m("el-table"),P=g("loading");return b(),f("div",null,[v("div",z,[v("div",F,[w(d,{type:"primary",onClick:n},{default:h((()=>[Q])),_:1})]),w(p,{modelValue:y(t).searchForm,"onUpdate:modelValue":r[1]||(r[1]=e=>y(t).searchForm=e),inline:!0,class:"flex jc-between ai-end"},{default:h((()=>[v("div",N,[w(c,{label:"",class:"mr-0"},{default:h((()=>[w(u,{modelValue:y(a).input,"onUpdate:modelValue":r[0]||(r[0]=e=>y(a).input=e),placeholder:"Ad network name/Channel",class:"input-with-select"},{append:h((()=>[w(d,{icon:"Search",onClick:l})])),_:1},8,["modelValue"])])),_:1})])])),_:1},8,["modelValue"])]),j(" table "),V((b(),x(O,{center:"",data:y(t).list,class:"w100",height:"70vh",border:""},{default:h((()=>[w(_,{fixed:"",prop:"offer_id",label:"Ad network name",align:"center",width:"120"}),w(_,{fixed:"",prop:"channel",label:"Channel",align:"center",width:"60"}),w(_,{prop:"pkg_name",label:"Status",align:"center",width:"110"},{default:h((e=>[v("div",M,[w(C,{modelValue:e.row.status,"onUpdate:modelValue":a=>e.row.status=a,"active-value":1,"inactive-value":2,onChange:a=>i(e.row,"status")},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1}),w(_,{prop:"title",label:"Android-PMT",align:"center"},{default:h((e=>[v("div",E,[w(C,{modelValue:e.row.status,"onUpdate:modelValue":a=>e.row.status=a,"active-value":1,"inactive-value":2,onChange:a=>i(e.row,"status")},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1}),w(_,{prop:"attribute_provider",label:"Android Semi PMT",align:"center",width:"80"},{default:h((e=>[v("div",$,[w(C,{modelValue:e.row.status,"onUpdate:modelValue":a=>e.row.status=a,"active-value":1,"inactive-value":2,onChange:a=>i(e.row,"status")},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1}),w(_,{prop:"pid",label:"Percentage",align:"center",width:"90"}),w(_,{prop:"pid",label:"Pre click",align:"center",width:"90"}),w(_,{label:"Operation",align:"center"},{default:h((e=>[v("div",B,[j(' <router-link :to="getEditUrl(scope.row)">\n              <el-button\n                class="cp mr-10"\n                type="primary"\n                icon="Edit"\n                circle\n              ></el-button>\n            </router-link> '),w(d,{class:"cp mr-10",type:"primary",icon:"Edit",circle:"",onClick:a=>(e=>{let a=o(e);S(a)})(e.row)},null,8,["onClick"])])])),_:1})])),_:1},8,["data"])),[[P,y(t).loading]]),j(" 分页 "),v("div",T,[V(w(y(A),{page:y(t).pagination.listQuery.page,"onUpdate:page":r[2]||(r[2]=e=>y(t).pagination.listQuery.page=e),limit:y(t).pagination.listQuery.limit,"onUpdate:limit":r[3]||(r[3]=e=>y(t).pagination.listQuery.limit=e),total:y(t).pagination.total,"page-sizes":y(t).pagination.pageSizes,onPagination:s},null,8,["page","limit","total","page-sizes"]),[[k,y(t).pagination.total]])])])}}}))));var W;export{I as default};
