!function(){function e(e,t,n,i,a,r,o){try{var l=e[r](o),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(i,a)}function t(t){return function(){var n=this,i=arguments;return new Promise((function(a,r){var o=t.apply(n,i);function l(t){e(o,a,r,l,u,"next",t)}function u(t){e(o,a,r,l,u,"throw",t)}l(void 0)}))}}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register(["./vendor-legacy-b450b3b1.js","./role-legacy-522a8a7a.js","./station-legacy-03264a09.js","./message-legacy-eb3b59c2.js","./self-legacy-42b17d60.js","./index-legacy-a4b15707.js"],(function(e){"use strict";var n,a,r,o,l,u,s,c,d,f,m,p,b,g,h,y,D,v,w,k,V;return{setters:[function(e){n=e.ah,a=e.r,r=e.k,o=e.c,l=e.h,u=e.i,s=e.x,c=e.o,d=e.y,f=e.t,m=e.F,p=e.l,b=e.v},function(e){g=e.g},function(e){h=e.g,y=e.a,D=e.s,v=e.b},function(e){w=e.m},function(e){k=e.m},function(e){V=e._}],execute:function(){var _={components:{},mixins:[k],data:function(){return{options:{role:[],pid:[],base_url:""},date:"",list:[],data:{},dialogVisible:!1,dialogType:"",busData:{item:{id:"",name:"",pid:"",role:[],base_url:""},choiceData:{}}}},computed:i({},n(["element"])),created:function(){this.getConfig(),this.getList()},methods:{getConfig:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:n=t.sent,i=n.data,e.options.role=i;case 5:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:n=t.sent,i=n.data,e.data=i,e.list=i,e.options.pid=i;case 7:case"end":return t.stop()}}),t)})))()},handleCreate:function(){this.dialogType="new",this.busData.item.type="",this.dialogVisible=!0;var e=new Date;this.date=e.getTime()},handleEdit:function(e){var n=this;return t(regeneratorRuntime.mark((function t(){var i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.dialogType="edit",n.busData.item.id=e.row.id,t.next=4,y(n.busData.item.id);case 4:i=t.sent,(a=i.data).position,n.busData.item.id=a.position.id,n.busData.item.name=a.position.name,a.position.pid&&(n.busData.item.pid=a.position.pid.toString()),n.busData.item.role=a.position_role,n.dialogVisible=!0,r=new Date,n.date=r.getTime();case 14:case"end":return t.stop()}}),t)})))()},handleDelete:function(e){},roleChangeChoice:function(e,t){this.busData.choiceData[e]=t},clearBusData:function(){this.busData={item:{id:"",name:"",pid:"",role:[]},choiceData:{}}},submitFn:function(){var e=this;return t(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"!==e.dialogType){t.next=7;break}return n={name:e.busData.item.name,pid:e.busData.item.pid,role_id:e.busData.item.role},t.next=4,D(n);case 4:(i=t.sent)&&w(i),e.getList();case 7:if("edit"!==e.dialogType){t.next=13;break}return a={id:e.busData.item.id,name:e.busData.item.name,role_id:e.busData.item.role},t.next=11,v(e.busData.item.id,a);case 11:(r=t.sent)&&w(r);case 13:e.clearBusData(),e.dialogVisible=!1;case 15:case"end":return t.stop()}}),t)})))()}}},j={class:"app-container"},O=d(" 新建 "),x=d(" 修改 "),C=d(" 删除 "),P={slot:"footer",class:"dialog-footer"},R=d(" 取 消 "),T=d(" 确 定 ");e("default",V(_,[["render",function(e,t,n,i,g,h){var y=a("el-button"),D=a("el-table-column"),v=a("el-table"),w=a("el-input"),k=a("el-form-item"),V=a("el-option"),_=a("el-select"),E=a("el-form"),A=a("el-dialog");return c(),r("div",j,[e.judgePermissionElementFn("A-AS-ADD-V")?(c(),o(y,{key:0,type:"primary",onClick:h.handleCreate},{default:l((function(){return[O]})),_:1},8,["onClick"])):u("v-if",!0),s(v,{data:g.list,style:{width:"100%","margin-top":"30px"},border:""},{default:l((function(){return[s(D,{align:"center",label:"ID"},{default:l((function(e){return[d(f(e.row.id),1)]})),_:1}),s(D,{align:"center",label:"Name"},{default:l((function(e){return[d(f(e.row.name),1)]})),_:1}),s(D,{align:"center",label:"Operations"},{default:l((function(t){return[e.judgePermissionElementFn("A-AS-EDIT-V")?(c(),o(y,{key:0,type:"primary",size:"small",onClick:function(e){return h.handleEdit(t)}},{default:l((function(){return[x]})),_:2},1032,["onClick"])):u("v-if",!0),e.judgePermissionElementFn("A-AS-DEL-V")?(c(),o(y,{key:1,type:"danger",size:"small",onClick:function(e){return h.handleDelete(t)}},{default:l((function(){return[C]})),_:2},1032,["onClick"])):u("v-if",!0)]})),_:1})]})),_:1},8,["data"]),s(A,{modelValue:g.dialogVisible,"onUpdate:modelValue":t[4]||(t[4]=function(e){return g.dialogVisible=e}),title:"edit"===g.dialogType?"Edit Role":"New Role",width:"90%"},{default:l((function(){return[s(E,{"label-width":"150px","label-position":"left"},{default:l((function(){return[s(k,{label:"Name"},{default:l((function(){return[s(w,{modelValue:g.busData.item.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.busData.item.name=e}),disabled:"edit"===g.dialogType,placeholder:""},null,8,["modelValue","disabled"])]})),_:1}),s(k,{label:"PID"},{default:l((function(){return[s(_,{modelValue:g.busData.item.pid,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.busData.item.pid=e}),disabled:"edit"===g.dialogType,filterable:"",class:"w100",placeholder:"请选择"},{default:l((function(){return[(c(!0),r(m,null,p(g.options.pid,(function(e){return c(),o(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","disabled"])]})),_:1}),s(k,{label:"Role"},{default:l((function(){return[s(_,{modelValue:g.busData.item.role,"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.busData.item.role=e}),filterable:"",multiple:"",class:"w100",placeholder:"支持多选"},{default:l((function(){return[(c(!0),r(m,null,p(g.options.role,(function(e){return c(),o(V,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),b("div",P,[s(y,{onClick:t[3]||(t[3]=function(e){return g.dialogVisible=!1})},{default:l((function(){return[R]})),_:1}),s(y,{type:"primary",onClick:h.submitFn},{default:l((function(){return[T]})),_:1},8,["onClick"])])]})),_:1},8,["modelValue","title"])])}]]))}}}))}();
