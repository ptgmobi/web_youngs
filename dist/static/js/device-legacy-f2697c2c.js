!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./vendor-legacy-b58ffb73.js"],(function(e){"use strict";var r,o,u,a,s,c,l,i,f,p,b,d,m;return{setters:[function(e){r=e.d,o=e.y,u=e.w,a=e.B,s=e.r,c=e.o,l=e.i,i=e.s,f=e.v,p=e.f,b=e.h,d=e.x,m=e.t}],execute:function(){var v={class:"full"},y={class:"w100 flex mt-20"},O=i("span",null,"选中合计：",-1),j=["textContent"];e("_",r({props:{json:{require:!0,default:function(){return{}},type:Object}},emits:["kk","up"],setup:function(e,r){var h=r.emit,w=e,g=[],_=o({search:{id:""},set:new Set,setObj:{},spanArr:g,arr:g,select:g,statisticsCount:0});u(w.json,(function(e,t){}));var S=function(){var e=n(_.set).map((function(e){return e=[e,!1]}));_.setObj=Object.fromEntries(e),A()},A=function(){Object.keys(_.setObj).forEach((function(e){var t=[];_.arr.forEach((function(r){r.source===e&&t.push(r.select_status)})),_.setObj[e]=!0,t.includes(!1)&&(_.setObj[e]=!1)})),C()},C=function(){var e=_.arr.reduce((function(e,t){return t.select_status?e+parseInt(t.device_count):e}),0);_.statisticsCount=e},x=function(){var e=[];_.arr.forEach((function(r){r.select_status&&(e.push(t(t({},r),{},{source:r.source,label:r.label})),parseInt(r.device_count))})),h("kk",e)},P=function(e,t){_.spanArr=[];for(var r=0,n=0;n<e.length;n++)0===n?_.spanArr.push(1):e[n][t]===e[n-1][t]?(_.spanArr[r]+=1,_.spanArr.push(0)):(_.spanArr.push(1),r=n)},I=function(e){e.row,e.column;var t=e.rowIndex;if(0===e.columnIndex){var r=_.spanArr[t];return{rowspan:r,colspan:r>0?1:0}}};return a((function(){!function(){if(0!==w.json.all.length){_.set=new Set;var e=w.json.all;return _.select=w.json.select,e.map((function(e){e.select_status=!1,_.set.add(e.source),_.select.map((function(t){return e.source===t.source&&e.label===t.label&&(e.select_status=!0),e}))})),e.sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:1})),e.sort((function(e,t){return e.source>t.source?1:e.source<t.source?-1:1})),P(e,"source"),_.arr=e,S(),e}JSON.parse(JSON.stringify(_.arr))}()})),function(e,t){var r=s("el-checkbox"),n=s("el-table-column"),o=s("el-table");return c(),l("div",null,[i("div",v,[f(o,{data:b(_).arr,"span-method":I,border:"",style:{width:"100%","margin-top":"20px"}},{default:p((function(){return[f(n,{prop:"source",label:"Source",width:"180"},{default:p((function(e){return[f(r,{modelValue:b(_).setObj[e.row.source],"onUpdate:modelValue":function(t){return b(_).setObj[e.row.source]=t},onChange:function(t){return r=e.row.source,n=b(_).setObj[e.row.source],_.arr.map((function(e){e.source===r&&(e.select_status=n)})),A(),void x();var r,n}},{default:p((function(){return[d(m(e.row.source),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),f(n,{prop:"label",label:"Label"}),f(n,{prop:"slot_id",label:"Slot ID"}),f(n,{prop:"device_count",label:"Count"}),f(n,{prop:"select",label:"Select"},{default:p((function(e){return[f(r,{modelValue:e.row.select_status,"onUpdate:modelValue":function(t){return e.row.select_status=t},onChange:function(t){return e.row,A(),void x()}},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1})]})),_:1},8,["data"]),i("div",y,[O,i("span",{textContent:m(b(_).statisticsCount)},null,8,j)])])])}}}))}}}))}();
