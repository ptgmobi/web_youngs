import{_ as e,d as a,h as l,r,L as o,q as s,o as t,c as u,z as m,e as d,s as n,v as i,x as f,P as c,f as p,g as v}from"./main-f5fc11c6.js";import{f as y}from"./dsp-media-5232eecd.js";import{m as b}from"./message-63eca02f.js";import{u as _}from"./useUtils-e29f5423.js";import{d as g,e as x,i as F}from"./new-format-35937e70.js";import{_ as j}from"./lodash-d099a0b1.js";const w={class:"content-con from-one flex column"},h={class:"w100 flex"},C=p(" 确认 "),U=p(" 取消 ");var V=e(a({setup(e){const{getRouterData:a,getCommonCountryList:p,goNewUrl:V}=_();let{proxy:k}=v(),q=l("create");const D={id:void 0,bundle:""},L=r({ruleForm:D,rules:{}}),z=()=>{k.$refs.ruleForm.validate((e=>{if(!e)return!1;N()}))},I=["id","adv_type","type","build_status","num_people"],M=["country"],N=async()=>{let e=c(L.ruleForm);if(e=g(e),e=x(e,I),e=F(e,M),q.value,"create"===q.value){delete e.id;const a=await y(e);b(a)&&P()}},P=()=>{V({url:"/audienceManage/list"})};return o((()=>{(()=>{var e,l;let{query:r,params:o}=a();q.value=null!=(l=null==(e=r.type)?void 0:e.toString())?l:"",q.value,(async()=>{})(),"create"===q.value&&(L.ruleForm=j.cloneDeep(D)),"edit"===q.value&&(async(e,a)=>{})()})()})),(e,a)=>{const l=s("el-input"),r=s("el-form-item"),o=s("el-form"),c=s("el-button");return t(),u("div",null,[m(" form "),d(o,{ref:"ruleForm",enctype:"multipart/form-data",rules:i(L).rules,model:i(L).ruleForm,"label-width":"150px","label-position":"right",class:"flex column"},{default:n((()=>[f("div",w,[m(" 媒体bundle "),d(r,{class:"self-el-form-item",label:"媒体bundle:",prop:"descs"},{default:n((()=>[d(l,{modelValue:i(L).ruleForm.bundle,"onUpdate:modelValue":a[0]||(a[0]=e=>i(L).ruleForm.bundle=e),class:"form-one",placeholder:"",rows:8,type:"textarea"},null,8,["modelValue"])])),_:1})])])),_:1},8,["rules","model"]),m(" form "),m(" footer "),f("div",h,[d(c,{type:"primary",onClick:z},{default:n((()=>[C])),_:1}),d(c,{type:"primary",onClick:P},{default:n((()=>[U])),_:1})])])}}}),[["__scopeId","data-v-ed43d966"]]);export{V as default};
