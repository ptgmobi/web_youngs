import{_ as l,d as a,r as t,h as e,L as o,q as s,c as d,x as n,N as i,O as p,v as c,e as r,s as u,K as f,o as m,z as b,y,R as _,A as v,f as h,a8 as w,G as x,H as k}from"./main-ce43ffdd.js";import{c as C}from"./serverclick-93f14d42.js";const V=l=>(x("data-v-6e734384"),l=l(),k(),l),g={class:"bw-offer-box bwblack"},S={class:"bw-con"},D=V((()=>n("div",{class:"flex mythead fb trbox"},[n("div",{class:"col-auto-8 tdbox"},"Platform"),n("div",{class:"col-auto-8 tdbox"},"设备库"),n("div",{class:"col-auto-8 tdbox"},"管理Slot")],-1))),U={class:"flex trbox mytbody"},j={class:"col-auto-8 tdbox"},A={key:0},I={key:1},N={class:"col-auto-8 tdbox"},O=["textContent"],P=["onClick"],G=V((()=>n("span",null,"View Slot",-1))),K={class:"flex"},q={class:"flex jcsb"},z=["onClick"],E={style:{width:"66px"}},H=V((()=>n("span",null,"Slot ID:",-1))),L=["textContent"],R={slot:"footer",class:"dialog-footer"};var T=l(a({__name:"list",setup(l){let a=t({tableData:[]}),x=e(!1),k=t({data:{id:""}});const V=l=>(l.map((l=>(l.showtype=!1,0!==l.all.length&&l.all.map((a=>{for(const t in l)if(l.hasOwnProperty(t)){const e=l[t];"object"!=typeof e&&"slot_id"!==t&&(a[t]=e)}a.showtype=!1})),l))),l),T=l=>{let a=[];return l.forEach((l=>{a.find((a=>a.lib_type===l.lib_type))?a.map((a=>{a.lib_type===l.lib_type&&a.slotlist.push(l)})):a.push({lib_type:l.lib_type,platform:l.platform,slotlist:[l],contype:!0,searchSlot:""})})),a},B=l=>{let a=[],t=[],e=[];return l.map((l=>{1===l.platform&&t.push(l),2===l.platform&&e.push(l)})),a=[...T(t),...T(e)],a},F=()=>{(async()=>{const l=await C(),{data:t}=l;a.tableData=B(V(t))})()};return o((()=>{F()})),(l,t)=>{const e=s("el-table-column"),o=s("el-input"),C=s("el-button"),V=s("el-table"),T=s("el-dialog");return m(),d("div",null,[n("div",g,[n("div",S,[D,(m(!0),d(i,null,p(c(a).tableData,((l,a)=>(m(),d(i,null,[n("div",U,[n("div",j,[1===l.platform?(m(),d("span",A,"Android")):b("v-if",!0),2===l.platform?(m(),d("span",I,"iOS")):b("v-if",!0)]),n("div",N,[n("span",{textContent:y(l.lib_type)},null,8,O)]),n("div",{class:"col-auto-8 tdbox flex cp",onClick:a=>(l=>{l.contype=!l.contype})(l)},[G,n("div",{class:_(["ml-10 glyphicon glyphicon-triangle-bottom active",{"glyphicon-triangle-top":l.contype}])},null,2)],8,P)]),l.contype?(m(),v(w,{key:0,name:"slide-fade"},{default:u((()=>[r(V,{data:l.slotlist,border:"",ref_for:!0,ref:"wwTable"},{default:u((()=>[b(' <el-table-column type="expand"></el-table-column> '),r(e,{label:"二级分类"},{default:u((l=>[n("span",null,y(l.row.two_sort),1)])),_:1}),r(e,{label:"PKG",width:"200"},{default:u((l=>[n("div",K,[r(o,{modelValue:l.row.pkg_name,"onUpdate:modelValue":a=>l.row.pkg_name=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])])),_:1}),r(e,{width:"300",label:"Slot ID"},{default:u((l=>[n("div",q,[r(o,{style:{width:"100px"},modelValue:l.row.searchSlot,"onUpdate:modelValue":a=>l.row.searchSlot=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"]),n("i",{class:"cp icon el-icon-search",onClick:a=>{l.row.searchSlot}},null,8,z),n("span",E,y(l.row.slot_id),1)])])),_:1}),r(e,{label:"Slot Name"},{default:u((l=>[n("span",null,y(l.row.slot_name),1)])),_:1}),r(e,{label:"App Name"},{default:u((l=>[n("span",null,y(l.row.app_name),1)])),_:1}),r(e,{label:"操作"},{default:u((l=>[r(C,{class:"ml-10",type:"primary",onClick:a=>{l.row}},{default:u((()=>[h("提交")])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data"])])),_:2},1024)):b("v-if",!0)],64)))),256)),r(T,{title:"提示",modelValue:c(x),"onUpdate:modelValue":t[2]||(t[2]=l=>f(x)?x.value=l:x=l),width:"30%"},{default:u((()=>[H,b(" ff474d3b "),n("span",{textContent:y(c(k).data.id)},null,8,L),n("span",R,[r(C,{onClick:t[0]||(t[0]=l=>(c(k),x.value=!1,void(k.data.id="")))},{default:u((()=>[h("取 消")])),_:1}),r(C,{type:"primary",onClick:t[1]||(t[1]=l=>{return a=c(k),x.value=!1,a.slot_id=a.data.id,void(k.data.id="");var a})},{default:u((()=>[h("确 定")])),_:1})])])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-6e734384"]]);export{T as default};
