import{_ as l,d as a,r as t,e,M as o,m as s,s as d,n,v as i,O as p,P as c,q as r,c as u,p as f,z as m,x as b,K as y,D as _,F as v,b as w,S as h,A as x,a8 as k}from"./index-c04c8366.js";import{c as C}from"./serverclick-78aa74da.js";const V=l=>(_("data-v-6e734384"),l=l(),v(),l),S={class:"bw-offer-box bwblack"},g={class:"bw-con"},D=V((()=>i("div",{class:"flex mythead fb trbox"},[i("div",{class:"col-auto-8 tdbox"},"Platform"),i("div",{class:"col-auto-8 tdbox"},"设备库"),i("div",{class:"col-auto-8 tdbox"},"管理Slot")],-1))),U={class:"flex trbox mytbody"},j={class:"col-auto-8 tdbox"},P={key:0},A={key:1},I={class:"col-auto-8 tdbox"},O=["textContent"],K=["onClick"],N=V((()=>i("span",null,"View Slot",-1))),q={class:"flex"},z={class:"flex jcsb"},E=["onClick"],F={style:{width:"66px"}},G=w("提交"),M=V((()=>i("span",null,"Slot ID:",-1))),T=["textContent"],B={slot:"footer",class:"dialog-footer"},H=w("取 消"),J=w("确 定");var L=l(a({setup(l){let a=t({tableData:[]}),_=e(!1),v=t({data:{id:""}});const w=l=>(l.map((l=>(l.showtype=!1,0!==l.all.length&&l.all.map((a=>{for(const t in l)if(l.hasOwnProperty(t)){const e=l[t];"object"!=typeof e&&"slot_id"!==t&&(a[t]=e)}a.showtype=!1})),l))),l),V=l=>{let a=[];return l.forEach((l=>{a.find((a=>a.lib_type===l.lib_type))?a.map((a=>{a.lib_type===l.lib_type&&a.slotlist.push(l)})):a.push({lib_type:l.lib_type,platform:l.platform,slotlist:[l],contype:!0,searchSlot:""})})),a},L=l=>{let a=[],t=[],e=[];return l.map((l=>{1===l.platform&&t.push(l),2===l.platform&&e.push(l)})),a=[...V(t),...V(e)],a},Q=()=>{(async()=>{const l=await C(),{data:t}=l;a.tableData=L(w(t))})()};return o((()=>{Q()})),(l,t)=>{const e=s("el-table-column"),o=s("el-input"),w=s("el-button"),C=s("el-table"),V=s("el-dialog");return d(),n("div",null,[i("div",S,[i("div",g,[D,(d(!0),n(p,null,c(r(a).tableData,((l,a)=>(d(),n(p,null,[i("div",U,[i("div",j,[1===l.platform?(d(),n("span",P,"Android")):m("v-if",!0),2===l.platform?(d(),n("span",A,"iOS")):m("v-if",!0)]),i("div",I,[i("span",{textContent:b(l.lib_type)},null,8,O)]),i("div",{class:"col-auto-8 tdbox flex cp",onClick:a=>(l=>{l.contype=!l.contype})(l)},[N,i("div",{class:h(["ml-10 glyphicon glyphicon-triangle-bottom active",{"glyphicon-triangle-top":l.contype}])},null,2)],8,K)]),l.contype?(d(),x(k,{key:0,name:"slide-fade"},{default:f((()=>[u(C,{data:l.slotlist,border:"",ref_for:!0,ref:"wwTable"},{default:f((()=>[m(' <el-table-column type="expand"></el-table-column> '),u(e,{label:"二级分类"},{default:f((l=>[i("span",null,b(l.row.two_sort),1)])),_:1}),u(e,{label:"PKG",width:"200"},{default:f((l=>[i("div",q,[u(o,{modelValue:l.row.pkg_name,"onUpdate:modelValue":a=>l.row.pkg_name=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])])),_:1}),u(e,{width:"300",label:"Slot ID"},{default:f((l=>[i("div",z,[u(o,{style:{width:"100px"},modelValue:l.row.searchSlot,"onUpdate:modelValue":a=>l.row.searchSlot=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"]),i("i",{class:"cp icon el-icon-search",onClick:a=>{l.row.searchSlot}},null,8,E),i("span",F,b(l.row.slot_id),1)])])),_:1}),u(e,{label:"Slot Name"},{default:f((l=>[i("span",null,b(l.row.slot_name),1)])),_:1}),u(e,{label:"App Name"},{default:f((l=>[i("span",null,b(l.row.app_name),1)])),_:1}),u(e,{label:"操作"},{default:f((l=>[u(w,{class:"ml-10",type:"primary",onClick:a=>{l.row}},{default:f((()=>[G])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data"])])),_:2},1024)):m("v-if",!0)],64)))),256)),u(V,{title:"提示",modelValue:r(_),"onUpdate:modelValue":t[2]||(t[2]=l=>y(_)?_.value=l:_=l),width:"30%"},{default:f((()=>[M,m(" ff474d3b "),i("span",{textContent:b(r(v).data.id)},null,8,T),i("span",B,[u(w,{onClick:t[0]||(t[0]=l=>(r(v),_.value=!1,void(v.data.id="")))},{default:f((()=>[H])),_:1}),u(w,{type:"primary",onClick:t[1]||(t[1]=l=>{return a=r(v),_.value=!1,a.slot_id=a.data.id,void(v.data.id="");var a})},{default:f((()=>[J])),_:1})])])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-6e734384"]]);export{L as default};
