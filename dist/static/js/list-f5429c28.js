import{_ as e,d as l,r as a,L as t,q as o,a0 as r,c as i,x as n,z as d,e as s,s as u,v as c,K as p,U as m,A as f,V as b,o as h,f as y,N as v,O as g,y as _,g as V}from"./main-ce43ffdd.js";import{P as x}from"./index-2d86919d.js";import{A as w}from"./advertiser-68ce2208.js";import{_ as k}from"./lodash-6b3789ad.js";const U={class:"controlBox w100 mb-10"},C={class:"mb-10"},z={class:"flex jc-start flex-wrap w100"},j={class:"flex"},P={class:"flex"},O={class:"flex jc-around"},Q=["href"],S=["src"],A={class:"flex jc-around"},E={class:"w100 flex"};var q=e(l({__name:"list",setup(e){let{proxy:l}=V();const q=a({loading:!0}),D=a({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),I=a({});a({});let N=a({list:[]});const $=a({pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"}}),F=()=>{k.cloneDeep(D),T()},L=()=>{l.$router.push({path:"/advertiser/offer/create",query:{type:"create"}})},T=()=>{(async()=>{$.listQuery.page,$.listQuery.limit;const e=await w();N.list=e.info.data,q.loading=!1})()};return t((()=>{T()})),(e,a)=>{const t=o("el-button"),V=o("el-option"),w=o("el-select"),k=o("el-form-item"),B=o("el-input"),K=o("el-form"),G=o("el-table-column"),H=o("el-switch"),J=o("el-table"),M=r("loading");return h(),i("div",null,[n("div",U,[n("div",C,[d(' <router-link to="/buzz/buzz-async-create">\n          <el-button type="primary">\n            Offer Create\n          </el-button>\n        </router-link> '),s(t,{type:"primary",onClick:L},{default:u((()=>[y("Offer Create")])),_:1})]),s(K,{modelValue:c(D),"onUpdate:modelValue":a[8]||(a[8]=e=>p(D)?D.value=e:null),inline:!0,class:"flex jc-between w100 ai-end"},{default:u((()=>[n("div",z,[s(k,{label:""},{default:u((()=>[s(w,{modelValue:c(D).attribute_provider,"onUpdate:modelValue":a[0]||(a[0]=e=>c(D).attribute_provider=e),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:u((()=>[(h(!0),i(v,null,g(c(I).attribute_provider,(e=>(h(),f(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(w,{modelValue:c(D).platform,"onUpdate:modelValue":a[1]||(a[1]=e=>c(D).platform=e),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:u((()=>[(h(!0),i(v,null,g(c(I).platform,(e=>(h(),f(V,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).package_name,"onUpdate:modelValue":a[2]||(a[2]=e=>c(D).package_name=e),placeholder:"Package Name",class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).channel,"onUpdate:modelValue":a[3]||(a[3]=e=>c(D).channel=e),placeholder:"Channel",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).id,"onUpdate:modelValue":a[4]||(a[4]=e=>c(D).id=e),placeholder:"ID",class:"search-con"},null,8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).offer_title,"onUpdate:modelValue":a[5]||(a[5]=e=>c(D).offer_title=e),placeholder:"Offer Title",class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).country,"onUpdate:modelValue":a[6]||(a[6]=e=>c(D).country=e),placeholder:"Country",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])])),_:1}),s(k,{label:""},{default:u((()=>[s(B,{modelValue:c(D).pid,"onUpdate:modelValue":a[7]||(a[7]=e=>c(D).pid=e),placeholder:"Pid",class:"search-con"},null,8,["modelValue"])])),_:1})]),n("div",j,[s(k,{class:"mr-0",style:{"margin-right":"0px"}},{default:u((()=>[n("div",P,[s(t,{type:"primary",onClick:F},{default:u((()=>[y(" 查询 ")])),_:1}),d(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])])),_:1})])])),_:1},8,["modelValue"]),d(' <el-input placeholder="请输入内容" v-model="searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),d(" table "),m((h(),f(J,{center:"",data:c(N).list,class:"w100",height:"70vh",border:""},{default:u((()=>[s(G,{fixed:"",prop:"id",label:"ID",align:"center"}),s(G,{fixed:"",prop:"logo",label:"Logo",align:"center"},{default:u((e=>[n("div",O,[n("a",{href:e.row.icon,class:"offer-icon-box"},[n("img",{src:e.row.icon,alt:"",class:"offer-icon"},null,8,S)],8,Q)])])),_:1}),s(G,{fixed:"",prop:"title",label:"Offer Title",align:"center"}),s(G,{prop:"platform",label:"Platform",align:"center"},{default:u((e=>[y(_(1===Number(e.row.platform)?"Android":"iOS"),1)])),_:1}),s(G,{prop:"country_data",label:"Country",align:"center"}),s(G,{prop:"payout",label:"Payout",align:"center"}),s(G,{label:"Operation",align:"center"},{default:u((e=>[n("div",A,[d(' <router-link :to="getEditUrl(scope.row)">\n              <el-button\n                class="cp mr-10"\n                type="primary"\n                icon="Edit"\n                circle\n              ></el-button>\n            </router-link> '),s(t,{class:"cp mr-10",type:"primary",icon:"Edit",circle:"",onClick:a=>(e=>{let{id:a}=e,t=`/advertiser/offer/edit/${a}`;l.$router.push({path:t,query:{type:"edit"}})})(e.row)},null,8,["onClick"]),s(H,{modelValue:e.row.status,"onUpdate:modelValue":l=>e.row.status=l,"active-value":1,"inactive-value":2,onChange:l=>{e.row}},null,8,["modelValue","onUpdate:modelValue","onChange"])])])),_:1})])),_:1},8,["data"])),[[M,c(q).loading]]),d(" 分页 "),n("div",E,[m(s(c(x),{page:c($).listQuery.page,"onUpdate:page":a[9]||(a[9]=e=>c($).listQuery.page=e),limit:c($).listQuery.limit,"onUpdate:limit":a[10]||(a[10]=e=>c($).listQuery.limit=e),total:c($).total,"page-sizes":c($).pageSizes,onPagination:T},null,8,["page","limit","total","page-sizes"]),[[b,c($).total]])])])}}}),[["__scopeId","data-v-3f086fae"]]);export{q as default};
