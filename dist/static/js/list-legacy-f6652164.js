!function(){function e(e,t,n,a,r,l,i){try{var o=e[l](i),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(a,r)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(r,l){var i=t.apply(n,a);function o(t){e(i,r,l,o,u,"next",t)}function u(t){e(i,r,l,o,u,"throw",t)}o(void 0)}))}}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var r=document.createElement("style");r.innerHTML=".cutoff[data-v-0b56db22]{width:80px}\n",document.head.appendChild(r),System.register(["./vendor-legacy-9167ff01.js","./index-legacy-f8397cfa.js","./device-legacy-c32fc962.js","./message-legacy-9fea016a.js","./lodash-legacy-2919d6da.js","./new-format-legacy-bf40b209.js","./format-legacy-aa82f332.js","./index-legacy-2e491912.js","./moment-legacy-905ec324.js"],(function(e){"use strict";var a,r,l,i,o,u,c,s,d,f,p,m,h,v,b,g,y,_,w,x,V,k,D,F,j,C,U,A,S,P,z,O,R;return{setters:[function(e){a=e.d,r=e.ai,l=e.y,i=e.B,o=e.r,u=e.aj,c=e.i,s=e.s,d=e.g,f=e.v,p=e.f,m=e.h,h=e.P,v=e.c,b=e.Q,g=e.o,y=e.F,_=e.j,w=e.x,x=e.t},function(e){V=e.P},function(e){k=e.A,D=e._,F=e.a,j=e.b,C=e.c,U=e.d,A=e.e},function(e){S=e.m},function(e){P=e._},function(e){z=e.h},function(e){O=e.t},function(e){R=e._},function(){}],execute:function(){var E={class:"controlBox w100 mb-10"},N={class:"mb-10"},Q=w("Offer Create"),I={class:"flex jc-start flex-wrap w100"},B={class:"flex"},M={class:"flex"},T=w("查询"),L={class:"flex jc-around"},J={class:"flex jc-around"},$={class:"flex jc-between"},H=["textContent"],K={class:"flex jc-around"},q={class:"w100 flex"},G={class:"dialog-footer"},W=w("确 定"),X=a({setup:function(e){var a=r({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),R=l({offer:{},index:null,cacheDevice:{}}),X=l({dialogVisible:!1,dialogVisibleDevice:!1,cache:{item:{},device:{}},searchForm:a.value,useData:a.value,loading:!0,options:{cutoff_start:n(new Array(20)).map((function(e,t){var n=5*t/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),cutoff_end:n(new Array(20)).map((function(e,t){var n=(5*t+5)/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],platform:[{value:"1",label:"Android"},{value:"2",label:"iOS"}]},list:[],pagination:{pageSizes:["20","50","100","500","1000"],total:1,listQuery:{page:1,limit:50,importance:void 0,title:void 0,type:void 0,sort:"+id"}}}),Y=function(){X.useData=P.cloneDeep(X.searchForm),ne()},Z=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,max_clk_num:parseFloat(t.max_clk_num)},e.next=3,F(n);case 3:a=e.sent,S(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,site_clk_limit:parseFloat(t.site_clk_limit)},e.next=3,j(n);case 3:a=e.sent,S(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,status:t.status},n=z(n),e.next=4,C(n);case 4:a=e.sent,S(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.loading=!0,t={page:X.pagination.listQuery.page,page_size:X.pagination.listQuery.limit},X.useData.attribute_provider&&(t.attribute_provider=X.useData.attribute_provider),X.useData.platform&&(t.platform=X.useData.platform),X.useData.package_name&&(t.pkg_name=X.useData.package_name),X.useData.channel&&(t.channel=X.useData.channel),X.useData.id&&(t.offer_id=X.useData.id),X.useData.offer_title&&(t.title=X.useData.offer_title),X.useData.country&&(t.country=X.useData.country),X.useData.pid&&(t.tracking_link=X.useData.pid),e.next=12,k(t);case 12:n=e.sent,a=n.data,r=a.page,X.list=null==a?void 0:a.data,X.pagination.total=Number(r.count),X.loading=!1;case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=t(regeneratorRuntime.mark((function e(t,n){var a,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X.dialogVisibleDevice=!0,R.offer=n,R.index=t,a={id:n.id,platform:n.platform,country:n.country},e.next=7,U(a);case 7:r=e.sent,l=r.data,R.cacheDevice.all=l.all,R.cacheDevice.select=JSON.parse(n.device);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),re=function(e){R.cacheDevice.select=e},le=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:R.offer.id,device:JSON.stringify(R.cacheDevice.select)},e.next=3,A(t);case 3:n=e.sent,S(n),X.dialogVisibleDevice=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i((function(){Y()})),function(e,t){var n=o("el-button"),a=o("router-link"),r=o("el-option"),l=o("el-select"),i=o("el-form-item"),k=o("el-input"),F=o("el-form"),j=o("el-table-column"),C=o("el-switch"),U=o("el-table"),A=o("el-dialog"),S=u("loading");return g(),c("div",null,[s("div",E,[s("div",N,[d(" <el-button type=\"primary\" @click='createFun'>Offer Create</el-button> "),f(a,{to:"/buzz/old-buzz/create"},{default:p((function(){return[f(n,{type:"primary"},{default:p((function(){return[Q]})),_:1})]})),_:1})]),f(F,{inline:!0,modelValue:m(X).searchForm,"onUpdate:modelValue":t[8]||(t[8]=function(e){return m(X).searchForm=e}),class:"flex jc-between w100 ai-end"},{default:p((function(){return[s("div",I,[f(i,{label:""},{default:p((function(){return[f(l,{modelValue:m(X).searchForm.attribute_provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m(X).searchForm.attribute_provider=e}),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:p((function(){return[(g(!0),c(y,null,_(m(X).options.attribute_provider,(function(e){return g(),v(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(l,{modelValue:m(X).searchForm.platform,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m(X).searchForm.platform=e}),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:p((function(){return[(g(!0),c(y,null,_(m(X).options.platform,(function(e){return g(),v(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"Package Name",modelValue:m(X).searchForm.package_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m(X).searchForm.package_name=e}),class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"Channel",modelValue:m(X).searchForm.channel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return m(X).searchForm.channel=e}),class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"ID",modelValue:m(X).searchForm.id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return m(X).searchForm.id=e}),class:"search-con"},null,8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"Offer Title",modelValue:m(X).searchForm.offer_title,"onUpdate:modelValue":t[5]||(t[5]=function(e){return m(X).searchForm.offer_title=e}),class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"Country",modelValue:m(X).searchForm.country,"onUpdate:modelValue":t[6]||(t[6]=function(e){return m(X).searchForm.country=e}),class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),f(i,{label:""},{default:p((function(){return[f(k,{placeholder:"Pid",modelValue:m(X).searchForm.pid,"onUpdate:modelValue":t[7]||(t[7]=function(e){return m(X).searchForm.pid=e}),class:"search-con"},null,8,["modelValue"])]})),_:1})]),s("div",B,[f(i,{class:"mr-0",style:{"margin-right":"0px"}},{default:p((function(){return[s("div",M,[f(n,{type:"primary",onClick:Y},{default:p((function(){return[T]})),_:1}),d(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])]})),_:1})])]})),_:1},8,["modelValue"]),d(' <el-input placeholder="请输入内容" v-model="data.searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),d(" table "),h((g(),v(U,{center:"",data:m(X).list,class:"w100",height:"60vh",border:""},{default:p((function(){return[f(j,{fixed:"",prop:"offer_id",label:"Offer ID",align:"center",width:"70"}),f(j,{fixed:"",prop:"channel",label:"Channel",align:"center",width:"70"}),f(j,{prop:"pkg_name",label:"Package Name",align:"center"}),f(j,{prop:"title",label:"Offer Title",width:"120",align:"center"}),f(j,{prop:"attribute_provider",label:"Attribute Provider",align:"center"}),f(j,{prop:"pid",label:"Pid",align:"center"}),f(j,{prop:"platform",label:"Platform",align:"center",width:"70"},{default:p((function(e){return[w(x(1===Number(e.row.platform)?"Android":"iOS"),1)]})),_:1}),f(j,{prop:"country",label:"Country",align:"center",width:"70"}),f(j,{prop:"payout",label:"Payout",align:"center",width:"70"}),f(j,{label:"Click Limitation(w)",width:"120",align:"center"},{default:p((function(e){return[s("div",L,[f(k,{class:"input-with-select",modelValue:e.row.max_clk_num,"onUpdate:modelValue":function(t){return e.row.max_clk_num=t},placeholder:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"]),f(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return Z(e.row)}},null,8,["onClick"])])]})),_:1}),f(j,{label:"Site Click Limitation",width:"120",align:"center"},{default:p((function(e){return[s("div",J,[f(k,{class:"input-with-select",modelValue:e.row.site_clk_limit,"onUpdate:modelValue":function(t){return e.row.site_clk_limit=t},placeholder:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"]),f(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return ee(e.row)}},null,8,["onClick"])])]})),_:1}),f(j,{label:"Select Device",width:"120",align:"center"},{default:p((function(e){return[s("div",$,[s("span",{textContent:x(m(O)(e.row.device_count))},null,8,H),f(n,{class:"cp ml-10 scale-button",type:"primary",icon:"Edit",circle:"",onClick:function(t){return ae(e.$index,e.row)}},null,8,["onClick"])])]})),_:1}),f(j,{width:"100",label:"Operation",align:"center"},{default:p((function(e){return[s("div",K,[f(a,{to:(t=e.row,r=t.id,"/buzz/old-buzz/edit/".concat(r))},{default:p((function(){return[f(n,{class:"cp mr-10",type:"primary",icon:"Edit",circle:""})]})),_:2},1032,["to"]),d(" <el-button class='cp mr-10' type=\"primary\" icon=\"Edit\" circle @click='editFun(scope.row)'></el-button> "),f(C,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t},"active-value":1,"inactive-value":2,onChange:function(t){return te(e.row)}},null,8,["modelValue","onUpdate:modelValue","onChange"])])];var t,r})),_:1})]})),_:1},8,["data"])),[[S,m(X).loading]]),d(" 分页 "),s("div",q,[h(f(m(V),{total:m(X).pagination.total,"page-sizes":m(X).pagination.pageSizes,page:m(X).pagination.listQuery.page,"onUpdate:page":t[9]||(t[9]=function(e){return m(X).pagination.listQuery.page=e}),limit:m(X).pagination.listQuery.limit,"onUpdate:limit":t[10]||(t[10]=function(e){return m(X).pagination.listQuery.limit=e}),onPagination:ne},null,8,["total","page-sizes","page","limit"]),[[b,m(X).pagination.total]])]),d(" device "),f(A,{title:"Device",modelValue:m(X).dialogVisibleDevice,"onUpdate:modelValue":t[13]||(t[13]=function(e){return m(X).dialogVisibleDevice=e})},{default:p((function(){return[m(X).dialogVisibleDevice?(g(),v(D,{key:0,all:m(R).cacheDevice.all,"onUpdate:all":t[11]||(t[11]=function(e){return m(R).cacheDevice.all=e}),select:m(R).cacheDevice.select,"onUpdate:select":t[12]||(t[12]=function(e){return m(R).cacheDevice.select=e}),onKk:re},null,8,["all","select"])):d("v-if",!0),s("span",G,[d(' <el-button @click="cancleDevice">取 消</el-button> '),f(n,{type:"primary",onClick:le},{default:p((function(){return[W]})),_:1})])]})),_:1},8,["modelValue"])])}}});e("default",R(X,[["__scopeId","data-v-0b56db22"]]))}}}))}();
