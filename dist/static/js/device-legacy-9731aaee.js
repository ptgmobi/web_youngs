!function(){function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}System.register(["./index-legacy-21594493.js","./vendor-legacy-9167ff01.js","./format-legacy-a14f984b.js"],(function(t){"use strict";var r,o,u,a,s,c,i,l,f,d,b,p,m,g,h;return{setters:[function(t){r=t.k},function(t){o=t.d,u=t.y,a=t.w,s=t.B,c=t.r,i=t.o,l=t.i,f=t.s,d=t.v,b=t.f,p=t.h,m=t.x,g=t.t},function(t){h=t.t}],execute:function(){t({A:function(t){return r({url:"/buzz",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},a:function(t){return r({url:"/buzz/edit-offer-max-clk",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},b:function(t){return r({url:"/buzz/status",data:t,method:"patch",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},c:function(t){return r({url:"/buzz",data:t,method:"post",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},d:function(t){return r({url:"/buzz",data:t,method:"put",bfLoading:!1,isParams:!1,isAlertErrorMsg:!1})},e:function(){return r({url:"/buzz/edit-config",method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},f:function(t){return r({url:"/buzz/view/".concat(t),method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})},g:function(t){return r({url:"/buzz/get-device-num",data:t,method:"get",bfLoading:!1,isParams:!0,isAlertErrorMsg:!1})}});var v={class:"full"},y={class:"w100 flex mt-20"},j=f("span",null,"选中合计：",-1),O=["textContent"];t("_",o({props:{json:{require:!0,default:function(){return{}},type:Object}},emits:["kk","up"],setup:function(t,r){var o=r.emit,w=t,A=[],_=u({search:{id:""},set:new Set,setObj:{},spanArr:A,arr:A,select:A,statisticsCount:0});a(w.json,(function(t,e){}));var P=function(){var t=n(_.set).map((function(t){return t=[t,!1]}));_.setObj=Object.fromEntries(t),z()},z=function(){Object.keys(_.setObj).forEach((function(t){var e=[];_.arr.forEach((function(r){r.source===t&&e.push(r.select_status)})),_.setObj[t]=!0,e.includes(!1)&&(_.setObj[t]=!1)})),E()},E=function(){var t=_.arr.reduce((function(t,e){return e.select_status?t+parseInt(e.device_count):t}),0);_.statisticsCount=h(t)},S=function(){var t=[];_.arr.forEach((function(r){r.select_status&&(t.push(e(e({},r),{},{source:r.source,label:r.label})),parseInt(r.device_count))})),o("kk",t)},x=function(t,e){_.spanArr=[];for(var r=0,n=0;n<t.length;n++)0===n?_.spanArr.push(1):t[n][e]===t[n-1][e]?(_.spanArr[r]+=1,_.spanArr.push(0)):(_.spanArr.push(1),r=n)},C=function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var r=_.spanArr[e];return{rowspan:r,colspan:r>0?1:0}}};return s((function(){!function(){if(0!==w.json.all.length){_.set=new Set;var t=w.json.all;return _.select=w.json.select,t.map((function(t){t.select_status=!1,_.set.add(t.source),_.select.map((function(e){return t.source===e.source&&t.label===e.label&&(t.select_status=!0),t}))})),t.sort((function(t,e){return t.label>e.label?1:t.label<e.label?-1:1})),t.sort((function(t,e){return t.source>e.source?1:t.source<e.source?-1:1})),x(t,"source"),_.arr=t,P(),t}JSON.parse(JSON.stringify(_.arr))}()})),function(t,e){var r=c("el-checkbox"),n=c("el-table-column"),o=c("el-table");return i(),l("div",null,[f("div",v,[d(o,{data:p(_).arr,"span-method":C,border:"",style:{width:"100%","margin-top":"20px"}},{default:b((function(){return[d(n,{prop:"source",label:"Source",width:"180"},{default:b((function(t){return[d(r,{modelValue:p(_).setObj[t.row.source],"onUpdate:modelValue":function(e){return p(_).setObj[t.row.source]=e},onChange:function(e){return r=t.row.source,n=p(_).setObj[t.row.source],_.arr.map((function(t){t.source===r&&(t.select_status=n)})),z(),void S();var r,n}},{default:b((function(){return[m(g(t.row.source),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]})),_:1}),d(n,{prop:"label",label:"Label"}),d(n,{prop:"slot_id",label:"Slot ID"}),d(n,{prop:"device_count",label:"Count"},{default:b((function(t){return[f("span",null,g(p(h)(t.row.device_count)),1)]})),_:1}),d(n,{prop:"select",label:"Select"},{default:b((function(t){return[d(r,{modelValue:t.row.select_status,"onUpdate:modelValue":function(e){return t.row.select_status=e},onChange:function(e){return t.row,z(),void S()}},null,8,["modelValue","onUpdate:modelValue","onChange"])]})),_:1})]})),_:1},8,["data"]),f("div",y,[j,f("span",{textContent:g(p(_).statisticsCount)},null,8,O)])])])}}}))}}}))}();
