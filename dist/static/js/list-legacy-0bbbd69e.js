!function(){function e(e,t,n,a,r,l,o){try{var u=e[l](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(a,r)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(r,l){var o=t.apply(n,a);function u(t){e(o,r,l,u,i,"next",t)}function i(t){e(o,r,l,u,i,"throw",t)}u(void 0)}))}}function n(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=document.createElement("style");u.innerHTML=".cutoff[data-v-29c9e5d6]{width:80px}\n",document.head.appendChild(u),System.register(["./vendor-legacy-9b72e15f.js","./index-legacy-1ef5604f.js","./buzz-legacy-b426d9f5.js","./message-legacy-29e0e2d2.js","./lodash-legacy-08b68016.js","./new-format-legacy-0800fe3a.js","./index-legacy-29193966.js"],(function(e){"use strict";var a,r,o,u,i,c,s,d,f,p,m,b,v,h,y,g,_,w,x,V,k,j,F,O,D,P,A,U,C,S,z,E;return{setters:[function(e){a=e.d,r=e.ah,o=e.z,u=e.C,i=e.r,c=e.ai,s=e.k,d=e.v,f=e.i,p=e.x,m=e.h,b=e.j,v=e.N,h=e.c,y=e.O,g=e.o,_=e.F,w=e.l,x=e.y,V=e.t,k=e.q,j=e.s,F=e.W},function(e){O=e.P},function(e){D=e.A,P=e.a,A=e.b,U=e.c},function(e){C=e.m},function(e){S=e._},function(e){z=e.a},function(e){E=e._}],execute:function(){var R=function(e){return k("data-v-29c9e5d6"),e=e(),j(),e},N={class:"controlBox w100 mb-10"},Q={class:"mb-10"},I=x(" Offer Create "),M={class:"flex jc-start flex-wrap w100"},T={class:"flex"},B={class:"flex"},L=x(" 查询 "),q={class:"flex jc-around"},H={class:"flex jc-around"},W=R((function(){return d("span",null,"-",-1)})),$={class:"flex mt-10"},G={class:"flex jc-around"},J={class:"w100 flex"},K=a({name:"buzz-list"}),X=a(l(l({},K),{},{setup:function(e){var a=r({attribute_provider:[],platform:[],package_name:"",channel:"",id:"",offer_title:"",country:"",pid:""}),l=o({dialogVisible:!1,cache:{item:{},device:{}},searchForm:a.value,useData:a.value,loading:!0,options:{cutoff_start:n(new Array(20)).map((function(e,t){var n=5*t/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),cutoff_end:n(new Array(20)).map((function(e,t){var n=(5*t+5)/100;return{value:n,label:"".concat((100*Number(n)).toFixed(0),"%")}})),attribute_provider:[{value:"AppsFlyer",label:"AppsFlyer"},{value:"Branch",label:"Branch"},{value:"Adjust",label:"Adjust"},{value:"Singular",label:"Singular"},{value:"AppMetrica",label:"AppMetrica"}],platform:[{value:"1",label:"Android"},{value:"2",label:"iOS"}]},list:[],pagination:{pageSizes:["50","100","500","1000"],total:1,listQuery:{page:1,limit:50,importance:void 0,title:void 0,type:void 0,sort:"+id"}}}),k=function(){l.useData=S.cloneDeep(l.searchForm),K()},j=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,max_clk_num:t.max_clk_num},n=z(n),e.next=4,P(n);case 4:a=e.sent,C(a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a,r,l,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.cutoff_start,a=t.cutoff_end,r=t.id,!(n<a)){e.next=13;break}return l=z(l={cutoff_start:n,cutoff_end:a,id:r}),e.next=9,A(l);case 9:o=e.sent,C(o),e.next=15;break;case 13:"start必须小于end",F({message:"start必须小于end",type:"error",duration:2e3});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=t(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.id,status:t.status},n=z(n),e.next=4,U(n);case 4:a=e.sent,C(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=t(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.loading=!0,t={page:l.pagination.listQuery.page,page_size:l.pagination.listQuery.limit},l.useData.attribute_provider&&(t.attribute_provider=l.useData.attribute_provider),l.useData.platform&&(t.platform=l.useData.platform),l.useData.package_name&&(t.pkg_name=l.useData.package_name),l.useData.channel&&(t.channel=l.useData.channel),l.useData.id&&(t.offer_id=l.useData.id),l.useData.offer_title&&(t.title=l.useData.offer_title),l.useData.country&&(t.country=l.useData.country),l.useData.pid&&(t.tracking_link=l.useData.pid),e.next=12,D(t);case 12:n=e.sent,a=n.data,l.list=null==a?void 0:a.data,l.pagination.total=Number(a.count),l.loading=!1;case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u((function(){k()})),function(e,t){var n=i("el-button"),a=i("router-link"),r=i("el-option"),o=i("el-select"),u=i("el-form-item"),F=i("el-input"),D=i("el-form"),P=i("el-table-column"),A=i("el-switch"),U=i("el-table"),C=c("loading");return g(),s("div",null,[d("div",N,[d("div",Q,[f(" <el-button type=\"primary\" @click='createFun'>Offer Create</el-button> "),p(a,{to:"/buzz/create"},{default:m((function(){return[p(n,{type:"primary"},{default:m((function(){return[I]})),_:1})]})),_:1})]),p(D,{modelValue:b(l).searchForm,"onUpdate:modelValue":t[8]||(t[8]=function(e){return b(l).searchForm=e}),inline:!0,class:"flex jc-between w100 ai-end"},{default:m((function(){return[d("div",M,[p(u,{label:""},{default:m((function(){return[p(o,{modelValue:b(l).searchForm.attribute_provider,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b(l).searchForm.attribute_provider=e}),clearable:"",class:"search-con",placeholder:"Attribute Provider",style:{"min-width":"140px"}},{default:m((function(){return[(g(!0),s(_,null,w(b(l).options.attribute_provider,(function(e){return g(),h(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(o,{modelValue:b(l).searchForm.platform,"onUpdate:modelValue":t[1]||(t[1]=function(e){return b(l).searchForm.platform=e}),clearable:"",class:"search-con",placeholder:"Platform",style:{"min-width":"95px"}},{default:m((function(){return[(g(!0),s(_,null,w(b(l).options.platform,(function(e){return g(),h(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.package_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b(l).searchForm.package_name=e}),placeholder:"Package Name",class:"search-con",style:{"min-width":"120px"}},null,8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.channel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return b(l).searchForm.channel=e}),placeholder:"Channel",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return b(l).searchForm.id=e}),placeholder:"ID",class:"search-con"},null,8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.offer_title,"onUpdate:modelValue":t[5]||(t[5]=function(e){return b(l).searchForm.offer_title=e}),placeholder:"Offer Title",class:"search-con",style:{"min-width":"90px"}},null,8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.country,"onUpdate:modelValue":t[6]||(t[6]=function(e){return b(l).searchForm.country=e}),placeholder:"Country",class:"search-con",style:{"min-width":"80px"}},null,8,["modelValue"])]})),_:1}),p(u,{label:""},{default:m((function(){return[p(F,{modelValue:b(l).searchForm.pid,"onUpdate:modelValue":t[7]||(t[7]=function(e){return b(l).searchForm.pid=e}),placeholder:"Pid",class:"search-con"},null,8,["modelValue"])]})),_:1})]),d("div",T,[p(u,{class:"mr-0",style:{"margin-right":"0px"}},{default:m((function(){return[d("div",B,[p(n,{type:"primary",onClick:k},{default:m((function(){return[L]})),_:1}),f(' <el-button type="primary" @click="handleExportSearch">导出</el-button> ')])]})),_:1})])]})),_:1},8,["modelValue"]),f(' <el-input placeholder="请输入内容" v-model="data.searchForm.data" class=\'search-input\'>\n        <el-button slot="append" icon="Search" @click=\'searchFun\'></el-button>\n      </el-input> ')]),f(" table "),v((g(),h(U,{center:"",data:b(l).list,class:"w100",height:"70vh",border:""},{default:m((function(){return[p(P,{fixed:"",prop:"offer_id",label:"ID",align:"center"}),p(P,{fixed:"",prop:"channel",label:"Channel",align:"center"}),p(P,{prop:"pkg_name",label:"Package Name",align:"center"}),p(P,{prop:"title",label:"Offer Title",width:"120",align:"center"}),p(P,{prop:"attribute_provider",label:"Attribute Provider",align:"center"}),p(P,{prop:"pid",label:"Pid",align:"center"}),p(P,{prop:"platform",label:"Platform",align:"center"},{default:m((function(e){return[x(V(1===Number(e.row.platform)?"Android":"iOS"),1)]})),_:1}),p(P,{prop:"country",label:"Country",align:"center"}),p(P,{prop:"payout",label:"Payout",align:"center"}),p(P,{label:"Click Limitation(w)",width:"150",align:"center"},{default:m((function(e){return[d("div",q,[p(F,{modelValue:e.row.max_clk_num,"onUpdate:modelValue":function(t){return e.row.max_clk_num=t},placeholder:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"]),p(n,{class:"cp ml-10",type:"primary",icon:"Edit",circle:"",onClick:function(t){return j(e.row)}},null,8,["onClick"])])]})),_:1}),p(P,{label:"Device Cutoff",width:"250",align:"center"},{default:m((function(e){return[d("div",H,[d("div",null,[d("div",null,[p(o,{modelValue:e.row.cutoff_start,"onUpdate:modelValue":function(t){return e.row.cutoff_start=t},class:"cutoff",filterable:"",placeholder:"start"},{default:m((function(){return[(g(!0),s(_,null,w(b(l).options.cutoff_start,(function(e){return g(),h(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"]),W,p(o,{modelValue:e.row.cutoff_end,"onUpdate:modelValue":function(t){return e.row.cutoff_end=t},class:"cutoff",filterable:"",placeholder:"end"},{default:m((function(){return[(g(!0),s(_,null,w(b(l).options.cutoff_end,(function(e){return g(),h(r,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),d("div",$,[d("span",null,V((t=e.row,a=(t.cutoff_end-t.cutoff_start)*t.device_num,a?a.toFixed(0):"")),1)])]),p(n,{class:"cp ml-10",type:"primary",icon:"Edit",circle:"",onClick:function(t){return E(e.row)}},null,8,["onClick"])])];var t,a})),_:1}),p(P,{width:"100",label:"Operation",align:"center"},{default:m((function(e){return[d("div",G,[p(a,{to:(t=e.row,r=t.id,"/buzz/edit/".concat(r))},{default:m((function(){return[p(n,{class:"cp mr-10",type:"primary",icon:"Edit",circle:""})]})),_:2},1032,["to"]),f(" <el-button class='cp mr-10' type=\"primary\" icon=\"Edit\" circle @click='editFun(scope.row)'></el-button> "),p(A,{modelValue:e.row.status,"onUpdate:modelValue":function(t){return e.row.status=t},"active-value":1,"inactive-value":2,onChange:function(t){return R(e.row)}},null,8,["modelValue","onUpdate:modelValue","onChange"])])];var t,r})),_:1})]})),_:1},8,["data"])),[[C,b(l).loading]]),f(" 分页 "),d("div",J,[v(p(b(O),{page:b(l).pagination.listQuery.page,"onUpdate:page":t[9]||(t[9]=function(e){return b(l).pagination.listQuery.page=e}),limit:b(l).pagination.listQuery.limit,"onUpdate:limit":t[10]||(t[10]=function(e){return b(l).pagination.listQuery.limit=e}),total:b(l).pagination.total,"page-sizes":b(l).pagination.pageSizes,onPagination:K},null,8,["page","limit","total","page-sizes"]),[[y,b(l).pagination.total]])])])}}}));e("default",E(X,[["__scopeId","data-v-29c9e5d6"]]))}}}))}();
