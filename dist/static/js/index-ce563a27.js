import{d as a,r as e,a0 as l,L as t,q as s,o as d,c as r,e as o,s as u,z as i,A as n,v as c,N as m,O as p,K as v,x as f,P as b}from"./main-f5fc11c6.js";import{g as y,a as x}from"./format-fb65a074.js";import{A as h}from"./dsp-advertiser-133f6b15.js";import{u as V}from"./dsp-2d82d1cf.js";const Y={class:"mb-10 search-box flex jc-between ai-start"},_=f("div",{class:"button-box"},null,-1),j=a({props:{arr:{require:!0,default:()=>["adv"],type:Array}},emits:["up"],setup(a,{emit:f}){const j=a,k=V().topsearch;let{adv:D,date:g}=k,w=e({adv:D,date:g||[]}),M=e([{text:"今天",value:y(0,"day")},{text:"昨天",value:()=>x(1,1,"day")},{text:"最近7天",value:()=>y(6,"day")},{text:"最近30天",value:()=>y(29,"day")}]),A=e({advertiser:[{adv_id:"",name:""}]});l((()=>{w.adv,b(w.date);const a=V(),e={};j.arr.map((a=>{e[a]=w[a]})),a.setSearchData(e),f("up",e),V().topsearch}));const U=async()=>{await(async()=>{const{data:{data:a}}=await h({page:1,limit:1e4});A.advertiser=a})()};return t((()=>{U()})),(a,e)=>{const l=s("el-option"),t=s("el-select"),f=s("el-form-item"),b=s("el-date-picker"),y=s("el-form");return d(),r("div",Y,[_,o(y,{modelValue:c(w),"onUpdate:modelValue":e[2]||(e[2]=a=>v(w)?w.value=a:w=a),inline:!0,class:"flex w100 ai-start jc-end"},{default:u((()=>[i(" 广告主 "),j.arr.includes("adv")?(d(),n(f,{key:0,label:""},{default:u((()=>[o(t,{modelValue:c(w).adv,"onUpdate:modelValue":e[0]||(e[0]=a=>c(w).adv=a),filterable:"",clearable:"",placeholder:"请选择广告主"},{default:u((()=>[(d(!0),r(m,null,p(c(A).advertiser,(a=>(d(),n(l,{key:a.adv_id,label:a.name,value:a.adv_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})):i("v-if",!0),j.arr.includes("date")?(d(),n(f,{key:1,label:""},{default:u((()=>[i(" 日期 "),o(b,{modelValue:c(w).date,"onUpdate:modelValue":e[1]||(e[1]=a=>c(w).date=a),class:"mr-10 mb-10",type:"daterange","unlink-panels":"",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",shortcuts:c(M),clearable:!1},null,8,["modelValue","shortcuts"])])),_:1})):i("v-if",!0)])),_:1},8,["modelValue"])])}}});export{j as _};
