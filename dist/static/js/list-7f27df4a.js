import{_ as l,d as a,r as t,h as e,L as o,q as s,o as d,c as n,x as i,N as p,O as c,v as r,e as u,s as f,K as b,D as m,F as y,z as _,y as v,R as h,A as w,a7 as x,f as k}from"./main-4c3c1367.js";import{c as C}from"./serverclick-8b8b176f.js";const V=l=>(m("data-v-6e734384"),l=l(),y(),l),g={class:"bw-offer-box bwblack"},S={class:"bw-con"},D=V((()=>i("div",{class:"flex mythead fb trbox"},[i("div",{class:"col-auto-8 tdbox"},"Platform"),i("div",{class:"col-auto-8 tdbox"},"设备库"),i("div",{class:"col-auto-8 tdbox"},"管理Slot")],-1))),U={class:"flex trbox mytbody"},j={class:"col-auto-8 tdbox"},A={key:0},I={key:1},N={class:"col-auto-8 tdbox"},O=["textContent"],P=["onClick"],K=V((()=>i("span",null,"View Slot",-1))),q={class:"flex"},z={class:"flex jcsb"},E=["onClick"],F={style:{width:"66px"}},G=k("提交"),L=V((()=>i("span",null,"Slot ID:",-1))),R=["textContent"],T={slot:"footer",class:"dialog-footer"},B=k("取 消"),H=k("确 定");var J=l(a({setup(l){let a=t({tableData:[]}),m=e(!1),y=t({data:{id:""}});const k=l=>(l.map((l=>(l.showtype=!1,0!==l.all.length&&l.all.map((a=>{for(const t in l)if(l.hasOwnProperty(t)){const e=l[t];"object"!=typeof e&&"slot_id"!==t&&(a[t]=e)}a.showtype=!1})),l))),l),V=l=>{let a=[];return l.forEach((l=>{a.find((a=>a.lib_type===l.lib_type))?a.map((a=>{a.lib_type===l.lib_type&&a.slotlist.push(l)})):a.push({lib_type:l.lib_type,platform:l.platform,slotlist:[l],contype:!0,searchSlot:""})})),a},J=l=>{let a=[],t=[],e=[];return l.map((l=>{1===l.platform&&t.push(l),2===l.platform&&e.push(l)})),a=[...V(t),...V(e)],a},M=()=>{(async()=>{const l=await C(),{data:t}=l;a.tableData=J(k(t))})()};return o((()=>{M()})),(l,t)=>{const e=s("el-table-column"),o=s("el-input"),k=s("el-button"),C=s("el-table"),V=s("el-dialog");return d(),n("div",null,[i("div",g,[i("div",S,[D,(d(!0),n(p,null,c(r(a).tableData,((l,a)=>(d(),n(p,null,[i("div",U,[i("div",j,[1===l.platform?(d(),n("span",A,"Android")):_("v-if",!0),2===l.platform?(d(),n("span",I,"iOS")):_("v-if",!0)]),i("div",N,[i("span",{textContent:v(l.lib_type)},null,8,O)]),i("div",{class:"col-auto-8 tdbox flex cp",onClick:a=>(l=>{l.contype=!l.contype})(l)},[K,i("div",{class:h(["ml-10 glyphicon glyphicon-triangle-bottom active",{"glyphicon-triangle-top":l.contype}])},null,2)],8,P)]),l.contype?(d(),w(x,{key:0,name:"slide-fade"},{default:f((()=>[u(C,{data:l.slotlist,border:"",ref_for:!0,ref:"wwTable"},{default:f((()=>[_(' <el-table-column type="expand"></el-table-column> '),u(e,{label:"二级分类"},{default:f((l=>[i("span",null,v(l.row.two_sort),1)])),_:1}),u(e,{label:"PKG",width:"200"},{default:f((l=>[i("div",q,[u(o,{modelValue:l.row.pkg_name,"onUpdate:modelValue":a=>l.row.pkg_name=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])])])),_:1}),u(e,{width:"300",label:"Slot ID"},{default:f((l=>[i("div",z,[u(o,{style:{width:"100px"},modelValue:l.row.searchSlot,"onUpdate:modelValue":a=>l.row.searchSlot=a,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"]),i("i",{class:"cp icon el-icon-search",onClick:a=>{l.row.searchSlot}},null,8,E),i("span",F,v(l.row.slot_id),1)])])),_:1}),u(e,{label:"Slot Name"},{default:f((l=>[i("span",null,v(l.row.slot_name),1)])),_:1}),u(e,{label:"App Name"},{default:f((l=>[i("span",null,v(l.row.app_name),1)])),_:1}),u(e,{label:"操作"},{default:f((l=>[u(k,{class:"ml-10",type:"primary",onClick:a=>{l.row}},{default:f((()=>[G])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data"])])),_:2},1024)):_("v-if",!0)],64)))),256)),u(V,{title:"提示",modelValue:r(m),"onUpdate:modelValue":t[2]||(t[2]=l=>b(m)?m.value=l:m=l),width:"30%"},{default:f((()=>[L,_(" ff474d3b "),i("span",{textContent:v(r(y).data.id)},null,8,R),i("span",T,[u(k,{onClick:t[0]||(t[0]=l=>(r(y),m.value=!1,void(y.data.id="")))},{default:f((()=>[B])),_:1}),u(k,{type:"primary",onClick:t[1]||(t[1]=l=>{return a=r(y),m.value=!1,a.slot_id=a.data.id,void(y.data.id="");var a})},{default:f((()=>[H])),_:1})])])),_:1},8,["modelValue"])])])])}}}),[["__scopeId","data-v-6e734384"]]);export{J as default};
